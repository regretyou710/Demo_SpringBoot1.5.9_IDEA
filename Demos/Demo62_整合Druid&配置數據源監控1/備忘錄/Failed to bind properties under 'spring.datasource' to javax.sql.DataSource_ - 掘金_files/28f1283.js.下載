(window.webpackJsonp=window.webpackJsonp||[]).push([[52,2,4,7,8,9,19,153,156,166,167,168,169,170,171,203],{1004:function(t,e,n){"use strict";n(927)},1006:function(t,e,n){"use strict";n.r(e);n(138),n(45),n(24);var r=n(5),o=n(26),c=n(873),l=n(1099),d=n(1105),h=n.n(d),f=n(1106),m=n.n(f),v=n(1123),_=n(1107),y=n.n(_),C=n(1108),w=n.n(C),O=n(1109),j=n.n(O),k=n(1110),T=n.n(k),x=n(1111),L=n.n(x),P=n(1116),S=n.n(P),E=n(964),A=n.n(E),I=n(1126),D=n(1103),M=n(4400),B=(n(70),n(15),n(52),n(69),n(39),n(22),n(23),n(136),n(11),n(6),n(14),n(44),n(55),n(1023)),html=n(4305),$=n(271);function R(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return H(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var N=1512*n(68).l;function V(t,e){var n;t.properties.src=Object($.e)((null===(n=t.properties)||void 0===n?void 0:n.src)||"",N,0,{supportWebP:e},"zoomInCrop"),t.properties.loading="lazy"}var F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.copyable,n=t.supportWebP,r=void 0!==n&&n;return function(t,n){var c,l,d="juejin",h=null===(c=n.frontmatter)||void 0===c?void 0:c.theme;Object.keys(A.a).includes(h)&&(d=h),null===(l=t.children)||void 0===l||l.unshift({type:"element",tagName:"style",children:[{type:"text",value:A.a[d].style}]});var f=0;Object(B.a)(t,"element",(function(t,n,c){var l;switch(t.properties||(t.properties={}),t.tagName){case"a":var p=t.properties||{},d=p.href||"";d&&!d.toString().startsWith("#")&&(p.target="_blank"),p.title=d;var h=t.children;if(h&&h[0]&&"text"===h[0].type){/^(https?:\/\/)?[-a-z0-9@:%._+~#=]{1,256}\.[a-z]{2,6}/i.test(h[0].value)&&(h[0].value=h[0].value.replace(/^https?:\/\//i,"").replace(/\/(.*)$/,(function(t){return t.length>12?"".concat(t.slice(0,12),"…"):t})))}Object(o.e)(d)&&(p.ref="nofollow noopener noreferrer",p.href=Object(o.h)(d)?Object(o.d)(d):d);break;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":t.properties["data-id"]="heading-".concat(f++);break;case"img":V(t,r);break;case"code":if(!c||"pre"!==c.tagName)return;t.properties.className=null!==(l=t.properties.className)&&void 0!==l?l:[];var m,v=t.properties.className;e&&!v.includes("language-mermaid")&&(v.push("copyable"),t.children.push(Object(html.a)("span.copy-code-btn",["复制代码"])));var _,y=R(v);try{for(y.s();!(_=y.n()).done;){var C=_.value;if("lang-"===C.slice(0,5)){m=C.slice(5);break}if("language-"===C.slice(0,9)){m=C.slice(9);break}}}catch(t){y.e(t)}finally{y.f()}m&&(t.properties.lang=m)}}))}},U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.supportWebP,n=void 0!==e&&e;return function(t){Object(B.a)(t,"element",(function(t){switch(t.properties||(t.properties={}),t.tagName){case"img":V(t,n)}}))}},Z=n(1117),z=n(8),G=n(1101),W=n(965),K=n(1118),Y=n.n(K),J=n(157),X=n(973),Q=n.n(X),tt=n(974),et=n.n(tt),nt=n(975),it=n.n(nt),ot=n(976),st=n.n(ot),at=(n(1119),n(19)),ct=Object(z.d)({components:{Viewer:l.b},data:function(){return{sanitize:W.c,commonPlugins:(component=this,[j()(),h()({languages:W.b,subset:W.a}),y()(),Object(v.a)(),w()(),L()(),m()({background:"rgba(0,0,0,0.7)"}),T()({test:o.e,internalProps:{target:"_blank"}}),Object(Z.viewer)({auditingBackground:component.$device.isMobile?et.a:Q.a,loadingBackground:component.$device.isMobile?st.a:it.a}),{remark:function(p){return p.use(G.b)}},Y()()])};var component},props:{markdown:{type:String},html:{type:String},copyable:{type:Boolean,default:!1},cachedHtml:{type:String,default:""},needLoginBeforeCopyCode:{type:Boolean,default:!1},isLogined:{type:Boolean,default:!1}},computed:{withoutViewer:function(){return!!this.cachedHtml||!this.markdown},supportWebP:function(){var t;return Object(at.j)(null===(t=this.$nuxt)||void 0===t?void 0:t.context)},sanitizedHtml:function(){return this.cachedHtml?-1===this.cachedHtml.indexOf("webp")||this.supportWebP?this.cachedHtml:Object(I.a)().use(U,{supportWebP:this.supportWebP}).processSync(this.cachedHtml):this.html?Object(I.a)().use(D.a).use(M.a,{subset:W.a,languages:W.b}).use(F,{copyable:this.copyable,supportWebP:this.supportWebP}).processSync(this.html):this.cachedHtml||""},plugins:function(){var t=this,e={viewerEffect:function(t){var e,n,o=t.file,c=t.markdownBody;n=(null==o?void 0:o.frontmatter)&&"string"!=typeof o.frontmatter?o.frontmatter:{};var l=document.createElement("style");return null===(e=c||document.head)||void 0===e||e.appendChild(l),Object(r.a)(regeneratorRuntime.mark((function t(){var e,r,o,c,d,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=null!==(e=n.highlight)&&void 0!==e?e:null===(r=A.a[n.theme])||void 0===r?void 0:r.highlight,d=null!==(o=S.a[c])&&void 0!==o?o:S.a.github,t.next=4,d().then((function(t){return t.default}));case 4:h=t.sent,l.innerHTML=h;case 6:case"end":return t.stop()}}),t)})))(),function(){l.remove()}},rehype:function(u){return u.use(F,{copyable:t.copyable,supportWebP:t.supportWebP})}};return this.commonPlugins.concat(e)},remarkRehypeOptions:function(){return{handlers:Object.assign({},G.a)}}},mounted:function(){var t=this;this.withoutViewer&&this.plugins.forEach((function(p){var e;null===(e=p.viewerEffect)||void 0===e||e.call(p,{markdownBody:t.$el})}))},methods:{onContentElementClick:function(t){var e;if(this.copyable){var n=t.target;if("copy-code-btn"===n.className){var text=n.textContent||"",r=n.parentNode,content=null===(e=null==r?void 0:r.textContent)||void 0===e?void 0:e.replace(new RegExp("\n?".concat(text,"$")),"");try{if(this.needLoginBeforeCopyCode&&!this.isLogined)return this.$requestLogin(),void this.$TEA("login_guide_click",{from:J.a.code});Object(c.a)(content||""),this.$alertMsg("代码复制成功")}catch(t){this.$error("代码复制失败")}}}}}}),lt=(n(977),n(30)),ut=Object(lt.a)(ct,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"article-content",on:{"!click":function(e){return t.onContentElementClick(e)}}},[!t.cachedHtml&&t.markdown?n("viewer",{attrs:{value:t.markdown,plugins:t.plugins,sanitize:t.sanitize,"remark-rehype":t.remarkRehypeOptions}}):n("div",{staticClass:"markdown-body",class:{cache:t.cachedHtml,html:t.html},domProps:{innerHTML:t._s(t.sanitizedHtml)}})],1)}),[],!1,null,null,null);e.default=ut.exports},1010:function(t,e,n){},1025:function(t,e,n){"use strict";n(954)},1026:function(t,e,n){"use strict";n(955)},1027:function(t,e,n){"use strict";n(956)},1029:function(t,e,n){},1033:function(t,e,n){},1034:function(t,e,n){},1035:function(t,e,n){},1036:function(t,e,n){},1041:function(t,e,n){"use strict";n(24);var r=n(5),o=n(48),c=n(1100),l=n(851),d=n(8),h=n(19),f=n(122),m=Object(d.d)({components:{Entry:c.a,XituSkeleton:l.a,LoginItem:function(){return n.e(39).then(n.bind(null,4396))}},props:["list","loading","emptyText","noEmptyIndication","user","fromPage","enableDislikeButton","enableTransferButton","loginItemIndex"],emits:["transfer","collection-delete"],fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.enableDislikeButton){e.next=2;break}return e.abrupt("return");case 2:if(!t.dislikeWhiteListUserIds){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,f.a.GetDislikeWhiteList();case 7:r=e.sent,o=null!==(n=r.user_ids)&&void 0!==n?n:[],t.dislikeWhiteListUserIds=o.reduce((function(t,e){return t[e]=!0,t}),{}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),t.dislikeWhiteListUserIds={},console.warn("get dislike whitelist err:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})))()},data:function(){return{dislikeWhiteListUserIds:void 0}},computed:{nodata:function(){return!this.noEmptyIndication&&!this.loading&&this.list&&0===this.list.length},isLoading:function(){var t,e=null===(t=this.$store.state.env)||void 0===t?void 0:t.ua;return!Object(h.i)(e)&&this.loading}},methods:{entryIsWhiteListed:function(t){var e,n,r;if(!this.dislikeWhiteListUserIds)return!0;var o=null===(e=t.author_user_info)||void 0===e?void 0:e.user_id;return null!==(r=null===(n=this.dislikeWhiteListUserIds)||void 0===n?void 0:n[o])&&void 0!==r&&r},fetchMoreIfConditionIsSatisfied:function(){Object(o.b)(this.$refs.list.$el)>-200&&this.$emit("should-fetch-more")},onEntryDeleted:function(t){this.$emit("deleted",t)},handleTransfer:function(t){this.$emit("transfer",t)},handleCollectionDelete:function(t){this.$emit("collection-delete",t)}},mounted:function(){var t=this,e=this.$getBean("eventBus");e.onVmLife(this,e.eventType.ROOT_CONTAINER_SCROLL,(function(){t.fetchMoreIfConditionIsSatisfied()})),Object(o.l)(this.$refs.list.$el,(function(){t.fetchMoreIfConditionIsSatisfied()}))}}),v=(n(1098),n(30)),component=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("xitu-skeleton",{ref:"list",staticClass:"entry-list list",attrs:{"tag-name":"transition-group",name:"entry-list",tag:"div"},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[t._l(t.list,(function(e,r){return n("li",{key:e.id,staticClass:"item",attrs:{"data-growing-container":"true","data-growing-title":"entryList"}},[n("entry",{attrs:{entry:e,index:r,fromPage:t.fromPage,isLastOne:r===t.list.length-1,"enable-dislike-button":t.enableDislikeButton&&!t.entryIsWhiteListed(e),"enable-transfer-button":t.enableTransferButton},on:{deleted:t.onEntryDeleted,transfer:t.handleTransfer,"collection-delete":t.handleCollectionDelete}}),t._v(" "),r+1!==t.loginItemIndex||t.user?t._e():n("LoginItem",{attrs:{text:"可定制个人专属的推荐内容列表"}})],1)})),t._v(" "),t.nodata?n("div",{staticClass:"empty text-muted"},[t._v("\n    "+t._s(t.emptyText||"列表为空")+"\n  ")]):t._e()],2)}),[],!1,null,"2bf301c8",null);e.a=component.exports},1042:function(t,e,n){"use strict";var r={props:["title","pure"]},o=(n(1137),n(30)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar-block",class:{pure:t.pure,shadow:!t.pure}},[t.pure?[t._t("default")]:[t.title?n("div",{staticClass:"block-title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),n("div",{staticClass:"block-body"},[t._t("default")],2)]],2)}),[],!1,null,"71f2d09e",null);e.a=component.exports},1050:function(t,e,n){"use strict";(function(t){n(120);var r=n(8),o=n(851),c=n(884),l=n(48),d=n(181);e.a=Object(r.d)({components:{XituSkeleton:o.a,NoData:c.a},props:{immediate:{type:Boolean,requried:!0,default:function(){return!1}},scrollEle:{type:null,requried:!1},length:{type:Number,required:!0,default:0},loading:{type:Boolean,required:!0,default:!1},hasMore:{type:Boolean,required:!0,default:!1},emptyText:{type:String,required:!1,default:""},noEmptyIndication:{type:Boolean,required:!1,default:!1}},emits:["loadMore"],setup:function(e,n){var o=n.emit,c=n.root,h=Object(r.q)(null),f=Object(r.q)([]),m=Object(r.a)((function(){return!e.noEmptyIndication&&!e.loading&&0===e.length})),v=Object(r.a)((function(){return 0===e.length&&e.loading}));Object(r.w)(h,(function(t){if(c.$device.isDesktop&&t){var e=Object(d.q)(_),n=Object(l.l)(t,_);f.value.push(n,e)}})),Object(r.l)((function(){f.value.forEach((function(t){try{t()}catch(t){console.error(t)}}))})),Object(r.m)((function(){t.nextTick((function(){var t;c.$device.isMobile&&e.scrollEle&&(null===(t=e.scrollEle)||void 0===t||t.addEventListener("scroll",_))}))})),Object(r.o)((function(){var t;c.$device.isMobile&&e.scrollEle&&(null===(t=e.scrollEle)||void 0===t||t.removeEventListener("scroll",_))}));var _=function(){var t;if(e.immediate&&e.hasMore&&!e.loading)if(e.scrollEle){var n=e.scrollEle,r=n.scrollTop;n.scrollHeight-r-n.offsetHeight<30&&o("loadMore")}else{Object(l.c)(null===(t=h.value)||void 0===t?void 0:t.firstElementChild,h.value)>-200&&o("loadMore")}};return{listEleRef:h,noData:m,initLoad:v}}})}).call(this,n(105))},1086:function(t,e,n){},1087:function(t,e,n){},1088:function(t,e,n){},1089:function(t,e,n){},1097:function(t,e,n){"use strict";n.d(e,"d",(function(){return f})),n.d(e,"a",(function(){return m})),n.d(e,"c",(function(){return _})),n.d(e,"b",(function(){return C}));n(24);var r=n(5),o=n(121),c=n(34),l=n(7),d=n(10),h=n(181);function f(t){var e=Object(h.j)({maxDurationMS:9e4}),n=e.stayDuration,f=e.isCancelled,m=e.cancel;function v(){return(v=Object(r.a)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!f.value){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,o.a.AddPointReport({growth_type:c.GrowthType.JScore,task_id:c.GrowthTaskID.ViewContent,item_id:e});case 5:(n=t.sent).err_no!==d.ERROR_NO.OK?console.warn("error reportViewContentJScore reason:".concat(n.err_msg)):m(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.warn("error reportViewContentJScore err:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}Object(l.y)((function(){n.value>=9e4&&function(t){v.apply(this,arguments)}(t)}))}function m(){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.AddPointReport({growth_type:c.GrowthType.JScore,task_id:c.GrowthTaskID.BindPhone,item_id:"0"});case 3:(e=t.sent).err_no!==d.ERROR_NO.OK&&console.warn("error reportBindPhoneJScore reason:".concat(e.err_msg)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn("error reportBindPhoneJScore err:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function _(){return y.apply(this,arguments)}function y(){return(y=Object(r.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.AddPointReport({growth_type:c.GrowthType.JScore,task_id:c.GrowthTaskID.UploadFavicon,item_id:"0"});case 3:(e=t.sent).err_no!==d.ERROR_NO.OK&&console.warn("error reportUploadAvatarJScore reason:".concat(e.err_msg)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn("error reportUploadAvatarJScore err:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function C(){return w.apply(this,arguments)}function w(){return(w=Object(r.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.AddPointReport({growth_type:c.GrowthType.JScore,task_id:c.GrowthTaskID.ModifyScreenName,item_id:"0"});case 3:(e=t.sent).err_no!==d.ERROR_NO.OK&&console.warn("error reportModifyScreenNameJScore reason:".concat(e.err_msg)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn("error reportModifyScreenNameJScore err:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}},1098:function(t,e,n){"use strict";n(1010)},1100:function(t,e,n){"use strict";n(120);var r=n(1153),o=n(867),c=n(857),l=n(271),d={name:"adEntry",props:["entry","index","showJscoreLevel"],components:{UserPopover:o.default,Thumb:c.a},computed:{visibleAdTag:function(){return this.entry.visibleAdTag},coverImage:function(){var t,e=(null===(t=this.entry)||void 0===t?void 0:t.imageUrl)||"";return Object(l.c)(e,{resizeWidth:360,resizeHeight:240})}},methods:{adEntryTeaClick:function(){this.$TEA("ad_web_timeline_click",{ad_timeline_position:this.index+1,ad_url:this.entry.url})},adEntryClick:function(){this.adEntryTeaClick(),window.open(this.entry.url,"_blank")},recordAdvertisementShow:function(t){this.$TEA("ad_web_timeline_show",{ad_timeline_position:this.index+1,ad_url:t.url})}},mounted:function(){this.recordAdvertisementShow(this.entry)}},h=(n(1144),n(30)),f=Object(h.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"advertisement",attrs:{"st:name":"link"},on:{click:t.adEntryClick}},[n("div",{staticClass:"meta-container"},[t.entry.item_user_info?n("div",{staticClass:"user-message",on:{click:function(e){return e.stopPropagation(),t.adEntryTeaClick(e)}}},[n("app-link",{staticClass:"userbox",attrs:{to:t.$userRoute(t.entry.item_user_info),blank:!0,"st:name":"user","st:state":t.entry.item_user_info.user_id}},[n("UserPopover",{attrs:{"use-id":t.entry.item_user_info.user_id,"show-jscore-level":t.showJscoreLevel}},[t._v("\n          "+t._s(t._f("username")(t.entry.item_user_info))+"\n        ")])],1)],1):t._e(),t._v(" "),n("div",{staticClass:"dividing"}),t._v(" "),n("div",{staticClass:"date"},[t._v(t._s(t.entry.createTime))])]),t._v(" "),t.visibleAdTag?n("div",{staticClass:"tag"},[t._v("广告")]):t._e(),t._v(" "),n("div",{staticClass:"main"},[n("div",{staticClass:"info-box",on:{click:function(e){return e.stopPropagation(),t.adEntryTeaClick(e)}}},[n("a",{staticClass:"title",attrs:{href:t.entry.url,target:"_blank"}},[t._v(t._s(t.entry.title))]),t._v(" "),n("a",{staticClass:"description",attrs:{href:t.entry.url,target:"_blank"}},[t._v("\n        "+t._s(t.entry.briefing)+"\n      ")])]),t._v(" "),t.coverImage?n("thumb",{staticClass:"thumb",attrs:{url:t.coverImage,width:360,height:240,alt:"「"+t.entry.title+"」封面"}}):t._e()],1)])}),[],!1,null,"2dfcd208",null).exports,m=(n(11),n(6),n(14),n(941)),v={props:["entry","index","showJscoreLevel"],data:function(){return{actionItem:{share:{active:!1}}}},components:{UserPopover:o.default},computed:{courseType:function(){var t,e;return 2===(null===(t=this.entry)||void 0===t||null===(e=t.base_info)||void 0===e?void 0:e.course_type)?"video":"book"},hasDiscount:function(){return this.entry.discount_rate>0},salePrice:function(){var t=this.entry.price,e=this.entry.discount_rate;return this.hasDiscount&&(t=Object(m.a)(t,e)),t}},methods:{recordAdvertisementClick:function(){var t;this.$TEA("ad_web_timeline_click",{ad_timeline_position:this.index+1,ad_url:"".concat(window.origin,"/book/").concat(null===(t=this.entry)||void 0===t?void 0:t.item_id)})},recordAdvertisementShow:function(t){this.$TEA("ad_web_timeline_show",{ad_timeline_position:this.index+1,ad_url:"".concat(window.origin,"/book/").concat(null==t?void 0:t.item_id)})}},mounted:function(){var t=this;this.recordAdvertisementShow(this.entry);var e=this.$getBean("eventBus");e.onVmLife(this,e.eventType.ROOT_CONTAINER_CLICK,(function(){Object.keys(t.actionItem).forEach((function(e){t.actionItem[e].active=!1}))}))}},_=(n(1145),Object(h.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:t.recordAdvertisementClick}},[n("app-link",{staticClass:"content-box",attrs:{to:t.$bookInfo(t.entry.bookId,t.courseType),blank:!0}},[n("div",{staticClass:"meta-container"},[t.entry.item_user_info?n("div",{staticClass:"user-message",on:{click:function(e){return e.stopPropagation(),t.recordAdvertisementClick(e)}}},[n("app-link",{staticClass:"userbox",attrs:{to:t.$userRoute(t.entry.item_user_info),blank:!0,"st:name":"user","st:state":t.entry.item_user_info.user_id}},[n("UserPopover",{attrs:{"user-id":t.entry.item_user_info.user_id,"show-jscore-level":t.showJscoreLevel}},[t._v("\n            "+t._s(t._f("username")(t.entry.item_user_info))+"\n          ")])],1)],1):t._e()]),t._v(" "),n("a",{staticClass:"tag",attrs:{href:"/course",target:"_blank"}},[t._v("小册")]),t._v(" "),n("div",{staticClass:"main-row"},[n("div",{staticClass:"main"},[n("div",{staticClass:"info-box"},[n("app-link",{staticClass:"title",attrs:{to:t.$bookInfo(t.entry.bookId,t.courseType),blank:!0}},[t._v("\n            "+t._s(t.entry.title)+"\n          ")]),t._v(" "),n("app-link",{staticClass:"description",attrs:{to:t.$bookInfo(t.entry.bookId,t.courseType),blank:!0}},[t._v("\n            "+t._s(t.entry.brief)+"\n          ")])],1)]),t._v(" "),n("div",{staticClass:"action-list"},[n("div",{staticClass:"item salecount"},[n("i"),t._v(" "),n("span",[t._v(t._s(t.entry.saleCount)+"人购买")])]),t._v(" "),n("div",{staticClass:"item price"},[n("i"),t._v(" "),0===t.entry.price?n("span",[t._v("免费")]):t.hasDiscount?n("span",[t._v("特价"+t._s(t.salePrice)+"元")]):n("span",[t._v("原价"+t._s(t.entry.price)+"元")])])])])])],1)}),[],!1,null,"3f3c999c",null).exports),y={props:["entry","index","showJscoreLevel"],components:{Thumb:c.a,UserPopover:o.default},computed:{title:function(){return this.entry.title},user:function(){var t=this.entry.user;return Object.assign({id:t.id},t)},date:function(){return this.entry.createTime},topic:function(){if(this.entry.topic){var t=Object.assign(this.entry.topic);return t.id=t.topicId,t}return!1},coverImage:function(){var t,e=(null===(t=this.entry)||void 0===t?void 0:t.imageUrl)||"";return Object(l.c)(e,{resizeWidth:360,resizeHeight:240})}},mounted:function(){this.recordAdvertisementShow(this.entry)},methods:{pinRoute:function(t){if(null!=t&&t.item_id)return{name:"pin",params:{id:t.item_id}}},recordAdvertisementClick:function(){var t;this.$TEA("ad_web_timeline_click",{ad_timeline_position:this.index+1,ad_url:"".concat(window.origin,"/pin/").concat(null===(t=this.entry)||void 0===t?void 0:t.item_id)})},recordAdvertisementShow:function(t){this.$TEA("ad_web_timeline_show",{ad_timeline_position:this.index+1,ad_url:"".concat(window.origin,"/pin/").concat(null==t?void 0:t.item_id)})}}},C=(n(1146),Object(h.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:t.recordAdvertisementClick}},[n("app-link",{staticClass:"content-box",attrs:{to:t.pinRoute(t.entry),blank:!0}},[n("div",{staticClass:"meta-container"},[t.entry.item_user_info?n("div",{staticClass:"user-message",on:{click:function(e){return e.stopPropagation(),t.recordAdvertisementClick(e)}}},[n("app-link",{staticClass:"userbox",attrs:{to:t.$userRoute(t.entry.item_user_info),blank:!0,"st:name":"user","st:state":t.entry.item_user_info.user_id}},[n("UserPopover",{attrs:{"user-id":t.entry.item_user_info.user_id,"show-jscore-level":t.showJscoreLevel}},[t._v("\n            "+t._s(t._f("username")(t.entry.item_user_info))+"\n          ")])],1)],1):t._e(),t._v(" "),n("div",{staticClass:"dividing"}),t._v(" "),n("div",{staticClass:"date"},[t._v(t._s(t.entry.createTime))])]),t._v(" "),n("a",{staticClass:"tag",attrs:{href:"/pins/explore",target:"_blank"}},[t._v("沸点")]),t._v(" "),n("div",{staticClass:"main"},[n("div",{staticClass:"info-box"},[n("app-link",{staticClass:"title",attrs:{to:t.pinRoute(t.entry),blank:!0}},[t._v("\n          "+t._s(t.title)+"\n        ")]),t._v(" "),n("app-link",{staticClass:"description",attrs:{to:t.pinRoute(t.entry),blank:!0}},[t._v("\n          "+t._s(t.entry.brief)+"\n        ")])],1),t._v(" "),t.coverImage?n("thumb",{staticClass:"thumb",attrs:{url:t.coverImage,width:360,height:240}}):t._e()],1)])],1)}),[],!1,null,"094d1f63",null).exports),w=n(66),O=n.n(w),j={article:"ArticleItem",advertisement:"AdEntry",book:"BookForTimeline",pin:"PinForTimeline"},k={inject:{showJscoreLevel:{from:"showJscoreLevelInEntry",default:!1}},props:{entry:{type:Object,required:!0},index:{type:Number},isLastOne:{type:Boolean,default:!1},enableDislikeButton:{type:Boolean,default:!1},enableTransferButton:{type:Boolean,default:!1},fromPage:String},data:function(){return{}},components:{ArticleItem:r.a,AdEntry:f,BookForTimeline:_,PinForTimeline:C,ArticleItemOld:function(){return n.e(148).then(n.bind(null,4460))}},computed:{componentName:function(){var t=this.entry.itemType||"article";return"article"===t&&this.$device.isMobile?"ArticleItemOld":j[t]||"ArticleItem"}},methods:{recordTea:function(){this.$TEA("article_timeline_click",{article_timeline_type:O()(this.entry,"category.category_url",""),article_id:this.entry.id,article_type:this.entry.type,category_id:O()(this.entry,"category.id",""),author_user_id:O()(this.entry,"author_user_info.user_id",""),author_user_level:O()(this.entry,"author_user_info.level","")})},onEntryDeleted:function(t){this.$emit("deleted",t)},handleTransfer:function(t){this.$emit("transfer",t)},handleCollectionDelete:function(t){this.$emit("collection-delete",t)}}},T=(n(1147),Object(h.a)(k,(function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.componentName,{tag:"component",attrs:{entry:t.entry,index:t.index,fromPage:t.fromPage,isLastOne:t.isLastOne,"enable-dislike-button":t.enableDislikeButton,"enable-transfer-button":t.enableTransferButton,"show-jscore-level":t.showJscoreLevel},on:{deleted:t.onEntryDeleted,"collection-delete":t.handleCollectionDelete,transfer:t.handleTransfer},nativeOn:{click:function(e){return t.recordTea(e)}}})}),[],!1,null,"5a9d6e8e",null));e.a=T.exports},1115:function(t,e,n){var map={"./locale":972,"./locale.js":972};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=1115},1137:function(t,e,n){"use strict";n(1029)},1138:function(t,e,n){t.exports=n.p+"img/realtime_qrcode.f1a7fba.png"},1139:function(t,e,n){t.exports=n.p+"img/article.9d13ff7.png"},1140:function(t,e,n){},1141:function(t,e,n){},1143:function(t,e,n){t.exports=function(){var t="undefined"!=typeof window,e="undefined"!=typeof navigator,n=t&&("ontouchstart"in window||e&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"];function i(t){var e=t.event,n=t.handler;(0,t.middleware)(e)&&n(e)}function r(t,e){var r=function(t){var e="function"==typeof t;if(!e&&"object"!=typeof t)throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:e?t:t.handler,middleware:t.middleware||function(t){return t},events:t.events||n,isActive:!(!1===t.isActive),detectIframe:!(!1===t.detectIframe)}}(e.value),o=r.handler,c=r.middleware,a=r.detectIframe;if(r.isActive){if(t["__v-click-outside"]=r.events.map((function(e){return{event:e,srcTarget:document.documentElement,handler:function(e){return function(t){var e=t.el,n=t.event,r=t.handler,o=t.middleware,c=n.path||n.composedPath&&n.composedPath();(c?c.indexOf(e)<0:!e.contains(n.target))&&i({event:n,handler:r,middleware:o})}({el:t,event:e,handler:o,middleware:c})}}})),a){var l={event:"blur",srcTarget:window,handler:function(e){return function(t){var e=t.el,n=t.event,r=t.handler,o=t.middleware;setTimeout((function(){var t=document.activeElement;t&&"IFRAME"===t.tagName&&!e.contains(t)&&i({event:n,handler:r,middleware:o})}),0)}({el:t,event:e,handler:o,middleware:c})}};t["__v-click-outside"]=[].concat(t["__v-click-outside"],[l])}t["__v-click-outside"].forEach((function(e){var n=e.event,i=e.srcTarget,r=e.handler;return setTimeout((function(){t["__v-click-outside"]&&i.addEventListener(n,r,!1)}),0)}))}}function o(t){(t["__v-click-outside"]||[]).forEach((function(t){return t.srcTarget.removeEventListener(t.event,t.handler,!1)})),delete t["__v-click-outside"]}var c=t?{bind:r,update:function(t,e){var n=e.value,i=e.oldValue;JSON.stringify(n)!==JSON.stringify(i)&&(o(t),r(t,{value:n}))},unbind:o}:{};return{install:function(t){t.directive("click-outside",c)},directive:c}}()},1144:function(t,e,n){"use strict";n(1033)},1145:function(t,e,n){"use strict";n(1034)},1146:function(t,e,n){"use strict";n(1035)},1147:function(t,e,n){"use strict";n(1036)},1153:function(t,e,n){"use strict";n(16),n(15),n(24);var r=n(5),o=(n(14),n(11),n(6),n(429),n(67)),c=(n(83),n(44),n(55),n(39),n(0)),l=n(84),d=n(7),h=n(4),f=n(271),m=n(25),v=n(856),_=n(905),y=n(66),C=n.n(y),w=n(857),O=n(931),j=n(867),k=n(158),T=n(17),x=n(77),L=n(275),P=n(1164),S=n(1165),E=n(8),A=n(1186),I=n.n(A),D=n(1187),M=n.n(D),B=Object(E.d)({emits:["transfer","delete"],components:{TransferIcon:I.a,DeleteIcon:M.a},setup:function(t,e){var n=e.emit;return{TransferIcon:I.a,DeleteIcon:M.a,onClickTransfer:function(){n("transfer")},onClickDelete:function(){n("delete")}}}}),$=(n(1188),n(30)),R=Object($.a)(B,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"collection-button-wrap"},[n("div",{staticClass:"common-button transfer-button",on:{click:function(e){return e.stopPropagation(),t.onClickTransfer(e)}}},[n("TransferIcon",{staticClass:"icon"}),t._v(" "),n("div",{staticClass:"text"},[t._v("转移")])],1),t._v(" "),n("div",{staticClass:"common-button delete-button",on:{click:function(e){return e.stopPropagation(),t.onClickDelete(e)}}},[n("DeleteIcon",{staticClass:"icon"}),t._v(" "),n("div",{staticClass:"text"},[t._v("删除")])],1)])}),[],!1,null,"67a1ea44",null).exports,H=n(10),N=n(1189),V=n.n(N),F=n(1190),U=n.n(F),Z=n(1191),z=n.n(Z),G=n(959),W=n(179);function K(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?K(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):K(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var J=Object(d.b)({components:{Thumb:w.a,UserPopover:j.default,AuditTag:O.a,DislikeButton:P.a,DislikeMenu:S.a,CollectionButtons:R,CommentIcon:V.a,LikedIcon:U.a,LikedIconActive:z.a},emits:["collection-delete","transfer","deleted"],props:["entry","index","fromPage","isLastOne","enableDislikeButton","enableTransferButton","showJscoreLevel"],data:function(){return{likeLock:Object(v.a)(),wechatDataUrl:"",actionItem:{share:{active:!1},more:{active:!1}},loginUserId:void 0,toogleSyncTeamBusy:!1,localSyncToTeamValue:null,showDislikeMenu:!1,cursorFlag:!1,isFirstVisit:!0}},computed:Y(Y({},Object(l.mapGetters)({user:h.USER})),{},{search_result_type:function(){var t,e,n,r,o=0,c=0,l=0;return(null===(t=this.entry.author_interact)||void 0===t?void 0:t.is_digg)&&(c=1),(null===(e=this.entry.author_interact)||void 0===e?void 0:e.is_collect)&&(l=1),String(null===(n=this.entry.author_interact)||void 0===n?void 0:n.user_id)===(null===(r=this.entry.article_info)||void 0===r?void 0:r.user_id)&&(o=1),{profile_search_is_post:o,profile_search_is_like:c,profile_search_is_collection:l}},viewsCount:function(){return this.entry.viewsCount>=1e4?(this.entry.viewsCount/1e4).toFixed(1)+"w":this.entry.viewsCount},searchWord:function(){var t;return null===(t=this.$route.params)||void 0===t?void 0:t.keyword},shouldHighlight:function(){return!!this.searchWord},isAudit:function(){var t,e;return(null===(e=null===(t=this.entry)||void 0===t?void 0:t.article_info)||void 0===e?void 0:e.audit_status)===x.a.AUDITING&&this.isMine},isAuditFail:function(){var t,e;return(null===(e=null===(t=this.entry)||void 0===t?void 0:t.article_info)||void 0===e?void 0:e.audit_status)===x.a.FAIL&&this.isMine},auditSuccess:function(){var t,e;return(null===(e=null===(t=this.entry)||void 0===t?void 0:t.article_info)||void 0===e?void 0:e.audit_status)===x.a.PASS},userId:function(){return this.entry.author_user_info&&this.entry.author_user_info.user_id},isPost:function(){return"post"===this.entry.type||!Object(_.b)(this.entry.id)},route:function(){return this.isPost?this.$columnRoute(this.entry):this.$entryPublicRoute(this.entry)},commentRoute:function(){return this.$entryPublicRoute(this.entry,"#comment")},isEntry:function(){return"entry"===this.entry.type},isVote:function(){return"vote"===this.entry.type},isMine:function(){var t=this.entry.user;return t&&this.user&&t.id===this.user.id},isDeletable:function(){return this.isMine&&(this.isPost||this.isEntry)},isAdmin:function(){return this.user&&"admin"===this.user.role},previewable:function(){return!1},original:function(){return!!this.entry.original},external:function(){return!(this.isPost||this.isVote)},unparsed:function(){return!1},date:function(){var t;return Object(m.l)(null===(t=this.entry)||void 0===t?void 0:t.createdAt)},liked:function(){return!!this.entry.liked},tagList:function(){return(this.entry.tags||[]).slice(0,3)},isActionListActive:function(){return this.actionItem.share.active||this.actionItem.more.active},coverImage:function(){var t,e,n=(null===(e=null===(t=this.entry)||void 0===t?void 0:t.article_info)||void 0===e?void 0:e.cover_image)||"";return Object(f.c)(n,{resizeWidth:360,resizeHeight:240})},userTeamId:function(){var t,e;return null===(e=null===(t=this.user)||void 0===t?void 0:t.tech_team)||void 0===e?void 0:e.org_id},userTeamAdmin:function(){var t;return(null===(t=this.user)||void 0===t?void 0:t.tech_team.role)===x.d.Admin},showSyncTeamBtn:function(){var t="0"!==this.userTeamId;return(t&&this.userTeamId===this.articleTeamId&&this.userTeamAdmin||this.isMine&&t||this.isMine&&this.hasSyncToTeam)&&this.auditSuccess},articleTeamId:function(){var t,e,n;return null===(n=null===(e=null===(t=this.entry)||void 0===t?void 0:t.org)||void 0===e?void 0:e.org_info)||void 0===n?void 0:n.org_id},hasSyncToTeam:function(){return null!==this.localSyncToTeamValue?this.localSyncToTeamValue:Boolean(this.articleTeamId&&"0"!==this.articleTeamId)},isMainPage:function(){return"timelineIndex"===this.$route.name},isNewIcon:function(){return this.$route.path.split("/").includes("collection")}}),methods:{handleTransfer:function(){this.$emit("transfer",this.entry)},handleDelete:function(){this.$emit("collection-delete",this.entry.article_id)},toggleDislikeMenu:function(t){this.showDislikeMenu=void 0!==t?t:!this.showDislikeMenu},onDislike:function(){this.showDislikeMenu=!1;var t=this.$getBean("eventBus");t.emit(t.eventType.HIDE_ENTRY_ITEM,this.entry),this.$TEA("item_dislike_click",this.getRecoTeaContent())},onBlockUser:function(){this.showDislikeMenu=!1;var t=this.$getBean("eventBus");t.emit(t.eventType.CONFIRM_BLOCK_USER,this.entry)},onBlockTags:function(t){this.showDislikeMenu=!1;var e=this.$getBean("eventBus");e.emit(e.eventType.BLOCK_ENTRY_TAGS,this.entry,t),this.$TEA("item_ban_tag_submit",{item_id:this.entry.article_id,item_tag_ids:t.map((function(t){return t.tag_id}))})},eventPage:function(){var t;switch(this.$route.name){case"timelineIndex":return L.a.HOME;case"tag":return L.a.TAB_DETEAIL;case"column":return L.a.ARTICLE_DETAIL_BOTTOM;case"user":return"search"===(null===(t=this.$route.params)||void 0===t?void 0:t.type)?13:7;case"collection":return L.a.COLUMN_DETAL;default:return}},eventPageForCreator:function(){var t,e=this.$route;switch(e.name){case"timelineIndex":return 1;case"tag":return 2;case"column":return 6;case"user":var n=null===(t=e.params)||void 0===t?void 0:t.type;if("posts"===n)return 7;if("likes"===n)return 10;if("search"===n)return 13;break;case"collection":return 11;case"columnDetail":return 12;default:return 0}},getRecoTeaContent:function(){var t,e,n,data=Object(L.b)(this.$route,this.eventPage(),this.entry,this.index+1,this.fromPage);return"collection"===this.$route.name?Object.assign(data,{catagory_id:null===(e=null===(t=this.entry)||void 0===t?void 0:t.category)||void 0===e?void 0:e.category_id,collection_list_id:this.$route.params.id}):"search"===(null===(n=this.$route.params)||void 0===n?void 0:n.type)?Object.assign(data,this.search_result_type):data},handleVisibleChange:function(t){t&&(L.f.apply(void 0,[t,this.$TEA,this.$route,this.eventPageForCreator(),this.entry,this.index+1].concat(Object(o.a)(Object.values(this.search_result_type)))),this.$TEA("item_display",this.getRecoTeaContent()))},handleRoute:function(){this.recordClick(),window.open(this.$router.resolve(this.route).href,"_blank")},toggleActivateActionItem:function(t){var e=this;Object.keys(this.actionItem).forEach((function(n){e.actionItem[n].active=t===n&&!e.actionItem[n].active}))},toggleLike:function(){var t=this;return this.user?this.user.isBindedPhone?(this.entry.liked||this.$TEA("like_action",{like_type:"post",like_parent_id:C()(this.entry,"category.id",""),author_user_id:C()(this.entry,"author_user_info.user_id",""),author_user_level:C()(this.entry,"author_user_info.level",""),like_status:1}),this.recordLike(),void this.likeLock.do((function(){return t.$ensureAuthorized().then((function(){return t.$store.dispatch(h.TOGGLE_LIKE_ENTRY,t.entry)})).catch((function(t){return console.warn("error toggle like err:",t)}))}))):this.$requestBindPhoneNumber(W.a.interact):this.$requestLogin()},toCommentRoute:function(){this.recordClick(),window.open(this.$router.resolve(this.commentRoute).href,"_blank")},gotoEditView:function(){if(this.isPost){var t=this.$getBean("editorBusiness").getColumnEntryEditUrl(this.entry);window.open(t,"_blank")}},gotoHideTimeline:function(){window.open("http://admin.juejin.id/content/timeline/hide?entryId=".concat(this.entry.id))},deleteEntry:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("删除文章后不可恢复，确定删除吗？")){e.next=3;break}return e.abrupt("return");case 3:return n=t.entry.id,e.prev=4,e.next=7,t.$store.dispatch(h.DELETE_ENTRY,n);case 7:return e.next=9,t.$store.commit("@/view/user/detailList/postList/DELETE",n);case 9:t.$alertMsg("删除成功"),t.$emit("deleted",n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),t.$error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})))()},toogleSyncTeam:function(){var t=this,label=this.hasSyncToTeam?"取消":"";this.$ensureAuthorized("login").then(Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.toogleSyncTeamBusy){e.next=2;break}return e.abrupt("return");case 2:if(window.confirm(t.hasSyncToTeam?"确定".concat(label,"同步文章到团队空间吗？"):"确定".concat(label,"同步文章吗？"))){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,t.toogleSyncTeamBusy=!0,e.next=9,Object(k.e)({item_id:t.entry.id,item_type:T.f.ArticleIdType,status:t.hasSyncToTeam?T.l.Delete:T.l.Normal});case 9:t.$alertMsg("文章".concat(label,"同步成功！")),t.localSyncToTeamValue=!t.hasSyncToTeam,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),t.$error(e.t0);case 16:return e.prev=16,t.toogleSyncTeamBusy=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[5,13,16,19]])}))))},recordShow:function(){if(this.isMainPage){var t=this.$getBean("eventBus"),rect=this.$refs.title.getBoundingClientRect();if(rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth)){var e={display_homefeed_type:this.$route.params.category||"recommended",display_homefeed_rank:this.$route.query.sort||"popular",display_homefeed_authorID:this.userId,display_homefeed_articleID:this.entry.article_id,display_homefeed_teamID:this.articleTeamId};this.$TEA("Homepage_display_article",e),t.off(t.eventType.ROOT_CONTAINER_SCROLL,this.recordShow)}}},recordClick:function(){if(this.isFirstVisit=!1,this.isMainPage&&localStorage.setItem("fromPage","mainPage"),"column"===this.$route.name&&localStorage.setItem("fromPage","bottomRecommend"),this.$TEA("item_click",this.getRecoTeaContent()),this.isMainPage){var t={display_homefeed_type:this.$route.params.category||"recommended",display_homefeed_rank:this.$route.query.sort||"popular",display_homefeed_authorID:this.userId,display_homefeed_articleID:this.entry.article_id,display_homefeed_teamID:this.articleTeamId};this.$TEA("Homepage_click_article",t)}},recordLike:function(){var content=this.getRecoTeaContent();if(content.action=this.entry.liked?2:1,this.$TEA("item_like_click",content),this.isMainPage){var t={display_homefeed_liketype:this.entry.liked?"nolike":"like",display_homefeed_type:this.$route.params.category||"recommended",display_homefeed_rank:this.$route.query.sort||"popular",display_homefeed_authorID:this.userId,display_homefeed_articleID:this.entry.article_id};this.$TEA("Homepage_like_article",t)}},recordUser:function(){if(this.isMainPage){var t={display_homefeed_type:this.$route.params.category||"recommended",display_homefeed_rank:this.$route.query.sort||"popular",display_homefeed_authorID:this.userId,display_homefeed_articleID:this.entry.article_id};this.$TEA("Homepage_click_PHP",t)}},recordTagClick:function(t){if(this.isMainPage&&(localStorage.setItem("fromPage","mainPage"),"a"===t.target.tagName.toLowerCase())){var e={display_homefeed_type:this.$route.params.category||"recommended",display_homefeed_rank:this.$route.query.sort||"popular",display_homefeed_authorID:this.userId,display_homefeed_articleID:this.entry.article_id};this.$TEA("Homepage_click_tag",e)}},handleMouseEnter:function(){this.cursorFlag=!0},handleMouseLeave:function(){this.cursorFlag=!1}},mounted:function(){var t=this,e=this.$getBean("eventBus");e.onVmLife(this,e.eventType.ROOT_CONTAINER_CLICK,(function(){Object.keys(t.actionItem).forEach((function(e){t.actionItem[e].active=!1}))})),this.recordShow(),e.onVmLife(this,e.eventType.ROOT_CONTAINER_SCROLL,this.recordShow)},watch:{showDislikeMenu:function(t){t&&this.$TEA("item_option_hover",this.getRecoTeaContent())}},setup:function(t){var e=Object(G.a)().openReportModal;return{onReportArticle:function(){return e(t.entry.article_id,H.IdType.ArticleIdType)}}}}),X=(n(1192),Object($.a)(J,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"visible-change",rawName:"v-visible-change.once",value:t.handleVisibleChange,expression:"handleVisibleChange",modifiers:{once:!0}}],staticClass:"entry",style:{marginBottom:t.isLastOne?"20px":"0"},attrs:{"data-entry-id":t.entry.id,"data-original-type":t.entry.article_info&&t.entry.article_info.original_type,"data-draft-id":t.entry.article_info&&t.entry.article_info.draft_id},on:{click:t.handleRoute,mouseenter:t.handleMouseEnter,mouseleave:t.handleMouseLeave}},[n("div",{staticClass:"meta-container"},[t.entry.user?n("app-link",{staticClass:"user-message",attrs:{to:t.$userRoute(t.entry.user),blank:!0},nativeOn:{click:function(e){return e.stopPropagation(),t.recordUser(e)}}},[n("UserPopover",{attrs:{"user-id":t.entry.user.user_id,"show-jscore-level":t.showJscoreLevel}},[t._v("\n        "+t._s(t._f("username")(t.entry.user))+"\n      ")])],1):t._e(),t._v(" "),n("div",{staticClass:"date"},[t._v(t._s(t.date))]),t._v(" "),t.tagList.length?n("div",{staticClass:"tag_list",on:{click:function(e){return e.stopPropagation(),t.recordTagClick(e)}}},t._l(t.tagList,(function(e){return n("app-link",{key:e.tag_id,staticClass:"tag",attrs:{to:t.$tagRoute(e.title),blank:!0}},[t._v("\n        "+t._s(e.tag_name)+"\n      ")])})),1):t._e()],1),t._v(" "),n("div",{staticClass:"content-wrapper",style:{borderBottom:t.isLastOne?"0":"1px solid rgba(228, 230, 235, 0.5)"}},[n("div",{staticClass:"content-main"},[n("div",{ref:"title",staticClass:"title-row",on:{click:function(e){return e.stopPropagation(),t.recordClick(e)}}},[t._t("top"),t._v(" "),t.isAudit||t.isAuditFail?n("AuditTag",{attrs:{type:t.isAudit?"wait":"fail"}}):t._e(),t._v(" "),!t.external||t.user||t.unparsed?t._e():n("a",{directives:[{name:"link",rawName:"v-link.blank",value:"/entry/"+t.entry.id,expression:"'/entry/' + entry.id",modifiers:{blank:!0}}],staticClass:"title",class:t.isNewIcon&&t.isFirstVisit?"title-collection":"",attrs:{title:t.entry.title}},[t.entry.author_interact?[n("div",{domProps:{innerHTML:t._s(t.entry.title)}})]:t.searchWord?[n("TextHighlight",{attrs:{enableHighlight:t.shouldHighlight,text:t.entry.title,keyword:t.searchWord,"highlight-class":"keyword"}})]:[t._v(t._s(t.entry.title))]],2),t._v(" "),t.external&&(t.user||t.unparsed)?n("a",{directives:[{name:"link",rawName:"v-link.external.blank",value:t.entry.originalUrl,expression:"entry.originalUrl",modifiers:{external:!0,blank:!0}}],staticClass:"title",class:t.isNewIcon&&t.isFirstVisit?"title-collection":"",attrs:{title:t.entry.title}},[t.entry.author_interact?[n("div",{domProps:{innerHTML:t._s(t.entry.title)}})]:t.searchWord?[n("TextHighlight",{attrs:{enableHighlight:t.shouldHighlight,text:t.entry.title,keyword:t.searchWord,"highlight-class":"keyword"}})]:[t._v(t._s(t.entry.title))]],2):t._e(),t._v(" "),t.external?t._e():n("app-link",{staticClass:"title",class:t.isNewIcon&&t.isFirstVisit?"title-collection":"",attrs:{to:t.route,blank:!0,title:t.entry.title}},[t.entry.author_interact?[n("div",{domProps:{innerHTML:t._s(t.entry.title)}})]:t.searchWord?[n("TextHighlight",{attrs:{enableHighlight:t.shouldHighlight,text:t.entry.title,keyword:t.searchWord,"highlight-class":"keyword"}})]:[t._v(t._s(t.entry.title))]],2)],2),t._v(" "),n("div",{staticClass:"abstract",on:{click:function(e){return e.stopPropagation(),t.recordClick(e)}}},[n("app-link",{attrs:{to:t.route,blank:!0}},[t.entry.author_interact?n("div",{domProps:{innerHTML:t._s(t.entry.abstract)}}):n("div",[t._v(t._s(t.entry.abstract))])])],1),t._v(" "),n("ul",{staticClass:"action-list jh-timeline-action-area",class:{active:t.isActionListActive}},[n("li",{staticClass:"item view"},[n("i"),t._v(" "),n("span",[t._v(t._s(t.viewsCount))])]),t._v(" "),n("li",{staticClass:"item like",class:{active:t.liked},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleLike(e)}}},[t.isNewIcon?n("div",{staticClass:"liked-wrap"},[t.liked?n("LikedIconActive",{staticClass:"liked-icon"}):n("LikedIcon",{staticClass:"liked-icon"})],1):n("i"),t._v(" "),n("span",[t._v("\n            "+t._s(t.entry.likedCount||"点赞")+"\n          ")])]),t._v(" "),n("li",{staticClass:"item comment",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toCommentRoute(e)}}},[t.isNewIcon?n("CommentIcon",{staticClass:"comment-icon"}):n("i"),t._v(" "),n("span",[t._v("\n            "+t._s(t.entry.commentsCount||"评论")+"\n          ")])],1),t._v(" "),t._t("more",[t.isDeletable||t.showSyncTeamBtn?n("li",{staticClass:"item more",class:{active:t.actionItem.more.active},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleActivateActionItem("more")}}},[n("i"),t._v(" "),n("ul",{staticClass:"more-list",style:{left:t.showSyncTeamBtn?t.hasSyncToTeam?"-53px":"-39px":"-19px"}},[t.isDeletable?[t.isPost?n("li",{staticClass:"item",on:{click:t.gotoEditView}},[t._v("编辑")]):t._e(),t._v(" "),n("li",{staticClass:"item",on:{click:t.deleteEntry}},[t._v("删除")])]:t._e(),t._v(" "),t.showSyncTeamBtn?n("li",{staticClass:"item",style:{width:t.showSyncTeamBtn?t.hasSyncToTeam?"126px":"96px":"auto"},on:{click:t.toogleSyncTeam}},[t._v("\n                "+t._s(t.hasSyncToTeam?"取消":"")+"同步到团队\n              ")]):t._e()],2)]):t._e()])],2)]),t._v(" "),t.coverImage?n("thumb",{staticClass:"thumb",attrs:{url:t.coverImage,width:120,height:80,alt:t.entry.title}}):t._e()],1),t._v(" "),t.enableTransferButton&&t.cursorFlag?n("CollectionButtons",{on:{transfer:t.handleTransfer,delete:t.handleDelete}}):t._e(),t._v(" "),t.enableDislikeButton&&!t.isMine?n("DislikeButton",{on:{"toggle-menu":function(e){t.showDislikeMenu=e},dislike:t.onDislike}},[n("Transition",{attrs:{name:"fade"}},[t.showDislikeMenu?n("DislikeMenu",{attrs:{entry:t.entry},on:{dislike:t.onDislike,report:t.onReportArticle,"block-user":t.onBlockUser,"block-tags":t.onBlockTags}}):t._e()],1)],1):t._e()],1)}),[],!1,null,"2be60f5a",null));e.a=X.exports},1157:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{d:"M14.3019 3.69678L8.99862 9.00006L3.69531 14.3034",stroke:"#8A919F","stroke-width":"1.5","stroke-linecap":"round"}}),n("path",{attrs:{d:"M3.69531 3.69678L8.99861 9.00006L14.3019 14.3034",stroke:"#8A919F","stroke-width":"1.5","stroke-linecap":"round"}})]))}}},1164:function(t,e,n){"use strict";var r=n(8),o=n(1183),c=n.n(o),l=Object(r.d)({emits:["dislike","toggle-menu"],components:{IconClose:c.a},setup:function(t,e){var n,o=e.root,c=e.emit,l=Object(r.a)((function(){return o.$device.isMobile})),d=Object(r.a)((function(){var t;return!!(null===(t=o.$store.state.auth.user)||void 0===t?void 0:t.user_id)}));return{onClickDislike:function(){l.value?d.value?c("toggle-menu"):c("dislike"):d.value||c("dislike")},onMouseEnter:function(){l.value||d.value&&(n=window.setTimeout((function(){return c("toggle-menu",!0)}),300))},onMouseLeave:function(){l.value||d.value&&(clearTimeout(n),c("toggle-menu",!1))}}}}),d=(n(1184),n(30)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dislike-button",on:{click:function(e){return e.stopPropagation(),t.onClickDislike(e)},mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave}},[n("IconClose",{staticClass:"icon-close"}),t._v(" "),t._t("default")],2)}),[],!1,null,"18e57856",null);e.a=component.exports},1165:function(t,e,n){"use strict";n(16),n(15),n(11),n(6),n(14);var r=n(0),o=n(9),c=n(8),l=n(177);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f=Object(c.d)({components:{BTooltip:l.Tooltip},props:{entry:{type:Object,required:!0}},emits:["dislike","block-user","block-tags","report"],setup:function(t,e){var n,r,l=e.emit,d=e.root,f=Object(c.a)((function(){return d.$device.isMobile})),m=Object(c.a)((function(){var e,n;return null===(n=null===(e=t.entry)||void 0===e?void 0:e.author_user_info)||void 0===n?void 0:n.user_name})),v=Object(c.q)(null!==(r=null===(n=t.entry.tags)||void 0===n?void 0:n.map((function(t){return h(h({},t),{},{selected:!1})})))&&void 0!==r?r:[]),_=Object(c.q)(!1),y=Object(c.a)((function(){return v.value.every((function(t){return!t.selected}))}));return{tags:v,showTagList:_,username:m,isMobile:f,onClickDislike:function(){l("dislike")},onClickBlockUser:function(){l("block-user")},onClickBlockTags:function(){l("block-tags",v.value.filter((function(t){return t.selected})))},onClickReport:function(){l("report")},toggleTagSelected:function(t,e){o.default.set(v.value,e,h(h({},t),{},{selected:!t.selected}))},disableBtnBlockTag:y}}}),m=(n(1185),n(30)),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dislike-menu",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"menu-item",on:{click:t.onClickDislike}},[n("span",{staticClass:"menu-icon icon-dislike"}),t._v(" "),n("span",{staticClass:"menu-text"},[t._v("不感兴趣")])]),t._v(" "),n("div",{staticClass:"menu-item",on:{click:t.onClickBlockUser}},[n("span",{staticClass:"menu-icon icon-block-user"}),t._v(" "),n("BTooltip",{staticClass:"tooltip",attrs:{placement:"top",disabled:t.isMobile||(t.username||"").length<=6,content:"屏蔽作者："+t.username}},[n("span",{staticClass:"menu-text"},[t._v("屏蔽作者："+t._s(t.username))])])],1),t._v(" "),n("div",{staticClass:"menu-item",class:{active:t.showTagList},on:{click:function(e){t.showTagList=!t.showTagList}}},[n("span",{staticClass:"menu-icon icon-block-tag"}),t._v(" "),n("span",{staticClass:"menu-text"},[t._v("屏蔽标签")]),t._v(" "),n("span",{staticClass:"menu-icon icon-arrow",class:{active:t.showTagList}})]),t._v(" "),t.showTagList?n("div",{staticClass:"tags-row"},[n("div",{staticClass:"tag-list"},t._l(t.tags,(function(e,r){return n("span",{key:e.tag_id,staticClass:"tag-item",class:{active:e.selected},on:{click:function(n){return t.toggleTagSelected(e,r)}}},[t._v("\n        "+t._s(e.tag_name)+"\n      ")])})),0),t._v(" "),n("button",{staticClass:"btn-block-tag",attrs:{disabled:t.disableBtnBlockTag},on:{click:t.onClickBlockTags}},[t._v("\n      确定屏蔽\n    ")])]):t._e(),t._v(" "),t.isMobile?t._e():n("div",{staticClass:"menu-item",on:{click:t.onClickReport}},[n("span",{staticClass:"menu-icon icon-report"}),t._v(" "),n("span",{staticClass:"menu-text"},[t._v("举报")])])])}),[],!1,null,"552726da",null);e.a=component.exports},1183:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{d:"M1.70538 11.7191C1.52399 11.899 1.22992 11.899 1.04853 11.7191L1.03125 11.7019C0.849866 11.522 0.84987 11.2302 1.03125 11.0502L10.2956 1.85884C10.477 1.67889 10.7711 1.67889 10.9525 1.85885L10.9697 1.876C11.1511 2.05596 11.1511 2.34773 10.9697 2.52769L1.70538 11.7191Z"}}),n("path",{attrs:{d:"M1.0828 2.48943C0.903312 2.30758 0.904276 2.01369 1.08495 1.83302L1.10216 1.8158C1.28284 1.63513 1.5748 1.63609 1.75428 1.81794L10.9104 11.0949C11.0898 11.2767 11.0889 11.5706 10.9082 11.7513L10.891 11.7685C10.7103 11.9492 10.4183 11.9482 10.2389 11.7664L1.0828 2.48943Z"}})]))}}},1184:function(t,e,n){"use strict";n(1086)},1185:function(t,e,n){"use strict";n(1087)},1186:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{d:"M10.5 4.75C10.9142 4.75 11.25 4.41421 11.25 4C11.25 3.58579 10.9142 3.25 10.5 3.25V4.75ZM1.5 4L0.96967 3.46967C0.755171 3.68417 0.691005 4.00676 0.80709 4.28701C0.923176 4.56727 1.19665 4.75 1.5 4.75L1.5 4ZM4.53033 2.03033C4.82322 1.73744 4.82322 1.26256 4.53033 0.96967C4.23744 0.676777 3.76256 0.676777 3.46967 0.96967L4.53033 2.03033ZM10.5 3.25H1.5V4.75H10.5V3.25ZM2.03033 4.53033L4.53033 2.03033L3.46967 0.96967L0.96967 3.46967L2.03033 4.53033Z",fill:"#8A919F"}}),n("path",{attrs:{d:"M1.5 7.25C1.08579 7.25 0.75 7.58579 0.75 8C0.75 8.41421 1.08579 8.75 1.5 8.75V7.25ZM10.5 8L11.0303 8.53033C11.2448 8.31583 11.309 7.99324 11.1929 7.71299C11.0768 7.43273 10.8033 7.25 10.5 7.25V8ZM7.46967 9.96967C7.17678 10.2626 7.17678 10.7374 7.46967 11.0303C7.76256 11.3232 8.23744 11.3232 8.53033 11.0303L7.46967 9.96967ZM1.5 8.75H10.5V7.25H1.5V8.75ZM9.96967 7.46967L7.46967 9.96967L8.53033 11.0303L11.0303 8.53033L9.96967 7.46967Z",fill:"#8A919F"}})]))}}},1187:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.86625 1.62409H10.5475C10.7998 1.62409 11.0043 1.82858 11.0043 2.08084V2.96284C11.0043 3.21509 10.7998 3.41959 10.5475 3.41959H1.45675C1.2045 3.41959 1 3.21509 1 2.96284V2.08084C0.999803 1.95964 1.04786 1.84335 1.13356 1.75765C1.21926 1.67195 1.33555 1.62389 1.45675 1.62409H4.1275V1.25009C4.1275 0.830088 4.471 0.75 4.894 0.75H7.09675C7.51975 0.75 7.86625 0.830088 7.86625 1.25009V1.62409ZM2.41442 4.41952H9.58817C9.71921 4.41957 9.84391 4.4759 9.93058 4.57419C10.0172 4.67248 10.0575 4.80326 10.0412 4.93327L9.30617 10.4998C9.24922 10.9487 8.86773 11.2856 8.41517 11.2865H3.58742C3.13628 11.2837 2.75693 10.9473 2.70017 10.4998L1.96442 4.93327C1.94837 4.80382 1.98835 4.67368 2.07429 4.57556C2.16024 4.47744 2.28398 4.42067 2.41442 4.41952Z",fill:"#8A919F"}})]))}}},1188:function(t,e,n){"use strict";n(1088)},1189:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.30136 9.11421L1.30019 2.45191C1.30024 1.6778 1.92779 1.05019 2.70191 1.05019H11.3989C12.1731 1.05019 12.8006 1.67785 12.8006 2.452L12.8018 9.1144C12.8017 9.8885 12.1742 10.516 11.4001 10.516H9.13225C8.97329 10.516 8.81862 10.5675 8.69142 10.6629L5.65162 12.9406C5.62173 12.9598 5.58148 12.9444 5.57209 12.91L5.15416 11.0869C5.07758 10.7528 4.78033 10.516 4.43761 10.516H2.70308C1.92893 10.516 1.30136 9.88836 1.30136 9.11421ZM2.70191 0C1.34776 0 0.25 1.09776 0.25 2.45191L0.25117 9.1144C0.25122 10.4685 1.34896 11.5662 2.70308 11.5662H4.18661L4.54953 13.1495L4.55107 13.1558C4.73515 13.9153 5.62879 14.248 6.26458 13.7937L9.23719 11.5662H11.4001C12.7542 11.5662 13.852 10.4684 13.852 9.11421L13.8508 2.45182C13.8508 1.09771 12.753 0 11.3989 0H2.70191ZM3.78612 6.91404C4.35027 6.91404 4.8076 6.45671 4.8076 5.89257C4.8076 5.32842 4.35027 4.87109 3.78612 4.87109C3.22198 4.87109 2.76465 5.32842 2.76465 5.89257C2.76465 6.45671 3.22198 6.91404 3.78612 6.91404ZM7.98631 5.89257C7.98631 6.45671 7.52898 6.91404 6.96483 6.91404C6.40069 6.91404 5.94336 6.45671 5.94336 5.89257C5.94336 5.32842 6.40069 4.87109 6.96483 4.87109C7.52898 4.87109 7.98631 5.32842 7.98631 5.89257ZM10.1484 6.91404C10.7126 6.91404 11.1699 6.45671 11.1699 5.89257C11.1699 5.32842 10.7126 4.87109 10.1484 4.87109C9.58428 4.87109 9.12695 5.32842 9.12695 5.89257C9.12695 6.45671 9.58428 6.91404 10.1484 6.91404Z",fill:"#515767"}})]))}}},1190:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.56162 1.16952C7.66569 1.09661 7.78195 1.06124 7.88247 1.0912C7.97653 1.11923 8.23851 1.25916 8.50988 1.96799C8.64419 2.31881 8.9356 3.2424 8.42155 5.05431C8.29751 5.49152 8.61394 5.95303 9.09259 5.95971L12.492 6.00716L12.492 6.00721H12.4991C12.6049 6.00721 12.7228 6.01986 12.8134 6.05898C12.8544 6.07671 12.8815 6.09639 12.8999 6.116C12.9166 6.13375 12.9368 6.16247 12.9515 6.21636C12.9848 6.33784 13.0228 6.74712 12.9473 7.42262C12.874 8.07857 12.698 8.94479 12.341 9.9598C12.0424 10.8088 11.6601 11.5292 11.0684 12.4879C11.0558 12.5052 11.0462 12.5197 11.0418 12.5265L11.0404 12.5285C11.0292 12.5454 11.0242 12.5531 11.018 12.5618C11.0076 12.5764 11.0018 12.582 10.9983 12.585C10.996 12.587 10.9908 12.5912 10.9777 12.5959C10.9638 12.6009 10.9311 12.61 10.8706 12.61H4.56278L4.56373 5.58489C4.87126 5.41901 5.19881 5.20128 5.54112 4.84059C5.93883 4.42152 6.33789 3.8294 6.76254 2.94183C6.84974 2.75957 6.91745 2.55962 6.97574 2.37762C6.99264 2.32486 7.0087 2.27379 7.02438 2.22393L7.02439 2.22389C7.066 2.09158 7.10495 1.96776 7.14985 1.84312C7.2758 1.49352 7.40247 1.28101 7.56162 1.16952ZM9.45205 1.60729C9.13229 0.772086 8.70208 0.282772 8.17063 0.124374C7.64564 -0.0320981 7.20308 0.188912 6.98278 0.343248C6.55169 0.64525 6.33837 1.11908 6.20071 1.5012C6.14817 1.64705 6.10002 1.80016 6.05661 1.93824C6.0422 1.98405 6.02832 2.02821 6.01496 2.0699C5.95791 2.24804 5.90763 2.39115 5.85248 2.50643C5.45683 3.3334 5.1121 3.8271 4.80935 4.14611C4.51322 4.45815 4.23983 4.6219 3.9473 4.76821C3.71095 4.88641 3.55494 5.12906 3.55491 5.40159L3.55388 12.9125C3.55383 13.3026 3.87002 13.6188 4.26008 13.6188H10.8706C11.2097 13.6188 11.4663 13.5113 11.6519 13.3535C11.7387 13.2797 11.7988 13.2043 11.8387 13.1484C11.8556 13.1248 11.8704 13.1025 11.8786 13.09L11.8813 13.0859L11.8826 13.0839L11.8955 13.0685L11.9142 13.0382C12.5304 12.0414 12.9578 11.247 13.2927 10.2945C13.6745 9.20895 13.8679 8.26811 13.9499 7.5347C14.0297 6.82084 14.009 6.25845 13.9246 5.95014C13.805 5.51285 13.5104 5.26112 13.2134 5.13284C12.9385 5.01407 12.661 4.99859 12.5028 4.99836L9.49071 4.95631C9.92962 3.15791 9.64796 2.11902 9.45205 1.60729ZM0.000800636 5.46783C-0.0181914 5.0652 0.303128 4.72836 0.706212 4.72836H1.75264C2.14266 4.72836 2.45883 5.04454 2.45883 5.43456V12.9442C2.45883 13.3342 2.14266 13.6504 1.75264 13.6504H1.06044C0.68335 13.6504 0.372791 13.3541 0.355024 12.9775L0.000800636 5.46783Z",fill:"#515767"}})]))}}},1191:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.45205 1.60729C9.13229 0.772086 8.70208 0.282772 8.17063 0.124374C7.64564 -0.0320981 7.20308 0.188912 6.98278 0.343248C6.55169 0.64525 6.33837 1.11908 6.20071 1.5012C6.14817 1.64704 6.10002 1.80016 6.05661 1.93823L6.05661 1.93824L6.05657 1.93835L6.05648 1.93865C6.04212 1.98432 6.02828 2.02834 6.01496 2.0699C5.95791 2.24804 5.90763 2.39115 5.85248 2.50643C5.45683 3.3334 5.1121 3.8271 4.80935 4.14611C4.51322 4.45815 4.23983 4.6219 3.9473 4.76821C3.71095 4.88641 3.55494 5.12906 3.55491 5.40159L3.55388 12.9125C3.55383 13.3026 3.87002 13.6188 4.26008 13.6188H10.8706C11.2097 13.6188 11.4663 13.5113 11.6519 13.3535C11.7388 13.2797 11.7988 13.2043 11.8387 13.1484C11.8556 13.1248 11.8704 13.1025 11.8786 13.09L11.8813 13.0859L11.8826 13.0839L11.8955 13.0685L11.9142 13.0382C12.5304 12.0414 12.9578 11.247 13.2927 10.2945C13.6745 9.20895 13.8679 8.26811 13.9499 7.5347C14.0297 6.82084 14.009 6.25845 13.9246 5.95014C13.805 5.51285 13.5104 5.26112 13.2134 5.13284C12.9385 5.01407 12.661 4.99859 12.5028 4.99836L9.49071 4.95631C9.92962 3.15791 9.64796 2.11902 9.45205 1.60729ZM0.000800636 5.46783C-0.0181914 5.0652 0.303128 4.72836 0.706212 4.72836H1.75264C2.14266 4.72836 2.45883 5.04454 2.45883 5.43456V12.9442C2.45883 13.3342 2.14266 13.6504 1.75264 13.6504H1.06044C0.68335 13.6504 0.372791 13.3541 0.355024 12.9775L0.000800636 5.46783Z",fill:"#1E80FF"}})]))}}},1192:function(t,e,n){"use strict";n(1089)},1214:function(t,e,n){},1215:function(t,e,n){},1226:function(t,e,n){},1227:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.56162 2.16952C8.66569 2.09661 8.78195 2.06124 8.88247 2.0912C8.97653 2.11923 9.23851 2.25916 9.50988 2.96799C9.64419 3.31881 9.9356 4.2424 9.42155 6.05431C9.29751 6.49152 9.61394 6.95303 10.0926 6.95971L13.492 7.00716L13.492 7.00721H13.4991C13.6049 7.00721 13.7228 7.01986 13.8134 7.05898C13.8544 7.07671 13.8815 7.09639 13.8999 7.116C13.9166 7.13375 13.9368 7.16247 13.9515 7.21636C13.9848 7.33784 14.0228 7.74712 13.9473 8.42262C13.874 9.07857 13.698 9.94479 13.341 10.9598C13.0424 11.8088 12.6601 12.5292 12.0684 13.4879C12.0558 13.5052 12.0462 13.5197 12.0418 13.5265L12.0404 13.5285C12.0292 13.5454 12.0242 13.5531 12.018 13.5618C12.0076 13.5764 12.0018 13.582 11.9983 13.585C11.996 13.587 11.9908 13.5912 11.9777 13.5959C11.9638 13.6009 11.9311 13.61 11.8706 13.61H5.56278L5.56373 6.58489C5.87126 6.41901 6.19881 6.20128 6.54112 5.84059C6.93883 5.42152 7.33789 4.8294 7.76254 3.94183C7.84974 3.75957 7.91745 3.55962 7.97574 3.37762C7.99264 3.32486 8.0087 3.27379 8.02438 3.22393L8.02439 3.22389C8.066 3.09158 8.10495 2.96776 8.14985 2.84312C8.2758 2.49352 8.40247 2.28101 8.56162 2.16952ZM10.452 2.60729C10.1323 1.77209 9.70208 1.28277 9.17063 1.12437C8.64564 0.967902 8.20308 1.18891 7.98278 1.34325C7.55169 1.64525 7.33837 2.11908 7.20071 2.5012C7.14817 2.64705 7.10002 2.80016 7.05661 2.93824C7.0422 2.98405 7.02832 3.02821 7.01496 3.0699C6.95791 3.24804 6.90763 3.39115 6.85248 3.50643C6.45683 4.3334 6.1121 4.8271 5.80935 5.14611C5.51322 5.45815 5.23983 5.6219 4.9473 5.76821C4.71095 5.88641 4.55494 6.12906 4.55491 6.40159L4.55388 13.9125C4.55383 14.3026 4.87002 14.6188 5.26008 14.6188H11.8706C12.2097 14.6188 12.4663 14.5113 12.6519 14.3535C12.7387 14.2797 12.7988 14.2043 12.8387 14.1484C12.8556 14.1248 12.8704 14.1025 12.8786 14.09L12.8813 14.0859L12.8826 14.0839L12.8955 14.0685L12.9142 14.0382C13.5304 13.0414 13.9578 12.247 14.2927 11.2945C14.6745 10.209 14.8679 9.26811 14.9499 8.5347C15.0297 7.82084 15.009 7.25845 14.9246 6.95014C14.805 6.51285 14.5104 6.26112 14.2134 6.13284C13.9385 6.01407 13.661 5.99859 13.5028 5.99836L10.4907 5.95631C10.9296 4.15791 10.648 3.11902 10.452 2.60729ZM1.0008 6.46783C0.981809 6.0652 1.30313 5.72836 1.70621 5.72836H2.75264C3.14266 5.72836 3.45883 6.04454 3.45883 6.43456V13.9442C3.45883 14.3342 3.14266 14.6504 2.75264 14.6504H2.06044C1.68335 14.6504 1.37279 14.3541 1.35502 13.9775L1.0008 6.46783Z"}})]))}}},1228:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.452 2.60729C10.1323 1.77209 9.70208 1.28277 9.17063 1.12437C8.64564 0.967902 8.20308 1.18891 7.98278 1.34325C7.55169 1.64525 7.33837 2.11908 7.20071 2.5012C7.14817 2.64704 7.10003 2.80015 7.05661 2.93822L7.05661 2.93824C7.0422 2.98405 7.02832 3.02821 7.01496 3.0699C6.95791 3.24804 6.90763 3.39115 6.85248 3.50643C6.45683 4.3334 6.1121 4.8271 5.80935 5.14611C5.51322 5.45815 5.23983 5.6219 4.9473 5.76821C4.71095 5.88641 4.55494 6.12906 4.55491 6.40159L4.55388 13.9125C4.55383 14.3026 4.87002 14.6188 5.26008 14.6188H11.8706C12.2097 14.6188 12.4663 14.5113 12.6519 14.3535C12.7387 14.2797 12.7988 14.2043 12.8387 14.1484C12.8556 14.1248 12.8704 14.1025 12.8786 14.09L12.8813 14.0859L12.8826 14.0839L12.8955 14.0685L12.9142 14.0382C13.5304 13.0414 13.9578 12.247 14.2927 11.2945C14.6745 10.209 14.8679 9.26811 14.9499 8.5347C15.0297 7.82084 15.009 7.25845 14.9246 6.95014C14.805 6.51285 14.5104 6.26112 14.2134 6.13284C13.9385 6.01407 13.661 5.99859 13.5028 5.99836L10.4907 5.95631C10.9296 4.15791 10.648 3.11902 10.452 2.60729ZM1.0008 6.46783C0.981809 6.0652 1.30313 5.72836 1.70621 5.72836H2.75264C3.14266 5.72836 3.45883 6.04454 3.45883 6.43456V13.9442C3.45883 14.3342 3.14266 14.6504 2.75264 14.6504H2.06044C1.68335 14.6504 1.37279 14.3541 1.35502 13.9775L1.0008 6.46783Z"}})]))}}},1229:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.30136 10.1142L2.30019 3.45191C2.30024 2.6778 2.92779 2.05019 3.70191 2.05019H12.3989C13.1731 2.05019 13.8006 2.67785 13.8006 3.452L13.8018 10.1144C13.8017 10.8885 13.1742 11.516 12.4001 11.516H10.1322C9.97329 11.516 9.81862 11.5675 9.69142 11.6629L6.65162 13.9406C6.62173 13.9598 6.58148 13.9444 6.57209 13.91L6.15416 12.0869C6.07758 11.7528 5.78033 11.516 5.43761 11.516H3.70308C2.92893 11.516 2.30136 10.8884 2.30136 10.1142ZM3.70191 1C2.34776 1 1.25 2.09776 1.25 3.45191L1.25117 10.1144C1.25122 11.4685 2.34896 12.5662 3.70308 12.5662H5.18661L5.54953 14.1495L5.55107 14.1558C5.73515 14.9153 6.62879 15.248 7.26458 14.7937L10.2372 12.5662H12.4001C13.7542 12.5662 14.852 11.4684 14.852 10.1142L14.8508 3.45182C14.8508 2.09771 13.753 1 12.3989 1H3.70191ZM4.78612 7.91404C5.35027 7.91404 5.8076 7.45671 5.8076 6.89257C5.8076 6.32842 5.35027 5.87109 4.78612 5.87109C4.22198 5.87109 3.76465 6.32842 3.76465 6.89257C3.76465 7.45671 4.22198 7.91404 4.78612 7.91404ZM8.98631 6.89257C8.98631 7.45671 8.52898 7.91404 7.96483 7.91404C7.40069 7.91404 6.94336 7.45671 6.94336 6.89257C6.94336 6.32842 7.40069 5.87109 7.96483 5.87109C8.52898 5.87109 8.98631 6.32842 8.98631 6.89257ZM11.1484 7.91404C11.7126 7.91404 12.1699 7.45671 12.1699 6.89257C12.1699 6.32842 11.7126 5.87109 11.1484 5.87109C10.5843 5.87109 10.127 6.32842 10.127 6.89257C10.127 7.45671 10.5843 7.91404 11.1484 7.91404Z"}})]))}}},1230:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.70191 1C2.34776 1 1.25 2.09776 1.25 3.45191L1.25117 10.1144C1.25122 11.4685 2.34896 12.5662 3.70308 12.5662H5.18661L5.54953 14.1495L5.55107 14.1558C5.73515 14.9153 6.62879 15.248 7.26458 14.7937L10.2372 12.5662H12.4001C13.7542 12.5662 14.852 11.4684 14.852 10.1142L14.8508 3.45182C14.8508 2.09771 13.753 1 12.3989 1H3.70191ZM4.78612 7.91404C5.35027 7.91404 5.8076 7.45671 5.8076 6.89257C5.8076 6.32842 5.35027 5.87109 4.78612 5.87109C4.22198 5.87109 3.76465 6.32842 3.76465 6.89257C3.76465 7.45671 4.22198 7.91404 4.78612 7.91404ZM7.96483 7.91404C8.52898 7.91404 8.98631 7.45671 8.98631 6.89257C8.98631 6.32842 8.52898 5.87109 7.96483 5.87109C7.40069 5.87109 6.94336 6.32842 6.94336 6.89257C6.94336 7.45671 7.40069 7.91404 7.96483 7.91404ZM12.1699 6.89257C12.1699 7.45671 11.7126 7.91404 11.1484 7.91404C10.5843 7.91404 10.127 7.45671 10.127 6.89257C10.127 6.32842 10.5843 5.87109 11.1484 5.87109C11.7126 5.87109 12.1699 6.32842 12.1699 6.89257Z"}})]))}}},1231:function(t,e,n){},1232:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.99976 7.93206L10.0656 3.86619C10.1633 3.76856 10.3215 3.76856 10.4192 3.86619L10.7727 4.21975C10.8704 4.31738 10.8704 4.47567 10.7727 4.5733L6.35331 8.99272C6.15805 9.18798 5.84147 9.18798 5.6462 8.99272L1.22679 4.5733C1.12916 4.47567 1.12916 4.31738 1.22679 4.21975L1.58034 3.86619C1.67797 3.76856 1.83626 3.76856 1.93389 3.86619L5.99976 7.93206Z"}})]))}}},1233:function(t,e,n){},1234:function(t,e,n){},1235:function(t,e,n){},1236:function(t,e,n){},1237:function(t,e,n){},1248:function(t,e,n){"use strict";n(16),n(15),n(11),n(6),n(14);var r=n(0),o=(n(24),n(5)),c=n(8),l=n(177),d=n(1269),h=n.n(d),f=n(1270),m=n.n(f),v=n(1157),_=n.n(v),y=n(221),C=n(10),w=n(4),O=n(49);function j(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function k(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var T=Object(c.d)({components:{BModal:l.Modal,Form:l.Form,FormItem:l.FormItem,BInput:l.Input,BRadioGroup:l.RadioGroup,BRadio:l.Radio,BSwitch:l.Switch,CloseIcon:_.a,RemoveIcon:h.a,SelectedIcon:m.a},props:{visible:{type:Boolean,default:function(){return!1},required:!0},collection:{type:Object,default:function(){return{}}}},emits:["success","close"],setup:function(t,e){var n=e.emit,r=e.root,d=Object(c.q)(null),h=Object(c.q)(null),f=Object(c.p)({collectionName:"",description:"",permission:0,isCollectFast:!1}),m=Object(c.a)((function(){var t;return(null===(t=f.collectionName)||void 0===t?void 0:t.trim().length)||0})),v=Object(c.a)((function(){var e;return(null===(e=null==t?void 0:t.collection)||void 0===e?void 0:e.is_default)||!1})),_=Object(c.a)((function(){var e;return(null===(e=null==t?void 0:t.collection)||void 0===e?void 0:e.concern_user_count)||0})),j=Object(c.a)((function(){var t,e,n;return(null===(n=null===(e=null===(t=r.$store.state)||void 0===t?void 0:t.auth)||void 0===e?void 0:e.user)||void 0===n?void 0:n.is_collect_fast)||!1})),T=Object(c.q)(!1);return Object(c.w)((function(){return t.visible}),(function(e){var n,r,o;e&&(f.collectionName=(null===(n=t.collection)||void 0===n?void 0:n.collection_name)||"",f.description=(null===(r=t.collection)||void 0===r?void 0:r.description)||"",f.permission=(null===(o=t.collection)||void 0===o?void 0:o.permission)||0,f.isCollectFast=j.value,T.value=!1)})),{inputRef:d,limitWordNum:15,collectionNameLen:m,formData:f,formRef:h,concerCount:_,deaultCollection:v,submit:function(){h.value.validate(Object(o.a)(regeneratorRuntime.mark((function e(){var o,c,d,h,v,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(m.value<=0)){e.next=2;break}return e.abrupt("return");case 2:if(d=f.collectionName.trim(),h=f.description.trim(),O.b.test(d)){e.next=7;break}return l.Message.error("标题仅限中英文及数字"),e.abrupt("return");case 7:if(v={collection_id:t.collection.collection_id||"",collection_name:d,description:h,permission:f.permission},(null===(o=t.collection)||void 0===o?void 0:o.is_default)&&(v.is_collect_fast=f.isCollectFast),e.prev=9,!T.value){e.next=12;break}return e.abrupt("return");case 12:return T.value=!0,e.next=15,y.a.UpdateCollection(v);case 15:(null==(_=e.sent)?void 0:_.err_no)===C.ERROR_NO.OK&&(l.Message.success("".concat((null===(c=t.collection)||void 0===c?void 0:c.collection_id)?"编辑成功":"新建收藏集成功")),f.isCollectFast!==j.value&&r.$store.dispatch(w.FETCH_CURRENT_USER),n("success",(null==_?void 0:_.data)||k(k({},t.collection),v))),setTimeout((function(){T.value=!1}),250),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(9),l.Message.error(null===e.t0||void 0===e.t0?void 0:e.t0.message),T.value=!1;case 24:case"end":return e.stop()}}),e,null,[[9,20]])}))))},close:function(){n("close")},removeCollectionName:function(){var t;f.collectionName="",null===(t=d.value)||void 0===t||t.focus()},handleConcerCheck:function(){_.value>0&&l.Message.error("当前收藏集已被订阅，无法设置为私密")}}}}),x=(n(1271),n(30)),component=Object(x.a)(T,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{staticClass:"collection-modal",attrs:{width:"520px",value:t.visible,"mask-closable":!1,"footer-hide":!0,closable:!1},on:{close:t.close}},[n("CloseIcon",{staticClass:"closeIcon",on:{click:function(e){return e.stopPropagation(),t.close(e)}}}),t._v(" "),n("div",{staticClass:"title"},[t._v("\n    "+t._s(t.collection.collection_id?"编辑":"新建")+"收藏集\n  ")]),t._v(" "),n("Form",{ref:"formRef",staticClass:"form",attrs:{model:t.formData,"label-width":42},nativeOn:{submit:function(t){t.preventDefault()}}},[n("FormItem",{attrs:{label:"名称：",prop:"collectionName"}},[n("b-input",{ref:"inputRef",staticClass:"input",class:{"input-warning":t.collectionNameLen>t.limitWordNum},attrs:{size:"large",placeholder:"请输入收藏集名称"},scopedSlots:t._u([{key:"suffix",fn:function(){return[t.collectionNameLen>0&&t.collectionNameLen<=t.limitWordNum?n("RemoveIcon",{staticClass:"remove-icon",on:{click:t.removeCollectionName}}):t._e(),t._v(" "),t.collectionNameLen>t.limitWordNum?n("span",{staticClass:"suffix"},[n("span",{staticClass:"suffix-red"},[t._v("\n              "+t._s(t.collectionNameLen)+"\n            ")]),t._v("\n            /"+t._s(t.limitWordNum)+"\n          ")]):t._e()]},proxy:!0}]),model:{value:t.formData.collectionName,callback:function(e){t.$set(t.formData,"collectionName",e)},expression:"formData.collectionName"}})],1),t._v(" "),n("FormItem",{attrs:{label:"描述：",prop:"description"}},[n("b-input",{staticClass:"input",attrs:{type:"textarea",maxlength:100,placeholder:"请输入收藏描述（限100字，选填）"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}}),t._v(" "),n("span",{staticClass:"suffix text-suffix"},[n("span",{class:{"suffix-blue":t.formData.description.length}},[t._v("\n          "+t._s(t.formData.description.length)+"\n        ")]),t._v("\n        /100\n      ")])],1),t._v(" "),n("FormItem",{staticClass:"label-no",attrs:{prop:"permission"}},[n("b-radio-group",{model:{value:t.formData.permission,callback:function(e){t.$set(t.formData,"permission",e)},expression:"formData.permission"}},[n("b-radio",{attrs:{label:0}},[n("div",{staticClass:"radio-item"},[n("span",{staticClass:"label"},[t._v("公开")]),t._v(" "),n("span",{staticClass:"desc"},[t._v("当其他人关注此收藏集后不可再更改为隐私")])])]),t._v(" "),n("b-radio",{attrs:{label:1,disabled:t.concerCount>0}},[n("div",{staticClass:"radio-item",on:{click:t.handleConcerCheck}},[n("span",{staticClass:"label"},[t._v("隐私")]),t._v(" "),n("span",{staticClass:"desc"},[t._v("仅自己可见此收藏集")])])])],1)],1),t._v(" "),t.deaultCollection?n("FormItem",{staticClass:"label-no switch-item",attrs:{prop:"permission"}},[n("b-switch",{scopedSlots:t._u([{key:"checked",fn:function(){return[n("div",{staticClass:"switch-button switch-open"},[n("SelectedIcon",{staticClass:"switch-selected"}),t._v("\n            已开启快捷收藏\n          ")],1)]},proxy:!0},{key:"unchecked",fn:function(){return[n("div",{staticClass:"switch-button switch-unopen"},[t._v("开启快捷收藏")])]},proxy:!0}],null,!1,2781810629),model:{value:t.formData.isCollectFast,callback:function(e){t.$set(t.formData,"isCollectFast",e)},expression:"formData.isCollectFast"}}),t._v(" "),n("span",{staticClass:"suffix switch-suffix"},[t._v("\n        开启后收藏文章时不再自动弹出选择面板\n      ")])],1):t._e()],1),t._v(" "),n("div",{staticClass:"button_wrapper"},[n("button",{staticClass:"button close",on:{click:function(e){return e.stopPropagation(),t.close(e)}}},[t._v("取消")]),t._v(" "),n("button",{staticClass:"button",class:{finished:t.collectionNameLen<=0,submit:t.collectionNameLen>0},on:{click:function(e){return e.stopPropagation(),t.submit(e)}}},[t._v("\n      确定\n    ")])])],1)}),[],!1,null,"57ee8fac",null);e.a=component.exports},1267:function(t,e,n){t.exports=n.p+"img/home.59780ae.png"},1268:function(t,e,n){"use strict";n(1140)},1269:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{opacity:"0.01","fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 10C0 4.47715 4.47715 0 10 0V0C15.5228 0 20 4.47715 20 10V10C20 15.5228 15.5228 20 10 20V20C4.47715 20 0 15.5228 0 10V10Z",fill:"#E4E6EB"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.6249 6.96828C12.4442 6.78761 12.1513 6.78761 11.9706 6.96828L9.99975 8.93914L8.05418 6.99358C7.87351 6.81291 7.58058 6.81291 7.39991 6.99358L6.99352 7.39997C6.81285 7.58064 6.81285 7.87357 6.99352 8.05424L8.93909 9.9998L6.96802 11.9709C6.78735 12.1515 6.78735 12.4445 6.96802 12.6251L7.37441 13.0315C7.55508 13.2122 7.84801 13.2122 8.02868 13.0315L9.99975 11.0605L11.9961 13.0568C12.1768 13.2375 12.4697 13.2375 12.6504 13.0568L13.0568 12.6504C13.2374 12.4698 13.2374 12.1768 13.0568 11.9962L11.0604 9.9998L13.0313 8.02894C13.2119 7.84827 13.2119 7.55535 13.0313 7.37467L12.6249 6.96828Z",fill:"#252933"}})]))}}},1270:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.8847 2.21464C11.1114 2.42711 11.1228 2.78308 10.9104 3.00972L5.28536 9.00972C5.18118 9.12085 5.03638 9.18497 4.88407 9.18743C4.73176 9.18988 4.58497 9.13046 4.47725 9.02275L1.10225 5.64775C0.882583 5.42808 0.882583 5.07192 1.10225 4.85225C1.32192 4.63258 1.67808 4.63258 1.89775 4.85225L4.86196 7.81647L10.0896 2.24028C10.3021 2.01365 10.6581 2.00216 10.8847 2.21464Z",fill:"#1E80FF"}})]))}}},1271:function(t,e,n){"use strict";n(1141)},1279:function(t,e,n){t.exports=n.p+"255e400027b783cbad76dc41527e7695.svg"},1288:function(t,e,n){"use strict";n(39);var r=n(1042),o=n(8),c={realtimesIndex:n(1138),realtimesCategory:n(1138),timelineIndex:n(1267),entryPublic:n(1139),column:n(1139)},l=Object(o.d)({components:{SidebarBlock:r.a},props:["closeable","title","desc"],data:function(){return{visible:!0}},methods:{close:function(){window.localStorage.setItem("HIDE_APP_DOWNLOAD_SIDEBAR_BLOCK","true"),this.visible=!1}},computed:{linkPath:function(){return"/app"},qrImageUrl:function(){return c[this.$route.name]||c.timelineIndex},label:function(){return this.desc||"一个帮助开发者成长的社区"}},created:function(){this.closeable&&(this.visible=!window.localStorage.getItem("HIDE_APP_DOWNLOAD_SIDEBAR_BLOCK"))}}),d=(n(1268),n(30)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("sidebar-block",{staticClass:"app-download-sidebar-block"},[n("router-link",{attrs:{to:t.linkPath,target:"_blank"}},[n("div",{staticClass:"app-link"},[n("img",{staticClass:"qr-img",attrs:{src:t.qrImageUrl}}),t._v(" "),n("div",{staticClass:"content-box"},[n("div",{staticClass:"headline"},[t._v(t._s(t.title||"下载稀土掘金APP"))]),t._v(" "),n("div",{staticClass:"desc"},[t._v(t._s(t.label))])]),t._v(" "),t.closeable?n("div",{staticClass:"close-btn ion-close-round",attrs:{title:"关闭"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.close(e)}}}):t._e()])])],1):t._e()}),[],!1,null,"11c44dd5",null);e.a=component.exports},1293:function(t,e,n){"use strict";var r=n(1050).a,o=n(30),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("xitu-skeleton",{model:{value:t.initLoad,callback:function(e){t.initLoad=e},expression:"initLoad"}},[n("div",{ref:"listEleRef"},[t._t("default")],2),t._v(" "),t.noData?n("no-data",{attrs:{label:t.emptyText||"列表为空"}}):t._e()],1)}),[],!1,null,null,null);e.a=component.exports},1294:function(t,e,n){"use strict";n(16),n(15),n(11),n(6),n(14);var r=n(0),o=n(48),c=n(886);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var d={data:function(){return{enterTime:0}},mounted:function(){this.handleVisibilityChange(),Object(o.o)(this.handleVisibilityChange)},methods:{recordPageStayTime:function(){if(this.enterTime){var t;t=(new Date-this.enterTime)/1e3;var e=Object(c.b)();this.$TEA("article_detail_leave",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({article_id:this.$route.params.id,read_time:t},e)),this.enterTime=0}},handleVisibilityChange:function(){var t=Object(o.d)();document[t]?this.recordPageStayTime():this.enterTime=new Date}},beforeDestroy:function(){Object(o.q)(this.handleVisibilityChange)}},h=n(30),component=Object(h.a)(d,void 0,void 0,!1,null,null,null);e.a=component.exports},1314:function(t,e,n){"use strict";n(6);var r=n(8),o=n(177),c=n(1157),l=n.n(c),d=n(1375),h=n.n(d),f=n(1376),m=n.n(f),v=n(1293),_=n(1248),y=n(221),C=n(10),w=Object(r.d)({components:{BModal:o.Modal,BCheckbox:o.Checkbox,PullupLoad:v.a,CollectPopup:_.a,CloseIcon:l.a,PermissionIcon:h.a,AddIcon:m.a},props:{visible:{type:Boolean,default:function(){return!1},required:!0},articleId:{type:String,default:function(){return""}},isEdit:{type:Boolean,default:function(){return!1}}},emits:["close","success"],setup:function(t,e){var n=e.emit,c=e.root,l=Object(r.q)(!0),d=Object(r.q)(!1),cursor=Object(r.q)("0"),h=Object(r.q)(null),f=Object(r.q)([]),m=Object(r.q)(!1),v=function(){m.value=!m.value},_=function(){d.value||(d.value=!0,y.a.GetCollectionSetList({limit:10,cursor:cursor.value,article_id:t.articleId}).then((function(t){t.err_no===C.ERROR_NO.OK&&(f.value=f.value.concat(t.data||[])),l.value=t.has_more||!1,cursor.value=t.cursor||"0"})).finally((function(){d.value=!1})))};return Object(r.w)((function(){return t.visible}),(function(t){t?(f.value=[],cursor.value="0",l.value=!1,_()):setTimeout((function(){document.body.style.overflow="",document.body.style.paddingRight=""}),350)})),{collectionList:f,collectModalVis:m,hasMore:l,loading:d,listEleRef:h,getCollectionList:_,toggleCollectModal:v,addCollectionSuccess:function(data){f.value=[data].concat(f.value),v(),c.$TEA("collection_list_create",{item_id:"",category_id:"",item_author_id:"",collection_list_auth:data.permission,enter_from:"1",is_default:"0",is_collection_list_desc:data.description.length>0?"1":"0"})},close:function(){n("close")},handleCheckChange:function(t,e){var n=f.value.filter((function(e){return(null==e?void 0:e.collection_id)===t}))[0];n&&(n.is_article_in=e)},submit:function(){var e=f.value.filter((function(t){return t.is_article_in})).map((function(t){return t.collection_id})),r=f.value.filter((function(t){return!t.is_article_in})).map((function(t){return t.collection_id}));0!==e.length?y.a.AddArticleToCollection({article_id:t.articleId,select_collection_ids:e,unselect_collection_ids:r,is_collect_fast:!1}).then((function(t){t.err_no===C.ERROR_NO.OK?(o.Message.success("收藏成功！记得常常温习哦~"),n("success",r,e)):o.Message.error(t.err_msg)})):o.Message.error("请选择一个收藏集")}}}}),O=(n(1377),n(30)),component=Object(O.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{staticClass:"collection-list-modal",class:{"collection-list-modal-hide":t.collectModalVis},attrs:{width:"520px",value:t.visible,"mask-closable":!1,"footer-hide":!0,closable:!1},on:{close:t.close}},[t.visible?n("div",{staticClass:"modal-wrap"},[n("collect-popup",{attrs:{visible:t.collectModalVis},on:{success:t.addCollectionSuccess,close:t.toggleCollectModal}}),t._v(" "),n("CloseIcon",{staticClass:"closeIcon",on:{click:function(e){return e.stopPropagation(),t.close(e)}}}),t._v(" "),n("div",{staticClass:"title"},[t._v("选择收藏集")]),t._v(" "),n("div",{staticClass:"sub-title"},[t._v("选择或创建你想添加的收藏集")]),t._v(" "),n("div",{ref:"listEleRef",staticClass:"list"},[n("PullupLoad",{attrs:{immediate:t.visible,scrollEle:t.listEleRef,loading:t.loading,length:t.collectionList.length,hasMore:t.hasMore},on:{loadMore:t.getCollectionList}},t._l(t.collectionList,(function(e){return n("div",{key:e.collection_id,staticClass:"list-item",on:{click:function(n){return n.stopPropagation(),t.handleCheckChange(e.collection_id,!e.is_article_in)}}},[n("div",{staticClass:"item-left"},[n("div",{staticClass:"title-box"},[n("span",{staticClass:"name"},[t._v(t._s(e.collection_name))]),t._v(" "),1===e.permission?n("PermissionIcon",{staticClass:"permission-icon"}):t._e(),t._v(" "),e.is_default?n("span",{staticClass:"tag-default"},[t._v("\n                默认\n              ")]):t._e()],1),t._v(" "),n("div",{staticClass:"message-box"},[t._v("\n              "+t._s(e.post_article_count)+"篇文章 ·\n              "+t._s(e.concern_user_count)+"订阅\n            ")])]),t._v(" "),n("div",{staticClass:"item-right",on:{click:function(t){t.stopPropagation()}}},[n("b-checkbox",{staticClass:"checkbox-icon",attrs:{value:e.is_article_in},on:{"on-change":function(n){return t.handleCheckChange(e.collection_id,n)}}})],1)])})),0)],1),t._v(" "),n("div",{staticClass:"footer-wrap"},[n("div",{staticClass:"add-collection",on:{click:t.toggleCollectModal}},[n("AddIcon",{staticClass:"add-icon"}),t._v("\n        新建收藏集\n      ")],1),t._v(" "),n("div",{staticClass:"confirm-btn",on:{click:t.submit}},[t._v("确定")])])],1):t._e()])}),[],!1,null,"190ec4f0",null);e.a=component.exports},1365:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return h}));n(39);var r=n(859),o=n(25),c=n(432),l=n.n(c),d=function(details){var t=details.id,title=details.title,e=details.description,image=details.image,n=details.username,r=details.createdAt,c=details.updatedAt;return{"@context":"https://schema.org","@type":"BlogPosting",mainEntityOfPage:{"@type":"WebPage","@id":t},headline:title,description:e,image:image,author:{"@type":"Organization",name:n},publisher:{"@type":"Organization",name:"掘金",logo:{"@type":"ImageObject",url:l.a}},datePublished:Object(o.b)(r,"YYYY年MM月DD日"),dateModified:Object(o.b)(c,"YYYY年MM月DD日")}},h=function(t){var e=t.name,n=void 0===e?"分类":e,o=t.alias,c=void 0===o?"":o;return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",name:"稀土掘金",position:1,item:r.f},{"@type":"ListItem",name:n,position:2,item:"https://juejin.cn/".concat(c)},{"@type":"ListItem",name:"文章",position:3}]}}},1372:function(t,e,n){},1373:function(t,e,n){},1374:function(t,e,n){"use strict";n(1214)},1375:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.3323 4.73333V6.60034H5.66563V4.73333C5.66563 3.44467 6.71029 2.4 7.99896 2.4C9.28762 2.4 10.3323 3.44467 10.3323 4.73333ZM2.39844 8.60034C2.39844 7.5404 3.22297 6.67304 4.26562 6.60468V4.73333C4.26562 2.67147 5.9371 1 7.99896 1C10.0608 1 11.7323 2.67147 11.7323 4.73333V6.60475C12.7745 6.67361 13.5984 7.54075 13.5984 8.60034V13.0003C13.5984 14.1049 12.703 15.0003 11.5984 15.0003H4.39844C3.29387 15.0003 2.39844 14.1049 2.39844 13.0003L2.39844 8.60034ZM7.99805 12.2009C8.77125 12.2009 9.39805 11.5741 9.39805 10.8009C9.39805 10.0277 8.77125 9.40088 7.99805 9.40088C7.22485 9.40088 6.59805 10.0277 6.59805 10.8009C6.59805 11.5741 7.22485 12.2009 7.99805 12.2009Z",fill:"#C2C8D1"}})]))}}},1376:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.17951 0C5.29095 0 5.33136 0.0116032 5.37211 0.0333916C5.41285 0.05518 5.44482 0.0871535 5.46661 0.127894C5.4884 0.168635 5.5 0.209046 5.5 0.320486V4.5H9.67951C9.79095 4.5 9.83136 4.5116 9.87211 4.53339C9.91285 4.55518 9.94482 4.58715 9.96661 4.62789C9.9884 4.66864 10 4.70905 10 4.82049V5.17951C10 5.29095 9.9884 5.33136 9.96661 5.37211C9.94482 5.41285 9.91285 5.44482 9.87211 5.46661C9.83136 5.4884 9.79095 5.5 9.67951 5.5H5.49975L5.5 9.67951C5.5 9.79095 5.4884 9.83136 5.46661 9.87211C5.44482 9.91285 5.41285 9.94482 5.37211 9.96661C5.33136 9.9884 5.29095 10 5.17951 10H4.82049C4.70905 10 4.66864 9.9884 4.62789 9.96661C4.58715 9.94482 4.55518 9.91285 4.53339 9.87211C4.5116 9.83136 4.5 9.79095 4.5 9.67951L4.49975 5.49975L0.320486 5.5C0.209046 5.5 0.168635 5.4884 0.127894 5.46661C0.0871535 5.44482 0.05518 5.41285 0.0333916 5.37211C0.0116032 5.33136 0 5.29095 0 5.17951V4.82049C0 4.70905 0.0116032 4.66864 0.0333916 4.62789C0.05518 4.58715 0.0871535 4.55518 0.127894 4.53339C0.168635 4.5116 0.209046 4.5 0.320486 4.5L4.5 4.49975V0.320486C4.5 0.209046 4.5116 0.168635 4.53339 0.127894C4.55518 0.0871535 4.58715 0.05518 4.62789 0.0333916C4.66864 0.0116032 4.70905 0 4.82049 0H5.17951Z",fill:"#1E80FF"}})]))}}},1377:function(t,e,n){"use strict";n(1215)},1378:function(t,e,n){},1379:function(t,e,n){},1380:function(t,e,n){},1428:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 1.3335C14.3514 1.3335 14.6394 1.60546 14.6648 1.95041L14.6666 2.00016V14.0002C14.6666 14.3516 14.3947 14.6396 14.0497 14.665L14 14.6668H1.99998C1.64853 14.6668 1.36059 14.3949 1.33514 14.0499L1.33331 14.0002V2.00016C1.33331 1.64871 1.60527 1.36077 1.95023 1.33532L1.99998 1.3335H14ZM13.3333 2.66618H2.66664V13.3328H13.3333V2.66618ZM11.9219 6.7879C11.9719 6.83791 12 6.90574 12 6.97647V11.7993C12 11.9098 11.9104 11.9993 11.8 11.9993H6.81615C6.7975 11.9993 6.77945 11.9968 6.76232 11.992L3.91042 11.9847C3.79996 11.9844 3.71063 11.8947 3.7109 11.7842C3.71102 11.7313 3.73209 11.6807 3.76948 11.6433L6.52468 8.88807C6.62882 8.78393 6.79766 8.78393 6.9018 8.88807L8.17297 10.1593L11.5447 6.7879C11.6489 6.68376 11.8177 6.68376 11.9219 6.7879ZM5.99997 3.99951V5.99951H3.99997V3.99951H5.99997Z"}})]))}}},1429:function(t,e,n){"use strict";n(1226)},1430:function(t,e,n){"use strict";n(1231)},1431:function(t,e,n){"use strict";n(1233)},1432:function(t,e,n){"use strict";n(1234)},1433:function(t,e,n){"use strict";n(1235)},1434:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{d:"M12.8 5.2C13.9532 6.46 14.8 8.2 14.8 10C14.7039 12.8937 12.6843 15.1706 9.97973 15.8159C10.359 12.3442 7.77588 9.35406 7.77588 9.35406C7.77588 9.35406 7.99512 13.7064 6.79514 15.8104C4.03715 15.1428 2 12.7806 2 9.8C2 7.776 2.9336 5.9728 4.4 4.8C5.8608 3.7056 6.8 1.9656 6.8 0C9.684 0.4368 11.894 2.9264 11.894 5.932C11.894 6.5012 11.746 7.0652 11.6 7.6C12.1264 6.9024 12.6184 6.0876 12.8 5.2Z",fill:"#F53F3F"}})]))}}},1435:function(t,e,n){"use strict";n(1236)},1436:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{d:"M4.88933 0.613974C4.92947 0.616946 4.96831 0.629568 5.00253 0.650767C6.67348 1.68589 7.55141 3.13884 7.63632 5.00962C7.947 5.00962 8.2245 4.65999 8.46882 3.96072L8.49487 3.88447C8.53862 3.75351 8.68025 3.68282 8.8112 3.72656C8.83398 3.73417 8.85554 3.74502 8.87522 3.75878C9.96316 4.5193 10.5048 5.50231 10.5 6.70782C10.4999 6.73762 10.4982 6.76675 10.495 6.7952C10.4985 6.86294 10.5 6.93131 10.5 7.00005C10.5 9.48533 8.48528 11.5 6 11.5C3.51472 11.5 1.5 9.48533 1.5 7.00005C1.5 6.90255 1.5031 6.80578 1.50921 6.70983C1.5062 6.70917 1.5031 6.70849 1.5 6.70782C1.50864 6.60849 1.52139 6.50994 1.53824 6.41219C1.54515 6.35775 1.55321 6.30373 1.56222 6.25003L1.57017 6.24983C1.7622 5.3813 2.28426 4.57601 3.13635 3.83394C4.00892 3.07405 4.50079 2.11523 4.61198 0.957499L4.62156 0.844839C4.63175 0.707146 4.75163 0.603784 4.88933 0.613974Z"}})]))}}},1437:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.99951 0.5C9.03708 0.5 11.4995 2.96243 11.4995 6C11.4995 9.03757 9.03708 11.5 5.99951 11.5C2.96195 11.5 0.499512 9.03757 0.499512 6C0.499512 2.96243 2.96195 0.5 5.99951 0.5ZM6.25 3.49988C6.38807 3.49988 6.5 3.61181 6.5 3.74988V5.49988H8.25C8.38807 5.49988 8.5 5.61181 8.5 5.74988V6.24988C8.5 6.38795 8.38807 6.49988 8.25 6.49988H5.75C5.61193 6.49988 5.5 6.38795 5.5 6.24988V3.74988C5.5 3.61181 5.61193 3.49988 5.75 3.49988H6.25Z"}})]))}}},1438:function(t,e,n){"use strict";n(1237)},1439:function(t,e,n){},1493:function(t,e,n){"use strict";n(24);var r,o=n(5),c=n(67),l=n(48),d=n(874),h=n(856),f=n(178),m=n(857),v=(n(16),n(15),n(11),n(14),n(45),n(6),n(83),n(32)),_=n(0),y=n(4),C=n(928),w=n(929),O=n(917),j=n(894),k=n(885),T=n(853),x=n(882),L=n(886),P=n(879),S=n(180),E=n(1428),A=n.n(E),I=n(17),D=n(157);function M(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function B(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?M(Object(source),!0).forEach((function(e){Object(_.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):M(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var $=(r={},Object(_.a)(r,I.f.ArticleIdType,"article"),Object(_.a)(r,I.f.PinType,"pin"),Object(_.a)(r,I.f.Book,"小册"),Object(_.a)(r,I.f.Realtime,"news"),r),R={components:{AuthCard:w.a,Avatar:f.a,Emoji:C.a,ImageIcon:A.a},props:["commentList","replyList","subject","comment","parent","autoFocus","placeholder","mode","small","title","submitTitle","needLoginGuide"],data:function(){return{active:!1,focused:!1,submitting:!1,content:"",imageFile:null,imagePreviewUrl:"",emoji:""}},computed:{me:function(){return this.$store.getters.USER},bindedPhone:function(){return this.me&&this.me.isBindedPhone},empty:function(){return!this.content.length},canSubmit:function(){return this.content.length&&!this.submitting},isActionBoxVisible:function(){return(this.focused||!this.empty||this.imageFile)&&this.me&&this.bindedPhone},submitButtonTitle:function(){return this.submitting?"提交中...":this.submitTitle||"发表评论"},sendTip:function(){return this.$device.isMacOS?"⌘ + Enter":"Ctrl + Enter"}},watch:{focused:function(t){t&&!this.me&&this.$requestLogin(),t||!this.empty||this.imageFile||(this.$emit("emptyBlur"),this.$store.dispatch(y.UPDATE_PIN_ON_FOCUS,!1))},imageFile:function(){Object(P.g)(this.$refs.richInput)}},methods:{handleVisibleChange:function(t){t&&this.$TEA("login_guide_show",{from:D.a.comment,type:D.b.auto})},onLogin:function(){this.$TEA("login_guide_click",{from:D.a.comment}),this.$requestLogin()},onFocus:function(){this.focused=!0,this.$store.dispatch(y.UPDATE_PIN_ON_FOCUS,!0)},onOuterClick:function(){this.empty&&(this.focused=!1)},onFormBoxClick:function(t){var e=t.target;if(this.bindedPhone){var input=this.$refs.richInput;input.focus(),input.contains(e)||Object(P.g)(input)}},onInput:function(){this.focused=!0,Object(P.e)(this.$refs.richInput),this.content=this.emojiToText(this.$refs.richInput.innerHTML),this.content=Object(P.b)(this.content)},onPaste:function(t){t.preventDefault(),Object(P.f)(t,this.onFileSelected);var text=Object(P.a)(t),html=Object(S.d)(text);Object(P.c)(this.$refs.richInput,html),this.focused=!0,this.content=this.emojiToText(this.$refs.richInput.innerHTML),this.content=Object(P.b)(this.content)},onKeydown:function(t){var e=this;if(this.content.length&&!this.submitting)return Object(O.a)(t,(function(){return e.submit()}))},cleanContent:function(){this.$refs.richInput.innerHTML="",this.content=""},updateEmoji:function(t){this.emoji=t,Object(P.c)(this.$refs.richInput,Object(S.c)(this.emoji)),this.focused=!0,this.content=this.emojiToText(this.$refs.richInput.innerHTML),this.content=Object(P.b)(this.content)},showFileDialog:function(){this.$refs.input.click()},changeFile:function(t){this.imageFile=t,window.URL.revokeObjectURL(this.imagePreviewUrl),this.imagePreviewUrl=t?window.URL.createObjectURL(t):""},cleanFile:function(){this.changeFile(null)},onFileSelected:function(t){var e=this;this.$refs.input.value=null,t&&(this.isWithVaildSize(t)?Object(j.a)(t,k.a).then((function(n){n?e.changeFile(t):e.$error("不支持此格式的图片")})):this.$error("文件过大"))},isWithVaildSize:function(t){return t.size<=k.c},uploadFile:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.imageFile){e.next=11;break}return e.next=3,Object(x.a)(t.me.user_id,[t.imageFile]);case 3:return n=e.sent,r=Object(v.a)(n,1),o=r[0],c=t.imageFile.type.split("/")[1],l={gif:0,png:1,jpg:2,jpeg:2},e.abrupt("return",{pic_url:o.Url,width:o.ImageHeight,height:o.ImageWidth,pic_type:l[c]||1});case 11:return e.abrupt("return",Promise.resolve());case 12:case"end":return e.stop()}}),e)})))()},submit:function(){var t=this;return this.submitting=!0,this.uploadFile().then((function(image){return t.createSubmitTask(image)})).then((function(e){if(0===e.err_no?(t.$emit("syncCommentNum",{type:"add"}),t.submitting=!1,t.$alertMsg("评论成功"),t.$emit("submitted"),t.reset()):t.$error(e.err_msg||"评论失败，请稍后重试"),Object(L.a)()){var n=Object(L.b)();t.$TEA("search_detail_action",B(B({},n),{},{action_type:I.a.Comment,action_value:t.commentList.length}))}})).catch((function(e){t.submitting=!1,t.$error(e)}))},createSubmitTask:function(image){var t=this,e=this.subject,n=e.item_id,r=e.item_type,o=e.user_id;return this.$TEA("comment_action",{comment_type:$[r],comment_parent_id:n,author_user_id:o,comment_url:location.href,mode:this.mode}),this.comment?this.comment.reply_info?Object(T.h)({reply_to_comment_id:this.comment.reply_info.reply_comment_id,reply_to_reply_id:this.comment.reply_info.reply_id,reply_to_user_id:this.comment.reply_info.user_id,item_id:n,item_type:r,reply_content:this.content,reply_pics:void 0===image?[]:[image]}).then((function(e){return 0===e.err_no&&(t.replyList||[]).push(e.data),e})):Object(T.h)({reply_to_comment_id:this.comment.comment_info.comment_id,reply_to_reply_id:null,reply_to_user_id:null,item_id:n,item_type:r,reply_content:this.content,reply_pics:void 0===image?[]:[image]}).then((function(e){return 0===e.err_no&&(t.replyList||[]).push(e.data),e})):Object(T.g)({item_id:n,item_type:r,comment_content:this.content,comment_pics:void 0===image?[]:[image]}).then((function(e){return 0===e.err_no&&t.commentList.unshift(e.data),e}))},reset:function(){this.cleanFile(),this.cleanContent()},emojiToText:function(html){return html.replace(/<img.*?alt=".*?/g,"").replace(/".?src=.*?>/g,"")}},mounted:function(){var t=this;this.autoFocus&&this.$nextTick((function(){t.$refs.richInput.focus()}))}},H=(n(1429),n(30)),N=Object(H.a)(R,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"outer-click",rawName:"v-outer-click",value:function(){return t.onOuterClick()},expression:"() => onOuterClick()"}],staticClass:"comment-form",class:{focused:t.focused,reply:!!t.comment,"sub-reply":!!t.parent,small:t.small}},[t.title?n("div",{staticClass:"header"},[n("span",{staticClass:"header-title"},[t._v(t._s(t.title))])]):t._e(),n("div",{staticClass:"content"},[n("div",{staticClass:"avatar-box"},[n("avatar",{staticClass:"avatar",attrs:{user:t.me}})],1),n("div",{staticClass:"form-box",class:{disabled:t.submitting}},[n("auth-card",{attrs:{user:t.me},on:{click:t.onFormBoxClick}},[n("div",{staticClass:"input-box"},[n("div",{ref:"richInput",staticClass:"rich-input",class:{empty:t.empty},attrs:{contenteditable:"true",spellcheck:"false",placeholder:t.placeholder||"输入评论（Enter换行，"+t.sendTip+"发送）",disabled:!0},on:{focus:t.onFocus,input:t.onInput,paste:t.onPaste,keydown:t.onKeydown,keyup:function(t){t.stopPropagation()}}}),t.needLoginGuide&&!t.me?n("div",{directives:[{name:"visible-change",rawName:"v-visible-change",value:t.handleVisibleChange,expression:"handleVisibleChange"}],staticClass:"login-guide",on:{click:t.onLogin}},[n("div",{staticClass:"login-guide-text"},[t._v(t._s("看完啦，"))]),n("div",{staticClass:"login-guide-button"},[t._v(t._s("登录"))]),n("div",{staticClass:"login-guide-text"},[t._v(t._s("分享一下感受吧～"))])]):t._e(),t.imagePreviewUrl?n("div",{staticClass:"image-preview-box"},[n("div",{staticClass:"image-preview",style:{backgroundImage:"url("+t.imagePreviewUrl+")"}}),n("div",{staticClass:"clean-btn",on:{click:t.cleanFile}},[n("svg",{attrs:{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("rect",{attrs:{width:"12",height:"12",rx:"2",fill:"#86909C"}}),t._v(" "),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.98095 5.49307L8.22012 3.25389C8.28521 3.18881 8.39074 3.18881 8.45582 3.25389L8.69153 3.4896C8.75661 3.55468 8.75661 3.66021 8.69153 3.7253L6.45235 5.96447L8.69153 8.20364C8.75661 8.26873 8.75661 8.37426 8.69153 8.43934L8.45582 8.67505C8.39074 8.74013 8.28521 8.74013 8.22012 8.67505L5.98095 6.43587L3.74178 8.67505C3.67669 8.74013 3.57116 8.74013 3.50608 8.67505L3.27037 8.43934C3.20529 8.37426 3.20529 8.26873 3.27037 8.20364L5.50954 5.96447L3.27037 3.7253C3.20529 3.66021 3.20529 3.55468 3.27037 3.4896L3.50608 3.25389C3.57116 3.18881 3.67669 3.18881 3.74178 3.25389L5.98095 5.49307Z",fill:"white"}})])])]):t._e()])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActionBoxVisible||!t.small,expression:"isActionBoxVisible || !small"}],staticClass:"action-box"},[n("emoji",{directives:[{name:"show",rawName:"v-show",value:t.isActionBoxVisible,expression:"isActionBoxVisible"}],staticClass:"emoji-btn",on:{selectEmoji:t.updateEmoji}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActionBoxVisible,expression:"isActionBoxVisible"}],staticClass:"image-btn",on:{click:t.showFileDialog}},[n("ImageIcon",{staticClass:"icon"}),n("span",[t._v("图片")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActionBoxVisible,expression:"isActionBoxVisible"}],staticClass:"submit"},[n("span",[t._v(t._s(t.sendTip))]),n("button",{staticClass:"submit-btn",attrs:{disabled:!t.canSubmit},on:{click:t.submit}},[t._v(t._s(t.submitButtonTitle))])])],1)],1),n("input",{ref:"input",staticClass:"hidden",attrs:{type:"file"},on:{change:function(e){return t.onFileSelected(e.target.files[0])}}})])])}),[],!1,null,"48a7e3c5",null).exports,V=(n(39),n(182)),F=n(867),U=n(59),Z=n(272),z=n(1227),G=n.n(z),W=n(1228),K=n.n(W),Y=n(1229),J=n.n(Y),X=n(1230),Q=n.n(X),tt=n(179),et={components:{CommentForm:N,UserPopover:F.default,Avatar:f.a,Thumb:m.a,LikeIcon:G.a,LikeActiveIcon:K.a,CommentIcon:J.a,CommentActiveIcon:Q.a},props:["replyList","subject","parent","reply","removable","user","mode","jjHelperItemId","jjHelperItemType"],data:function(){return{likeLock:Object(h.a)(),isReplyFormVisible:!1,isShowAll:!1,isLikeLoading:!1,replyCount:this.reply.reply_info.reply_count,extend:!1}},computed:{usernameMaxWidth:function(){return"column"!==this.$route.name||this.isMobile?"90px":"10em"},isMobile:function(){return this.$device.isMobile},parentReply:function(){var t,content=null===(t=this.reply.parent_reply)||void 0===t?void 0:t.reply_content;return this.hasParentRemove&&content?"该评论已被删除":content?Object(Z.b)(content):""},hasParentRemove:function(){var t;return 0===(null===(t=this.reply.parent_reply)||void 0===t?void 0:t.reply_status)},currentUser:function(){var t=this.$store.getters;return"USER"in t?t.USER:null},removableReply:function(){return this.removable||this.isCurrentUsersReply()},hasAuthorBadge:function(){return this.subject.user_id===this.reply.user_info.user_id},imageUrl:function(){return this.reply.reply_info.reply_pics[0]&&this.reply.reply_info.reply_pics[0].pic_url},limitedContent:function(){return Object(V.d)(this.reply.reply_info.reply_content,{maxLineCount:this.maxLineCount,perLineLength:this.perLineLength,escapeReg:S.a})},collapsed:function(){return this.limitedContent.length<this.reply.reply_info.reply_content.length&&!this.isShowAll&&this.reply.reply_info.reply_content.length-this.limitedContent.length>this.perLineLength},replyPlaceholder:function(){return"回复".concat(this.reply.user_info.user_name,"...")},perLineLength:function(){return this.$device.isMobile?30:40},maxLineCount:function(){return this.$device.isMobile?4:6},isAutoFocus:function(){return!this.user||this.user.isBindedPhone}},methods:{parseUrlEmoji:Z.b,onSyncCommentNum:function(t){"add"===t.type&&(this.replyCount=this.replyCount+(t.count||1)),"sub"===t.type&&(this.replyCount=this.replyCount-(t.count||1)),this.$emit("syncCommentNum",t)},isCurrentUsersReply:function(){return this.currentUser&&this.currentUser.user_id===this.reply.user_info.user_id},toggleLike:function(){var t=this;return this.currentUser?this.currentUser.isBindedPhone?void(this.isLikeLoading||this.$ensureAuthorized().then((function(){t.isLikeLoading=!0,t.reply.user_interact.is_digg?Object(U.c)({itemId:t.reply.reply_info.reply_id,type:6}).then((function(e){t.isLikeLoading=!1,0!==e.err_no?t.$error(e.err_msg):(t.reply.reply_info.digg_count--,t.reply.user_interact.is_digg=!t.reply.user_interact.is_digg)})):(Object(U.b)({itemId:t.reply.reply_info.reply_id,type:6}).then((function(e){t.isLikeLoading=!1,0!==e.err_no?t.$error(e.err_msg):(t.reply.reply_info.digg_count++,t.reply.user_interact.is_digg=!t.reply.user_interact.is_digg)})),t.$TEA("like_action",{like_comment_mode:t.mode}))}))):this.$requestBindPhoneNumber(tt.a.interact):this.$requestLogin()},onReplyFormEmptyBlur:function(){var t=this;window.setTimeout((function(){t.isReplyFormVisible=!1}))},onSubmitted:function(){this.isReplyFormVisible=!1,this.$emit("submitted")},deleteComment:function(t){var e=this;this.$ensureAuthorized("login").then((function(){window.confirm("确定删除这条评论吗？")&&Object(T.b)({comment_id:t.reply_info.reply_comment_id,reply_id:t.reply_info.reply_id}).then((function(){e.replyList.some((function(n,r){n.reply_info.reply_id===t.reply_info.reply_id&&e.replyList.splice(r,1)})),e.$alertMsg("删除成功"),e.$emit("syncCommentNum",{type:"sub"})})).catch((function(){e.$alertMsg("删除失败，刷新后重试")}))}))}},mounted:function(){var t=this.$refs.content;if(t){var e=t.clientHeight;t.scrollHeight>e&&(this.extend=!0)}}},nt=(n(1430),Object(H.a)(et,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"subcomment"},[n("UserPopover",{attrs:{"user-id":t.reply.user_info.user_id,"show-jscore-level":!0}},[n("app-link",{staticClass:"user-link",attrs:{to:t.$userRoute(t.reply.user_info.user_id),blank:!0}},[n("Avatar",{staticClass:"avatar",attrs:{user:t.reply.user_info}})],1)],1),t._v(" "),n("div",{staticClass:"content-box"},[n("div",{staticClass:"content-wrapper"},[n("span",{staticClass:"delete",class:{removable:t.removableReply},on:{click:function(e){return t.deleteComment(t.reply)}}},[t._v("\n        删除\n      ")]),t._v(" "),n("div",{staticClass:"user-box"},[n("UserPopover",{attrs:{"user-id":t.reply.user_info.user_id,"show-jscore-level":!0}},[n("username",{staticClass:"username",attrs:{"max-width":t.usernameMaxWidth,user:t.reply.user_info,universal:!0,"show-jpower-level":!1}})],1),t._v(" "),t.hasAuthorBadge&&!t.isMobile?n("span",{staticClass:"author-badge-text"},[t._v("\n          （作者）\n        ")]):t._e(),t._v(" "),t.reply.reply_user&&t.reply.reply_user.user_name&&!t.isMobile?n("div",{staticClass:"rely-box"},[n("span",[t._v("回复")]),t._v(" "),n("UserPopover",{attrs:{"user-id":t.reply.reply_user.user_id,"show-jscore-level":!0}},[n("app-link",{staticClass:"repliedname",style:{"max-width":t.usernameMaxWidth},attrs:{to:t.$userRoute(t.reply.reply_user)}},[t._v("\n              "+t._s(t.reply.reply_user.user_name)+"\n            ")])],1)],1):t._e(),t._v(" "),n("time",{staticClass:"time",attrs:{datetime:t._f("iso")(1e3*t.reply.reply_info.ctime),title:new Date(1e3*t.reply.reply_info.ctime)}},[t._v("\n          "+t._s(t._f("relative")(1e3*t.reply.reply_info.ctime))+"\n        ")])],1),t._v(" "),n("div",{ref:"content",staticClass:"content",class:{extend:t.isShowAll,hasimage:!!t.imageUrl},domProps:{innerHTML:t._s(t.parseUrlEmoji(t.reply.reply_info.reply_content))}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.extend&&!t.isShowAll,expression:"extend && !isShowAll"}],staticClass:"limit-btn",on:{click:function(e){t.isShowAll=!0}}},[t._v("\n        展开\n      ")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.extend&&t.isShowAll,expression:"extend && isShowAll"}],staticClass:"limit-btn",on:{click:function(e){t.isShowAll=!1}}},[t._v("\n        收起\n      ")]),t._v(" "),t.imageUrl?n("Thumb",{staticClass:"viewable",attrs:{"data-src":t.imageUrl,url:t.imageUrl,width:160,height:160,format:"jpg"}}):t._e(),t._v(" "),t.parentReply?n("div",{staticClass:"parent-wrapper"},[t.hasParentRemove?t._e():n("div",[t._v("“")]),t._v(" "),n("div",{staticClass:"parent-content",domProps:{innerHTML:t._s(t.parentReply)}}),t._v(" "),t.hasParentRemove?t._e():n("div",[t._v("”")])]):t._e(),t._v(" "),n("div",{staticClass:"action-box"},[n("div",{staticClass:"item dig-item",class:t.reply.user_interact.is_digg&&"active",on:{click:t.toggleLike}},[t.reply.user_interact.is_digg?n("LikeActiveIcon"):n("LikeIcon"),t._v("\n          "+t._s(t.reply.reply_info.digg_count||"点赞")+"\n        ")],1),t._v(" "),n("div",{staticClass:"item",class:t.isReplyFormVisible&&"active",on:{click:function(e){t.isReplyFormVisible=!t.isReplyFormVisible}}},[t.isReplyFormVisible?n("CommentActiveIcon"):n("CommentIcon"),t._v("\n          "+t._s(t.isReplyFormVisible?"取消回复":t.replyCount||"回复")+"\n        ")],1)])],1),t._v(" "),t.isReplyFormVisible?n("CommentForm",{staticClass:"replyform",attrs:{subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,parent:t.parent,comment:t.reply,"reply-list":t.replyList,"auto-focus":t.isAutoFocus,placeholder:t.replyPlaceholder,mode:t.mode,"submit-title":"发布"},on:{emptyBlur:t.onReplyFormEmptyBlur,submitted:t.onSubmitted,syncCommentNum:t.onSyncCommentNum}}):t._e()],1)],1)}),[],!1,null,"d11b5ece",null).exports),it=n(1232),ot=n.n(it),st={components:{SubComment:nt,MoreIcon:ot.a},props:["subject","parent","expanded","removable","user","mode","jjHelperItemId","jjHelperItemType"],data:function(){return{list:[],cursor:"0",limit:20,count:0,has_more:!0,loading:!1,showAll:!1}},computed:{canFetchMore:function(){var t=this.parent.comment_info.reply_count;return!!this.list.length&&(t>2&&t<=10&&(this.showAll=!0),this.expanded?"0"===this.cursor?this.parent.comment_info.reply_count>this.list.length:this.has_more:this.list.length&&this.parent.comment_info.reply_count>this.list.length)}},watch:{parent:function(t){this.list=t.reply_infos}},methods:{getRouterParams:function(){return{name:{2:"column",4:"pin",12:"book"}[this.subject.item_type],params:{id:this.subject.item_id}}},refetch:function(){this.$emit("refetch")},fetchMore:function(){var t=this;!this.loading&&this.has_more&&(this.loading=!0,Object(T.f)({comment_id:this.parent.comment_info.comment_id,item_id:this.subject.item_id,item_type:this.subject.item_type,cursor:this.cursor,limit:this.limit}).then((function(e){var data=e.data,n=e.count,r=e.has_more,cursor=e.cursor;t.loading=!1,t.mergeList(data),t.count=n,t.has_more=r,t.cursor=cursor})).catch((function(e){t.loading=!1,console.error(e)})))},mergeList:function(t){var e,n=this.list.reduce((function(t,e){return t[e.reply_info.reply_id]=!0,t}),{}),r=t.filter((function(t){return!n[t.reply_info.reply_id]}));(e=this.list).push.apply(e,Object(c.a)(r))},onSyncCommentNum:function(t){this.$emit("syncCommentNum",t)}},created:function(){this.list=this.parent.reply_infos}},at=(n(1431),Object(H.a)(st,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.list.length?n("div",{staticClass:"sub-comment-list"},[n("div",t._l(t.list,(function(e){return n("sub-comment",{key:e.reply_info.reply_id,staticClass:"sub-comment",attrs:{"data-jj-helper-comment-id":e.reply_info&&e.reply_info.reply_id,"data-jj-helper-item-id":t.jjHelperItemId,"data-jj-helper-item-type":t.jjHelperItemType,subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,parent:t.parent,reply:e,replyList:t.list,removable:t.removable,user:t.user,mode:t.mode},on:{refetch:t.refetch,syncCommentNum:t.onSyncCommentNum}})})),1),t._v(" "),t.canFetchMore&&t.has_more?n("div",{staticClass:"fetch-more"},[t.expanded||t.showAll?t.loading?n("span",{staticClass:"fetch-more-comment"},[t._v("加载中...")]):n("span",{staticClass:"fetch-more-comment",on:{click:t.fetchMore}},[t._v("\n      查看更多回复\n      "),n("MoreIcon")],1):n("app-link",{staticClass:"fetch-more-comment",attrs:{to:t.getRouterParams(),blank:!0}},[t._v("\n      查看更多回复\n    ")])],1):t._e()]):t._e()}),[],!1,null,"57847950",null).exports),ct={components:{Avatar:f.a,Thumb:m.a,CommentForm:N,SubCommentList:at,UserPopover:F.default,LikeIcon:G.a,LikeActiveIcon:K.a,CommentIcon:J.a,CommentActiveIcon:Q.a},props:["list","subject","comment","expanded","mode","jjHelperItemId","jjHelperItemType"],data:function(){return{likeLock:Object(h.a)(),isReplyFormVisible:!1,isShowAll:!1,isLikeLoading:!1,parseUrlEmoji:Z.b,extend:!1,replyCount:this.comment.comment_info.reply_count}},computed:{isMobile:function(){return this.$device.isMobile},isDelete:function(){var t;return null===(t=this.comment.user_info)||void 0===t?void 0:t.is_logout},currentUser:function(){var t=this.$store.getters;return"USER"in t?t.USER:null},isCurrentUsersSubject:function(){return this.currentUser&&this.currentUser.user_id===this.subject.user_id},isCurrentUsersComment:function(){return this.currentUser&&this.currentUser.user_id===this.comment.user_info.user_id},isAdmin:function(){return this.currentUser&&"admin"===this.currentUser.role},hasAuthorBadge:function(){return this.subject.user_id===this.comment.user_info.user_id},removable:function(){return this.isAdmin||this.isCurrentUsersSubject||this.isCurrentUsersComment},mobile:function(){return this.$device.isMobile},position:function(){return this.$userPosition(this.comment.user_info)},imageUrl:function(){return this.comment.comment_info.comment_pics[0]&&this.comment.comment_info.comment_pics[0].pic_url},replyPlaceholder:function(){return"回复".concat(this.comment.user_info.user_name,"...")},isAutoFocus:function(){return!this.currentUser||this.currentUser.isBindedPhone}},methods:{toggleLike:function(){var t=this;return this.currentUser?this.currentUser.isBindedPhone?void(this.isLikeLoading||this.$ensureAuthorized().then((function(){t.isLikeLoading=!0,t.comment.user_interact.is_digg?Object(U.c)({itemId:t.comment.comment_info.comment_id,type:5}).then((function(e){t.isLikeLoading=!1,0!==e.err_no?t.$error(e.err_msg):(t.comment.comment_info.digg_count--,t.comment.user_interact.is_digg=!t.comment.user_interact.is_digg)})):(Object(U.b)({itemId:t.comment.comment_info.comment_id,type:5}).then((function(e){t.isLikeLoading=!1,0!==e.err_no?t.$error(e.err_msg):(t.comment.comment_info.digg_count++,t.comment.user_interact.is_digg=!t.comment.user_interact.is_digg)})),t.$TEA("like_action",{like_comment_mode:t.mode}))}))):this.$requestBindPhoneNumber(tt.a.interact):this.$requestLogin()},onReplyFormEmptyBlur:function(){var t=this;window.setTimeout((function(){t.isReplyFormVisible=!1}))},onSubmitted:function(){this.isReplyFormVisible=!1,this.$refs.subCommentList.onSubmitted()},refetch:function(){this.$emit("refetch")},deleteComment:function(t){var e=this;this.$ensureAuthorized("login").then((function(){window.confirm("确定删除这条评论吗？")&&Object(T.a)({comment_id:t.comment_info.comment_id}).then((function(){e.list.some((function(n,r){n.comment_info.comment_id===t.comment_info.comment_id&&e.list.splice(r,1)})),e.$alertMsg("删除成功"),e.$emit("syncCommentNum",{type:"sub",count:t.reply_infos.length})})).catch((function(){e.$alertMsg("删除失败，刷新后重试")}))}))},onSyncCommentNum:function(t){"add"===t.type&&(this.replyCount=this.replyCount+(t.count||1)),"sub"===t.type&&(this.replyCount=this.replyCount-(t.count||1)),this.$emit("syncCommentNum",t)}},mounted:function(){var t=this.$refs.content;if(t){var e=t.clientHeight;t.scrollHeight>e&&(this.extend=!0)}}},lt=(n(1432),Object(H.a)(ct,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment"},[n("UserPopover",{staticClass:"popover",attrs:{"user-id":t.comment.user_info.user_id,"enable-popover":Boolean(!t.isDelete),"show-jscore-level":!0}},[n("app-link",{staticClass:"user-link",attrs:{to:t.$userRoute(t.comment.user_info.user_id),blank:!0}},[n("Avatar",{staticClass:"avatar",attrs:{user:t.comment.user_info,alt:t.comment.user_info.user_name+"的头像"}})],1)],1),t._v(" "),n("div",{staticClass:"content-box"},[n("div",{staticClass:"comment-main"},[n("span",{staticClass:"delete",class:{removable:t.removable},on:{click:function(e){return t.deleteComment(t.comment)}}},[t._v("\n        删除\n      ")]),t._v(" "),n("div",{staticClass:"user-box"},[n("UserPopover",{attrs:{"user-id":t.comment.user_info.user_id,"enable-popover":Boolean(!t.isDelete),"show-jscore-level":!0}},[n("username",{staticClass:"username",attrs:{user:t.comment.user_info,universal:!0,"show-jscore-level":!0}})],1),t._v(" "),t.hasAuthorBadge&&!t.isMobile?n("span",{staticClass:"author-badge-text"},[t._v("\n          （作者）\n        ")]):t._e(),t._v(" "),t.position&&!t.isMobile?n("span",{staticClass:"position"},[t._v("\n          "+t._s(t.position)+"\n        ")]):t._e(),t._v(" "),n("time",{staticClass:"time",attrs:{datetime:t._f("iso")(1e3*t.comment.comment_info.ctime),title:new Date(1e3*t.comment.comment_info.ctime)}},[t._v("\n          "+t._s(t._f("relative")(1e3*t.comment.comment_info.ctime))+"\n        ")])],1),t._v(" "),n("div",{ref:"content",staticClass:"content",class:{extend:t.extend&&t.isShowAll,hasimage:!!t.imageUrl},domProps:{innerHTML:t._s(t.parseUrlEmoji(t.comment.comment_info.comment_content))}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.extend&&!t.isShowAll,expression:"extend && !isShowAll"}],staticClass:"limit-btn",on:{click:function(e){t.isShowAll=!0}}},[t._v("\n        展开\n      ")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.extend&&t.isShowAll,expression:"extend && isShowAll"}],staticClass:"limit-btn",on:{click:function(e){t.isShowAll=!1}}},[t._v("\n        收起\n      ")]),t._v(" "),t.imageUrl?n("Thumb",{staticClass:"viewable",attrs:{"data-src":t.imageUrl,url:t.imageUrl,width:160,height:160,format:"jpg"}}):t._e(),t._v(" "),n("div",{staticClass:"action-box"},[n("div",{staticClass:"item dig-item",class:t.comment.user_interact.is_digg&&"active",on:{click:t.toggleLike}},[t.comment.user_interact.is_digg?n("LikeActiveIcon"):n("LikeIcon"),t._v("\n          "+t._s(t.comment.comment_info.digg_count||"点赞")+"\n        ")],1),t._v(" "),n("div",{staticClass:"item",class:t.isReplyFormVisible&&"active",on:{click:function(e){t.isReplyFormVisible=!t.isReplyFormVisible}}},[t.isReplyFormVisible?n("CommentActiveIcon"):n("CommentIcon"),t._v("\n          "+t._s(t.isReplyFormVisible?"取消回复":t.replyCount||"回复")+"\n        ")],1)])],1),t._v(" "),n("div",{staticClass:"subcomment-wrapper"},[t.isReplyFormVisible?n("CommentForm",{staticClass:"comment-form",attrs:{subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,comment:t.comment,replyList:t.comment.reply_infos,autoFocus:t.isAutoFocus,placeholder:t.replyPlaceholder,mode:t.mode,"submit-title":"发布"},on:{emptyBlur:t.onReplyFormEmptyBlur,submitted:t.onSubmitted,syncCommentNum:t.onSyncCommentNum}}):t._e(),t._v(" "),n("SubCommentList",{ref:"subCommentList",attrs:{subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,parent:t.comment,expanded:t.expanded,removable:t.isAdmin||t.isCurrentUsersSubject,user:t.currentUser,mode:t.mode},on:{refetch:t.refetch,syncCommentNum:t.onSyncCommentNum}})],1)])],1)}),[],!1,null,"28fac216",null).exports),ut={components:{ImageViewer:d.a,Comment:lt},props:["subject","list","expanded","mode","jjHelperItemId","jjHelperItemType"],methods:{initImageViewer:function(){this.$refs.imageViewer.attachContainer(this.$el)},refetch:function(){this.$emit("refetch")},onSyncCommentNum:function(t){this.$emit("syncCommentNum",t)}},mounted:function(){this.initImageViewer()}},ht=(n(1433),Object(H.a)(ut,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-list"},[n("ImageViewer",{ref:"imageViewer",attrs:{selector:".viewable"}}),t._v(" "),t._l(t.list,(function(e){return n("comment",{key:e.comment_id,attrs:{"data-jj-helper-comment-id":e.comment_id,"data-jj-helper-item-id":t.jjHelperItemId,"data-jj-helper-item-type":t.jjHelperItemType,list:t.list,comment:e,subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,expanded:t.expanded,mode:t.mode},on:{refetch:t.refetch,syncCommentNum:t.onSyncCommentNum}})}))],2)}),[],!1,null,"065db163",null).exports),ft=n(8),mt=n(1434),pt=n.n(mt),vt=Object(ft.d)({props:{subject:{type:Object,required:!0},jjHelperItemId:{type:String,default:""},jjHelperItemType:{type:String,default:""}},components:{HotIcon:pt.a,CommentComp:lt,ImageViewer:d.a},setup:function(t){var e=Object(ft.q)([]);Object(ft.x)((function(){var n=t.subject,r=n.item_id,o=n.item_type;r&&o&&Object(T.e)({item_id:r,item_type:o}).then((function(t){return e.value=t}))}));var n=Object(ft.a)((function(){return e.value.slice(0,5)})),r=Object(ft.q)(),o=Object(ft.q)();return Object(ft.w)([r,o],(function(){r.value&&o.value&&r.value.attachContainer(o.value)})),{list:n,imageViewer:r,commentContainer:o}}}),_t=(n(1435),Object(H.a)(vt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.list.length>0?n("div",{staticClass:"container"},[n("ImageViewer",{ref:"imageViewer",attrs:{selector:".viewable"}}),t._v(" "),n("div",{staticClass:"title"},[t._v("\n    热门评论\n    "),n("HotIcon")],1),t._v(" "),n("div",{ref:"commentContainer",staticClass:"list"},t._l(t.list,(function(e){return n("CommentComp",{key:e.comment_id,attrs:{"data-jj-helper-comment-id":e.comment_id,"data-jj-helper-item-id":t.jjHelperItemId,"data-jj-helper-item-type":t.jjHelperItemType,list:t.list,comment:e,subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,expanded:!0,mode:"top"}})})),1)],1):t._e()}),[],!1,null,"03178cda",null).exports),gt=n(1436),bt=n.n(gt),yt=n(1437),Ct=n.n(yt),wt={components:{CommentForm:N,CommentList:ht,HotCommentList:_t,MoreIcon:ot.a,HotIcon:bt.a,TimeIcon:Ct.a},props:["subject","expanded","sticky","forbidInput","small","hasSort","hasHot","needLoginGuide","jjHelperItemId","jjHelperItemType"],data:function(){return{list:[],cursor:"0",limit:20,count:0,has_more:!0,loading:!1,listSize:0,sort:"new",hasLoadMore:!1}},watch:{"subject.item_id":{handler:function(t){t&&!this.$isServer&&this.fetchData()}},sortData:{handler:function(){this.$isServer||this.fetchData()}}},computed:{sortData:function(){return{new:0,hot:1}[this.sort]||0}},methods:{setSort:function(t){this.$TEA("comment_switch",{switch:t}),this.sort=t},getMore:function(){var t=this;if(!this.expanded){var e=this.$router.resolve({name:{2:"column",4:"pin",12:"book"}[this.subject.item_type],params:{id:this.subject.item_id},hash:"#comment"}).href;window.open(e,"_blank")}if(this.expanded&&!this.hasLoadMore){this.hasLoadMore=!0,this.fetchMoreIfConditionIsSatisfied();var n=this.$getBean("eventBus");n.onVmLife(this,n.eventType.ROOT_CONTAINER_SCROLL,(function(){t.fetchMoreIfConditionIsSatisfied()})),Object(l.l)(this.$el,(function(){t.fetchMoreIfConditionIsSatisfied()}))}},fetchMore:function(){var t=this;if(!this.loading&&this.has_more){this.loading=!0;var e=this.subject,n=e.item_id,r=e.item_type;Object(T.d)({item_id:n,item_type:r,cursor:this.cursor,limit:this.limit,sort:this.sortData}).then((function(e){var data=e.data,cursor=e.cursor,n=e.count,r=e.has_more;t.listSize=data.length,t.loading=!1,t.mergeList(data),t.count=n,t.cursor=cursor,t.has_more=r})).catch((function(e){t.loading=!1,console.error(e)}))}},mergeList:function(t){var e,n=this.list.reduce((function(t,e){return t[e.comment_id]=!0,t}),{}),r=t.filter((function(t){return!n[t.comment_id]}));(e=this.list).push.apply(e,Object(c.a)(r))},fetchMoreIfConditionIsSatisfied:function(){Object(l.b)(this.$el)>-200&&this.fetchMore()},onSubmitted:function(){},onRefetch:function(){this.fetchData()},onSyncCommentNum:function(t){this.$emit("syncCommentNum",t)},fetchData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,data,cursor,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.subject,r=n.item_id,o=n.item_type,!t.loading&&r){e.next=3;break}return e.abrupt("return");case 3:return t.loading=!0,t.limit=t.expanded?20:5,t.cursor="0",t.count=0,t.has_more=!0,e.prev=8,e.next=11,Object(T.d)({item_id:r,item_type:o,cursor:t.cursor,limit:t.limit,sort:t.sortData});case 11:c=e.sent,data=c.data,cursor=c.cursor,l=c.count,d=c.has_more,t.listSize=data.length,t.loading=!1,t.list=data,t.count=l,t.cursor=cursor,t.has_more=d,e.next=28;break;case 24:e.prev=24,e.t0=e.catch(8),t.loading=!1,console.error(e.t0);case 28:case"end":return e.stop()}}),e,null,[[8,24]])})))()}},mounted:function(){this.fetchData()}},Ot=(n(1438),Object(H.a)(wt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container comment-list-box",class:t.small&&"small",attrs:{"data-jj-helper":"comment-container"}},[t.forbidInput?t._e():n("CommentForm",{attrs:{commentList:t.list,subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,small:t.small,"need-login-guide":t.needLoginGuide,title:"评论"},on:{submitted:t.onSubmitted,syncCommentNum:t.onSyncCommentNum}}),t._v(" "),t.hasHot?n("HotCommentList",{staticClass:"hot-list",attrs:{subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType}}):t._e(),t._v(" "),t.list.length?n("div",{staticClass:"comment-list-wrapper"},[n("div",{staticClass:"title"},[t._v("\n      全部评论 "+t._s(t.subject.comment_count)+"\n      "),t.hasSort?n("div",{staticClass:"sort"},[n("div",{staticClass:"item",class:"new"===t.sort&&"active",on:{click:function(e){return t.setSort("new")}}},[n("TimeIcon"),t._v("\n          最新\n        ")],1),t._v(" "),n("div",{staticClass:"item",class:"hot"===t.sort&&"active",on:{click:function(e){return t.setSort("hot")}}},[n("HotIcon"),t._v("\n          最热\n        ")],1)]):t._e()]),t._v(" "),n("comment-list",{staticClass:"comment-list",attrs:{list:t.list,subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,expanded:t.expanded,mode:t.sort},on:{refetch:t.onRefetch,syncCommentNum:t.onSyncCommentNum}}),t._v(" "),t.list.length<t.subject.comment_count&&t.has_more?n("p",{staticClass:"fetch-more-comment",on:{click:t.getMore}},[t._v("\n      "+t._s(t.hasLoadMore?"加载中...":"查看全部 "+t.subject.comment_count+" 条回复")+"\n      "),t.expanded&&!t.hasLoadMore?n("MoreIcon"):t._e()],1):t._e()],1):t._e()],1)}),[],!1,null,"38c0fdbe",null));e.a=Ot.exports},1498:function(t,e,n){"use strict";var r={default:[n(1652),n(1653)]},o={props:["square"],computed:{imageUrl:function(){return r.default[this.square?1:0]}}},c=(n(1654),n(30)),component=Object(c.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wechat-banner"},[e("img",{staticClass:"wechat-img",class:{square:this.square},attrs:{src:this.imageUrl}})])}),[],!1,null,"7691896e",null);e.a=component.exports},1499:function(t,e,n){"use strict";n(16),n(15),n(11),n(6),n(14);var r=n(0),o=n(1042),c=n(160),l=n(275);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var h={components:{SidebarBlock:o.a},props:{list:{type:Array,default:function(){return[]}},title:{type:String,default:""},interactive:{type:Boolean,default:!1},fromPage:String},methods:{getRecoTeaContent:function(t){var e,n;return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({event_page:l.a.ARTICLE_DETAIL_RIGHT,req_id:null==t?void 0:t.req_id,boost_type:t.extra?t.extra.boost_type:void 0,catogory_id:null==t||null===(e=t.category)||void 0===e?void 0:e.category_id,from_page:Object(c.a)(this.fromPage),from_page_type:Object(c.b)(),item_id:null==t?void 0:t.article_id,item_type:2,item_author_id:null==t||null===(n=t.author_user_info)||void 0===n?void 0:n.user_id,from_item_id:this.$route.params.id,from_item_type:2},Object(l.c)(t))},handleVisibleChange:function(t,e){var n=this;return function(r){r&&(Object(l.f)(r,n.$TEA,n.$route,5,t,e+1),n.$TEA("item_display",n.getRecoTeaContent(t)))}},recordClick:function(t){localStorage.setItem("fromPage","rightRecommend"),this.$TEA("item_click",this.getRecoTeaContent(t))}}},f=(n(1374),n(30)),component=Object(f.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.list.length?n("sidebar-block",{staticClass:"related-entry-sidebar-block",attrs:{"st:block":"relatedEntrySidebarBlock",title:t.title}},[n("div",{staticClass:"entry-list"},t._l(t.list,(function(e,r){return n("app-link",{directives:[{name:"visible-change",rawName:"v-visible-change.once",value:t.handleVisibleChange(e,r),expression:"handleVisibleChange(entry, index)",modifiers:{once:!0}}],key:r,staticClass:"item",attrs:{to:t.$entryPublicRoute(e),blank:!0,"st:name":"link",title:e.title},nativeOn:{click:function(n){return t.recordClick(e)}}},[n("div",{staticClass:"entry-title"},[t._v(t._s(e.title))]),t._v(" "),t.interactive?n("div",{staticClass:"entry-meta-box"},[n("div",{staticClass:"entry-meta"},[t._v(t._s(e.likedCount||0)+"点赞")]),t._v(" "),n("div",{staticClass:"entry-meta"},[t._v(" · ")]),t._v(" "),n("div",{staticClass:"entry-meta"},[t._v(t._s(e.commentsCount||0)+"评论")])]):t._e()])})),1)]):t._e()}),[],!1,null,"54794b76",null);e.a=component.exports},1652:function(t,e,n){t.exports=n.p+"img/default.49d4dd8.png"},1653:function(t,e,n){t.exports=n.p+"img/default.640d9a7.png"},1654:function(t,e,n){"use strict";n(1372)},1655:function(t,e,n){"use strict";n(1373)},1656:function(t,e,n){"use strict";n(1378)},1657:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("symbol",{attrs:{id:"icon-collect",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.24287 18.3845C4.89724 18.5507 4.48229 18.4053 4.31605 18.0596C4.26029 17.9437 4.23783 17.8146 4.25117 17.6866L4.75725 12.8332C4.77762 12.6379 4.71431 12.443 4.583 12.297L1.29207 8.63594C1.03567 8.35071 1.05905 7.91164 1.34428 7.65524C1.43464 7.574 1.54475 7.5179 1.66358 7.49254L6.47789 6.46509C6.66998 6.42409 6.83572 6.30367 6.93407 6.13365L9.39894 1.87248C9.59098 1.54049 10.0158 1.42704 10.3478 1.61907C10.453 1.67992 10.5403 1.76729 10.6012 1.87248L13.0661 6.13365C13.1644 6.30367 13.3301 6.42409 13.5222 6.46509L18.3365 7.49254C18.7116 7.57259 18.9508 7.94155 18.8707 8.31664C18.8454 8.43547 18.7893 8.54557 18.708 8.63594L15.4171 12.297C15.2858 12.443 15.2225 12.6379 15.2429 12.8332L15.7489 17.6866C15.7887 18.0681 15.5117 18.4096 15.1303 18.4493C15.0023 18.4627 14.8732 18.4402 14.7572 18.3845L10.3011 16.2412C10.1108 16.1497 9.8893 16.1497 9.69906 16.2412L5.24287 18.3845Z"}})]),n("symbol",{attrs:{id:"icon-comment",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.62739 1.25C2.9347 1.25 1.5625 2.6222 1.5625 4.31489L1.56396 12.643C1.56403 14.3356 2.9362 15.7078 4.62885 15.7078H6.48326L6.93691 17.6869L6.93884 17.6948C7.16894 18.6441 8.28598 19.0599 9.08073 18.4921L12.7965 15.7078H15.5001C17.1928 15.7078 18.565 14.3355 18.565 12.6428L18.5635 4.31477C18.5635 2.62213 17.1913 1.25 15.4986 1.25H4.62739ZM5.98265 9.89255C6.68783 9.89255 7.2595 9.32089 7.2595 8.61571C7.2595 7.91053 6.68783 7.33887 5.98265 7.33887C5.27747 7.33887 4.70581 7.91053 4.70581 8.61571C4.70581 9.32089 5.27747 9.89255 5.98265 9.89255ZM9.95604 9.89255C10.6612 9.89255 11.2329 9.32089 11.2329 8.61571C11.2329 7.91053 10.6612 7.33887 9.95604 7.33887C9.25086 7.33887 8.6792 7.91053 8.6792 8.61571C8.6792 9.32089 9.25086 9.89255 9.95604 9.89255ZM15.2124 8.61571C15.2124 9.32089 14.6407 9.89255 13.9355 9.89255C13.2304 9.89255 12.6587 9.32089 12.6587 8.61571C12.6587 7.91053 13.2304 7.33887 13.9355 7.33887C14.6407 7.33887 15.2124 7.91053 15.2124 8.61571Z"}})]),n("symbol",{attrs:{id:"icon-zan",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.0651 3.25923C12.6654 2.21523 12.1276 1.60359 11.4633 1.40559C10.8071 1.21 10.2539 1.48626 9.97848 1.67918C9.43962 2.05668 9.17297 2.64897 9.0009 3.12662C8.93522 3.30893 8.87504 3.50032 8.82077 3.67291L8.82077 3.67292C8.80276 3.73019 8.78541 3.78539 8.76872 3.8375C8.6974 4.06017 8.63455 4.23905 8.56561 4.38315C8.07104 5.41687 7.64014 6.034 7.2617 6.43277C6.89154 6.8228 6.5498 7.0275 6.18413 7.21038C5.8887 7.35813 5.69369 7.66144 5.69365 8.00211L5.69237 17.3908C5.6923 17.8783 6.08754 18.2736 6.57511 18.2736H14.8382C15.2621 18.2736 15.5829 18.1393 15.8149 17.9421C15.9234 17.8497 15.9985 17.7554 16.0484 17.6856C16.0695 17.6561 16.088 17.6282 16.0983 17.6126L16.1017 17.6075L16.1033 17.6051L16.1194 17.5857L16.1428 17.5478C16.913 16.3019 17.4472 15.3088 17.8659 14.1183C18.3431 12.7613 18.5849 11.5853 18.6874 10.6685C18.7871 9.77617 18.7612 9.07318 18.6558 8.68779C18.5062 8.14118 18.138 7.82653 17.7668 7.66617C17.4231 7.51771 17.0763 7.49836 16.8785 7.49807L13.1134 7.44551C13.662 5.19751 13.31 3.89889 13.0651 3.25923ZM1.251 8.0848C1.22726 7.5815 1.62891 7.16046 2.13277 7.16046H3.4408C3.92832 7.16046 4.32354 7.55568 4.32354 8.04321V17.4303C4.32354 17.9178 3.92832 18.313 3.4408 18.313H2.57554C2.10419 18.313 1.71599 17.9427 1.69378 17.4718L1.251 8.0848Z"}})]),n("symbol",{attrs:{id:"icon-share",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.4167 6.40399C5.35406 6.40399 1.25 10.5675 1.25 15.7035C1.25 16.0225 1.28448 16.4512 1.35344 16.9898C1.36807 17.1039 1.47243 17.1846 1.58655 17.17C1.6483 17.1621 1.70328 17.127 1.73643 17.0743L1.86865 16.8676C1.99553 16.6731 2.10644 16.5147 2.20137 16.3925C3.69554 14.4692 6.13777 13.3823 9.35515 13.3378L10.4167 13.3364V17.0757C10.4167 17.3101 10.6086 17.5 10.8453 17.5C10.959 17.5 11.068 17.4553 11.1483 17.3757L18.145 10.45C18.3961 10.2015 18.3961 9.79853 18.145 9.55L11.1483 2.62426C10.981 2.45858 10.7096 2.45858 10.5422 2.62426C10.4618 2.70383 10.4167 2.81174 10.4167 2.92426V6.40399Z"}})]),n("symbol",{attrs:{id:"icon-report",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.8389 1.89381C11.0873 2.03868 11.2939 2.24532 11.4388 2.49366L18.9369 15.0065C19.4007 15.8015 19.1322 16.8221 18.3371 17.2859C18.0822 17.4346 17.7924 17.5129 17.4973 17.5129H2.50041C1.57993 17.5129 0.83374 16.7667 0.83374 15.8462C0.83374 15.5512 0.912088 15.2614 1.06078 15.0065L8.5595 2.49366C9.0233 1.69857 10.0438 1.43001 10.8389 1.89381ZM10.3118 13.3459C10.6283 13.3459 10.8848 13.6025 10.8848 13.9189V14.4918C10.8848 14.8082 10.6283 15.0647 10.3118 15.0647H9.73893C9.42252 15.0647 9.16602 14.8082 9.16602 14.4918V13.9189C9.16602 13.6025 9.42252 13.3459 9.73893 13.3459H10.3118ZM10.8356 7.09513C10.8356 6.86502 10.6491 6.67847 10.419 6.67847H9.58512C9.35501 6.67847 9.16846 6.86502 9.16846 7.09513V12.0956C9.16846 12.3257 9.35501 12.5123 9.58512 12.5123H10.419C10.6491 12.5123 10.8356 12.3257 10.8356 12.0956V7.09513Z"}})]),n("symbol",{attrs:{id:"icon-immerse",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.25 1C0.25 0.585786 0.585786 0.25 1 0.25H4C4.41421 0.25 4.75 0.585786 4.75 1C4.75 1.41421 4.41421 1.75 4 1.75H1.75V4C1.75 4.41421 1.41421 4.75 1 4.75C0.585786 4.75 0.25 4.41421 0.25 4V1ZM0.25 19C0.25 19.4142 0.585786 19.75 1 19.75H4C4.41421 19.75 4.75 19.4142 4.75 19C4.75 18.5858 4.41421 18.25 4 18.25H1.75V16C1.75 15.5858 1.41421 15.25 1 15.25C0.585786 15.25 0.25 15.5858 0.25 16V19ZM19 0.25C19.4142 0.25 19.75 0.585786 19.75 1V4C19.75 4.41421 19.4142 4.75 19 4.75C18.5858 4.75 18.25 4.41421 18.25 4V1.75H16C15.5858 1.75 15.25 1.41421 15.25 1C15.25 0.585786 15.5858 0.25 16 0.25H19ZM19.75 19C19.75 19.4142 19.4142 19.75 19 19.75H16C15.5858 19.75 15.25 19.4142 15.25 19C15.25 18.5858 15.5858 18.25 16 18.25H18.25V16C18.25 15.5858 18.5858 15.25 19 15.25C19.4142 15.25 19.75 15.5858 19.75 16V19ZM7 5C5.89543 5 5 5.89543 5 7V13C5 14.1046 5.89543 15 7 15H13C14.1046 15 15 14.1046 15 13V7C15 5.89543 14.1046 5 13 5H7Z"}})]),n("symbol",{attrs:{id:"icon-wechat",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.5578 5.34061C12.0476 2.85722 8.90911 1.73257 6.11813 2.05358C4.56413 2.23231 3.0449 2.85861 1.88463 3.92471C1.00689 4.72863 0.354462 5.78486 0.109889 6.95889C-0.187864 8.37395 0.125815 9.85314 0.957723 11.0298C1.28982 11.4994 1.68479 11.9193 2.11951 12.2941C2.25136 12.4079 2.38694 12.5172 2.52543 12.6228C2.59301 12.6742 2.66115 12.7249 2.73011 12.7745C2.74195 12.7831 2.75392 12.7902 2.76512 12.7969C2.80389 12.8201 2.83351 12.8378 2.81653 12.8887L2.67458 13.3177C2.53986 13.7252 2.40492 14.1325 2.26998 14.5399C2.22084 14.6883 2.17169 14.8366 2.12256 14.985L2.61572 14.7368C2.85714 14.6151 3.09863 14.4935 3.34012 14.3719C3.58099 14.2507 3.82186 14.1294 4.06266 14.0081L4.40902 13.8337C4.42474 13.8257 4.44104 13.8164 4.45775 13.8069C4.51759 13.7728 4.58265 13.7356 4.64501 13.7481C4.76613 13.7723 4.88708 13.7972 5.00801 13.8221C5.08094 13.8372 5.15386 13.8522 5.22681 13.867C6.06287 14.0373 6.88508 14.1348 7.73859 14.0675C7.4486 13.0669 7.44915 12.0016 7.7559 11.0045C8.09853 9.88624 8.81438 8.89831 9.74448 8.19773C11.0171 7.23915 12.6431 6.81493 14.2212 6.99199C14.0895 6.4081 13.8688 5.85148 13.5578 5.34061ZM4.77922 5.02147C4.28094 5.02147 3.71299 5.35514 3.71299 5.90829C3.71299 6.46088 4.28066 6.79844 4.77922 6.79844C5.29233 6.79844 5.66293 6.42291 5.66293 5.90829C5.66293 5.39311 5.29205 5.02147 4.77922 5.02147ZM10.6158 5.90829C10.6158 6.42444 10.2434 6.79844 9.7296 6.79844C9.23076 6.79844 8.66641 6.46032 8.66641 5.90829C8.66641 5.3557 9.23104 5.02147 9.7296 5.02147C10.2431 5.02147 10.6158 5.39158 10.6158 5.90829ZM17.7911 8.53846C15.3552 6.80489 11.734 6.93368 9.53048 9.01108C8.77779 9.72181 8.22909 10.6485 8.04061 11.6744C7.78288 13.0799 8.22536 14.5441 9.17304 15.605C10.0674 16.6063 11.2889 17.2564 12.5986 17.5166C13.4216 17.6806 14.2559 17.6931 15.0799 17.5344C15.2863 17.4948 15.4911 17.4481 15.6954 17.3986C15.7826 17.3774 15.8697 17.3559 15.9568 17.334C15.9655 17.3319 15.9784 17.3272 15.9934 17.3219C16.0359 17.3068 16.0949 17.2858 16.118 17.2984C16.2476 17.3695 16.3771 17.4408 16.5066 17.5122L17.0557 17.8142L17.0577 17.8153L17.0598 17.8164C17.3912 17.9986 17.7227 18.1809 18.054 18.3634C17.9748 18.0977 17.895 17.832 17.8153 17.5664L17.8146 17.5641L17.6749 17.0981L17.5814 16.7863L17.5332 16.6257C17.5159 16.5675 17.5927 16.5183 17.6556 16.4779C17.6753 16.4653 17.6937 16.4535 17.7073 16.4426C18.0608 16.1622 18.3952 15.8558 18.6963 15.5191C19.1832 14.9747 19.5895 14.3498 19.8161 13.6505C20.0122 13.039 20.0488 12.392 19.9377 11.7604C19.7098 10.438 18.8643 9.30511 17.7911 8.53846ZM15.2396 11.0049C15.1595 10.6088 15.5334 10.1787 15.931 10.1787C16.3063 10.1787 16.7409 10.3931 16.8096 10.7989C16.8724 11.1695 16.556 11.4696 16.227 11.5617C15.8032 11.6802 15.3326 11.4649 15.2396 11.0049ZM12.0348 10.1787C11.6369 10.1787 11.2573 10.6064 11.3385 11.0049C11.4325 11.4667 11.9081 11.68 12.3327 11.5617C12.6626 11.4696 12.9753 11.1695 12.9134 10.7989C12.8453 10.3914 12.4112 10.1787 12.0348 10.1787Z"}})]),n("symbol",{attrs:{id:"icon-weibo",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M-0.000244141 13.0984C-0.000244141 8.70757 6.6145 3.5004 9.18008 4.57052C10.1717 4.98415 9.97381 6.1693 9.85415 6.88576C9.8069 7.16863 9.77186 7.37844 9.82705 7.43887C9.92921 7.55074 10.2955 7.42054 10.7994 7.2414C11.8362 6.87286 13.4557 6.2972 14.5566 7.19617C15.2665 7.77576 14.9657 8.72382 14.7905 9.27603C14.7289 9.4701 14.6829 9.61528 14.7017 9.6784C14.741 9.81053 14.9858 9.91133 15.317 10.0477C15.926 10.2984 16.8269 10.6692 17.2784 11.5759C18.3716 13.7713 15.2036 18.2504 8.62234 18.2504C3.25024 18.2504 -0.000244141 15.6688 -0.000244141 13.0984ZM8.45309 17.057C11.7733 16.7393 14.2944 14.7397 14.0842 12.5908C13.874 10.4418 11.012 8.95732 7.69179 9.27503C4.37159 9.59274 1.85045 11.5924 2.06068 13.7413C2.2709 15.8902 5.13288 17.3747 8.45309 17.057Z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.7098 12.7012C11.1162 14.1374 10.0604 15.6852 8.35157 16.1581C6.64275 16.6311 4.92801 15.8502 4.5216 14.4139C4.11518 12.9777 5.171 11.4299 6.87982 10.957C8.58865 10.484 10.3034 11.2649 10.7098 12.7012ZM7.67026 13.6265C7.89619 14.1072 7.61751 14.7092 7.04779 14.9711C6.47808 15.2331 5.83308 15.0558 5.60715 14.5751C5.38122 14.0945 5.6599 13.4925 6.22962 13.2306C6.79933 12.9686 7.44433 13.1459 7.67026 13.6265ZM8.41746 13.3766C8.63945 13.2745 8.74804 13.0399 8.66001 12.8526C8.57197 12.6654 8.32065 12.5963 8.09866 12.6984C7.87667 12.8004 7.76808 13.035 7.85612 13.2223C7.94415 13.4095 8.19547 13.4786 8.41746 13.3766Z"}}),n("path",{attrs:{d:"M13.648 3.54836C13.9523 3.47388 14.2712 3.43418 14.6004 3.43418C16.7813 3.43418 18.5492 5.18267 18.5492 7.33955C18.5492 7.81593 18.4633 8.27085 18.3066 8.69104C18.168 9.06261 18.3602 9.47493 18.7359 9.61199C19.1116 9.74904 19.5285 9.55894 19.6671 9.18737C19.8822 8.61063 19.9993 7.98781 19.9993 7.33955C19.9993 4.3906 17.5822 2 14.6004 2C14.1528 2 13.717 2.05403 13.2996 2.15619C12.9109 2.25133 12.6738 2.64011 12.77 3.02455C12.8662 3.40899 13.2593 3.6435 13.648 3.54836Z"}}),n("path",{attrs:{d:"M14.2887 6.05162C14.388 6.02824 14.4923 6.01569 14.6004 6.01569C15.3397 6.01569 15.939 6.6084 15.939 7.33955C15.939 7.49914 15.9108 7.65062 15.8596 7.7904C15.7232 8.16277 15.9179 8.57396 16.2944 8.70881C16.6709 8.84366 17.0867 8.65112 17.2231 8.27875C17.3307 7.98466 17.3891 7.66805 17.3891 7.33955C17.3891 5.81633 16.1406 4.58152 14.6004 4.58152C14.3784 4.58152 14.1614 4.60734 13.9529 4.65643C13.5633 4.74813 13.3227 5.1348 13.4154 5.52008C13.5082 5.90535 13.8991 6.14333 14.2887 6.05162Z"}})]),n("symbol",{attrs:{id:"icon-qq",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M11.8841 17.1943C11.1815 17.1943 10.5625 17.2136 10.0541 17.26C9.44625 17.2112 8.8365 17.1898 8.22671 17.1956C6.20498 17.1956 4.40588 17.9613 4.40588 18.5263C4.40588 19.0681 5.89998 19.0076 7.91657 18.987C8.64426 18.985 9.3699 18.9096 10.0824 18.7618C10.6796 18.8879 11.4079 18.9677 12.193 18.9741C14.2095 18.9947 15.7024 19.0552 15.7024 18.5173C15.7024 17.9549 13.9045 17.1943 11.8841 17.1943V17.1943Z"}}),n("path",{attrs:{d:"M16.9138 11.6311C16.5346 10.6112 16.1212 9.60428 15.6745 8.61206C15.6951 8.37141 15.7054 8.12818 15.7054 7.8811C15.7054 4.08086 13.7622 1 10.0649 1C6.36759 1 4.42307 4.08086 4.42307 7.8811C4.42307 8.11274 4.43208 8.34052 4.45138 8.56573C3.99804 9.5756 3.57913 10.6006 3.19536 11.6389C2.41678 13.7494 2.38203 15.6566 2.65357 15.7982C2.84661 15.8985 3.54797 15.1611 4.21845 13.9669C4.66115 16.7801 6.53102 18.8842 10.0649 18.8842C13.5871 18.8842 15.457 16.7916 15.9074 13.99C16.5728 15.1611 17.2664 15.8818 17.4569 15.7814C17.7284 15.6399 17.6937 13.7365 16.9138 11.6311V11.6311Z"}}),n("path",{attrs:{d:"M8.5542 3.2522C8.00598 3.26507 7.57358 3.90981 7.58902 4.69739C7.60447 5.48369 8.06132 6.11299 8.60954 6.1027C9.15776 6.0924 9.59016 5.44637 9.57472 4.65879C9.56056 3.87249 9.10243 3.24319 8.5542 3.25348V3.2522ZM11.5862 3.26764C11.0315 3.25734 10.5695 3.88278 10.5541 4.66651C10.5386 5.44895 10.9749 6.0924 11.5308 6.1027C12.0842 6.11299 12.5475 5.48755 12.5629 4.70512C12.5784 3.92139 12.1408 3.27794 11.5862 3.26764V3.26764Z"}}),n("path",{attrs:{d:"M13.6704 9.57861C12.5971 9.76521 11.354 9.87074 10.0285 9.87074C8.7287 9.87074 7.50742 9.76779 6.44959 9.58762C5.71605 10.4962 5.65942 11.8307 5.65942 13.3184C5.65942 16.0505 7.20371 18.2665 10.0645 18.2665C12.924 18.2665 14.4696 16.0505 14.4696 13.3184C14.4696 11.8243 14.4104 10.4859 13.6704 9.57861V9.57861Z"}}),n("path",{attrs:{d:"M10.0628 6.56616C8.14273 6.56616 6.58557 6.95223 6.58557 7.26238C6.58557 7.57124 8.62146 8.42188 10.0641 8.42188C11.5054 8.42188 13.5413 7.55065 13.5413 7.26238C13.5413 6.97411 11.9842 6.56745 10.0641 6.56745L10.0628 6.56616Z"}}),n("path",{attrs:{d:"M15.6744 8.6121L15.6757 8.59151C14.264 9.05866 12.2718 9.35078 10.0648 9.35078C7.8513 9.35078 5.85402 9.05737 4.441 8.58765C4.14115 9.25684 3.85546 9.93375 3.58521 10.6171C4.45644 10.9054 5.43192 11.1357 6.48332 11.2992V13.8858C6.48332 13.8858 7.22715 14.0235 7.92981 14.0531C8.42784 14.0737 8.95676 13.9888 8.95676 13.9888V11.5398C9.32095 11.5565 9.6903 11.5656 10.0635 11.5656C12.4919 11.5656 14.7311 11.2142 16.5251 10.6222C16.2566 9.94593 15.9729 9.27571 15.6744 8.6121V8.6121Z"}}),n("path",{attrs:{d:"M8.87981 4.24829C8.63787 4.24829 8.44226 4.53656 8.44226 4.89174C8.44226 5.24693 8.63787 5.5352 8.87981 5.5352C9.12046 5.5352 9.31736 5.24693 9.31736 4.89174C9.31736 4.53656 9.12046 4.24829 8.87981 4.24829V4.24829ZM12.0997 4.65624C12.0997 4.65624 11.9246 4.41816 11.4819 4.48122C11.0444 4.54428 10.8745 4.83126 10.8423 4.86215C10.8423 4.86215 10.7381 5.0243 10.8115 5.12467C10.8848 5.22505 11.0174 5.06676 11.0174 5.06676C11.0174 5.06676 11.2194 4.78364 11.4806 4.77335C11.6273 4.76349 11.7729 4.80489 11.8925 4.89046C11.8925 4.89046 12.0211 4.99856 12.0984 4.89046C12.1769 4.78364 12.0997 4.65624 12.0997 4.65624V4.65624Z"}})])]))}}},1658:function(t,e,n){"use strict";n(1379)},1659:function(t,e,n){"use strict";n(1380)},1729:function(t,e,n){"use strict";n(1439)},1825:function(t,e,n){"use strict";n(16),n(15),n(11),n(6),n(14);var r=n(0),o=(n(24),n(5)),c=n(4),l=n(856),d=n(880),h=n(48),f=n(886),m=n(1314),v=n(8),_=Object(v.d)({props:{visible:{type:Boolean,default:function(){return!1}},title:{type:String,default:function(){return""}}},emits:["close","openCollections"],setup:function(t,e){var n=e.emit,r=Object(v.q)();return Object(v.w)((function(){return t.visible}),(function(t){t&&(r.value=setTimeout((function(){n("close")}),3e3))})),Object(v.m)((function(){clearTimeout(r.value)})),{openCollections:function(){clearTimeout(r.value),n("openCollections")}}}}),y=(n(1656),n(30)),C=Object(y.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"collect-popover",class:{"popover-show":t.visible},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[n("div",{staticClass:"title"},[t._v("收藏成功！")]),t._v(" "),n("div",{staticClass:"sub-title"},[t._v("\n    已添加到「"+t._s(t.title)+"」，\n    "),n("span",{staticClass:"modify-btn",on:{click:function(e){return e.stopPropagation(),t.openCollections(e)}}},[t._v("点击更改")])])])}),[],!1,null,"d0b73df6",null).exports,w=n(17),O=n(160),j=n(177),k=n(275),T=n(221),x=n(10),L=n(1657),P=n.n(L),S=Object(v.d)({props:{icon:{type:String,required:!0}}}),E=(n(1658),Object(y.a)(S,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"sprite-icon",class:this.icon},[e("use",{attrs:{"xlink:href":"#"+this.icon}})])}),[],!1,null,"0f838daa",null).exports),A=n(157),I=n(179);function D(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function M(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var B=Object(v.d)({components:{BTooltip:j.Tooltip,CollectPopupList:m.a,CollectPopover:C,SvgSprites:P.a,SpriteIcon:E},model:{prop:"immerse",event:"update:immerse"},props:["entry","fromPage","immerse","isAuthor","needCollectGuide"],emits:["report"],data:function(){return{likeLock:Object(l.a)(),wechatQrCodeUrl:"",isCollectPopupVisible:!1,isImmerseMode:!1,collectPopoverVisible:!1,collectionName:"",isCollectGuideVisible:!1,collectTimer:null}},computed:{currentUser:function(){var t;return(null===(t=this.$store.state.auth)||void 0===t?void 0:t.user)||{}}},watch:{needCollectGuide:function(t){t&&!this.collectTimer&&this.startCollectGuide()}},mounted:function(){this.needCollectGuide&&this.startCollectGuide()},beforeDestroy:function(){this.needCollectGuide&&document.removeEventListener("click",this.hideCollectPopover),this.collectTimer&&clearTimeout(this.collectTimer)},methods:{startCollectGuide:function(){var t=this;document.addEventListener("click",this.hideCollectPopover),this.collectTimer=setTimeout((function(){t.isCollectGuideVisible=!0,t.$TEA("login_guide_show",{from:A.a.collect,type:A.b.auto})}),75e3)},toggleImmerse:function(){var t=!this.immerse;t&&this.$TEA("immerse_click"),this.$emit("update:immerse",t)},openReport:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.searchAction(w.a.Report,0),e.next=4,t.$ensureAuthorized("login");case 4:t.$emit("report"),(n=t.$getBean("eventBus")).emit(n.eventType.REPORT_CONTENT,t.entry.article_id,x.IdType.ArticleIdType),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.warn("error open report popup err:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},searchAction:function(t,e){var n=Object(f.b)();this.$TEA("search_detail_action",M(M({},n),{},{action_type:t,action_value:e>0?e:void 0}))},toggleLikeLock:function(){var t=this,e=this.entry.liked?this.entry.likedCount-1:this.entry.likedCount+1;this.searchAction(w.a.Digg,e),this.likeLock.do((function(){return t.$ensureAuthorized().then((function(){return t.$ensureBindPhone({bindLabel:I.a.interact})})).then((function(){t.$store.dispatch(c.TOGGLE_LIKE_ENTRY,t.entry).then((function(){var e,n,r,o,c,l,d,h,f,m;t.$TEA("item_like_click",M({event_page:k.a.ARTICLE_DETAIL,req_id:null===(e=t.entry)||void 0===e?void 0:e.req_id,boost_type:null===(r=null===(n=t.entry)||void 0===n?void 0:n.extra)||void 0===r?void 0:r.boost_type,category_id:null===(c=null===(o=t.entry)||void 0===o?void 0:o.category)||void 0===c?void 0:c.category_id,from_page:Object(O.a)(t.fromPage),from_page_type:Object(O.b)(),item_id:null===(l=t.entry)||void 0===l?void 0:l.article_id,item_type:2,item_author_id:null===(h=null===(d=t.entry)||void 0===d?void 0:d.author_user_info)||void 0===h?void 0:h.user_id,from_item_id:null===(f=t.entry)||void 0===f?void 0:f.article_id,from_item_type:2,action:(null===(m=t.entry)||void 0===m?void 0:m.liked)?1:2},Object(k.c)(t.entry)))})).catch((function(e){t.$error(e)}))})).catch((function(t){console.warn("error click like err:",t)}))}))},onCollectBtnClick:function(){var t,e,n,r,o,c=this;this.isCollectGuideVisible&&(this.$TEA("login_guide_click",{from:A.a.collect}),this.hideCollectPopover());var l=(null===(t=this.entry)||void 0===t?void 0:t.article_id)||"";this.$TEA("collection_click",{item_id:l,category_id:null===(n=null===(e=this.entry)||void 0===e?void 0:e.category)||void 0===n?void 0:n.category_id,item_author_id:null===(o=null===(r=this.entry)||void 0===r?void 0:r.author_user_info)||void 0===o?void 0:o.user_id,enter_from:"more"});var d=this.entry.collected?this.entry.collectionCount-1:this.entry.collectionCount+1;this.searchAction(w.a.Collect,d),this.$ensureAuthorized("login").then((function(){return c.entry.collected?(c.$TEA("collection_list_save",{item_id:c.entry.article_id,category_id:c.entry.category_id,item_author_id:c.entry.author_user_id,collection_list_ids:"",action:"0"}),void T.a.DeleteArticleFromCollection({article_id:l}).then((function(t){(null==t?void 0:t.err_no)===x.ERROR_NO.OK&&(j.Message.success("取消收藏"),c.handleCollect(!1))}))):c.currentUser.is_collect_fast?(c.$TEA("collection_list_save",{item_id:c.entry.article_id,category_id:c.entry.category_id,item_author_id:c.entry.author_user_id,collection_list_ids:"",action:"1"}),void T.a.AddArticleToCollection({article_id:l,is_collect_fast:!0}).then((function(t){(null==t?void 0:t.err_no)===x.ERROR_NO.OK&&(c.collectionName=t.data,c.collectPopoverVisible=!0,c.handleCollect(!0))})).catch((function(t){j.Message.error(null==t?void 0:t.message)}))):void(c.isCollectPopupVisible=!c.isCollectPopupVisible)})).catch((function(t){return console.warn("error login err:",t)}))},scrollToComment:function(){var t=document.getElementById("comment-box");window.location.hash="#comment",t&&window.setTimeout((function(){return Object(h.s)(t,-80)}))},shareClickTea:function(){var t,e,n,r;this.$TEA("item_detail_share",M({event_page:k.a.ARTICLE_DETAIL,req_id:null===(t=this.entry)||void 0===t?void 0:t.req_id,from_page:Object(O.a)(this.fromPage),from_page_type:Object(O.b)(),item_id:null===(e=this.entry)||void 0===e?void 0:e.article_id,item_type:2,item_author_id:null===(r=null===(n=this.entry)||void 0===n?void 0:n.author_user_info)||void 0===r?void 0:r.user_id},Object(k.c)(this.entry)))},shareToWeibo:function(){this.shareClickTea(),this.$getBean("shareBusiness").shareEntryToWeibo(this.entry)},shareToQQ:function(){this.shareClickTea(),this.$getBean("shareBusiness").shareEntryToQQ(this.entry)},generateWechatQrCode:function(){var t=this,time=setTimeout(this.shareClickTea.bind(this),300);if(this.$refs.wechatShare.addEventListener("mouseleave",(function e(){clearTimeout(time),t.$refs.wechatShare.removeEventListener("mouseleave",e)})),!this.wechatQrCodeUrl){var e=this.entry,n=e.id,r=e.type,o=window.location.origin,c="".concat(o,"/").concat(r,"/").concat(n);this.wechatQrCodeUrl=Object(d.a)(c)}},handleCollect:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$store.commit("view/column/UPDATE_STATE",{entry:M(M({},this.entry),{},{collected:t})})},onCollectSuccess:function(t,e){var n=this;this.isCollectPopupVisible=!1,this.handleCollect(!0),e.map((function(t){n.$TEA("collection_list_save",{item_id:n.entry.article_id,category_id:n.entry.category_id,item_author_id:n.entry.author_user_id,collection_list_ids:t,action:"1"})}))},openCollections:function(){this.collectPopoverVisible=!1,this.isCollectPopupVisible=!0},closePopoverModal:function(){this.collectPopoverVisible=!1},hideCollectPopover:function(){this.isCollectGuideVisible=!1}}}),$=(n(1659),Object(y.a)(B,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"article-suspended-panel"},[n("SvgSprites",{staticStyle:{display:"none"}}),t._v(" "),t.immerse?t._e():[n("div",{staticClass:"panel-btn",class:{active:t.entry.liked,"with-badge":t.entry.likedCount},attrs:{badge:t.entry.likedCount},on:{click:t.toggleLikeLock}},[n("SpriteIcon",{attrs:{icon:"icon-zan"}})],1),t._v(" "),n("div",{staticClass:"panel-btn",class:{"with-badge":t.entry.commentsCount},attrs:{badge:t._f("truncate")(t.entry.commentsCount)},on:{click:t.scrollToComment}},[n("SpriteIcon",{attrs:{icon:"icon-comment"}})],1),t._v(" "),n("div",{staticClass:"panel-btn",class:{active:t.entry.collected},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onCollectBtnClick(e)}}},[n("SpriteIcon",{attrs:{icon:"icon-collect"}}),t._v(" "),n("collect-popover",{attrs:{visible:t.collectPopoverVisible,title:t.collectionName},on:{close:t.closePopoverModal,openCollections:t.openCollections}}),t._v(" "),n("collect-popup-list",{attrs:{visible:t.isCollectPopupVisible,articleId:t.entry&&t.entry.article_id||"",isEdit:t.entry.collected},on:{close:function(e){t.isCollectPopupVisible=!1},success:t.onCollectSuccess}}),t._v(" "),t.isCollectGuideVisible?n("div",{staticClass:"guide-collect-popover",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"guide-collect-popover-title"},[t._v("觉得还不错？")]),t._v(" "),n("div",{staticClass:"guide-collect-popover-content"},[n("div",{staticClass:"guide-collect-popover-button",on:{click:t.onCollectBtnClick}},[t._v("\n            一键收藏\n          ")]),t._v(" "),n("div",{staticClass:"guide-collect-popover-text"},[t._v("以便后续温习～")])])]):t._e()],1),t._v(" "),n("div",{staticClass:"share-btn panel-btn"},[n("SpriteIcon",{attrs:{icon:"icon-share"}}),t._v(" "),n("div",{staticClass:"share-popup"},[n("ul",[n("li",{ref:"wechatShare",staticClass:"share-item wechat",on:{mouseenter:t.generateWechatQrCode}},[n("SpriteIcon",{staticClass:"share-icon",attrs:{icon:"icon-wechat"}}),t._v(" "),n("span",{staticClass:"share-item-title"},[t._v("微信")]),t._v(" "),n("div",{staticClass:"wechat-qrcode"},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.wechatQrCodeUrl,expression:"wechatQrCodeUrl"}],staticClass:"wechat-qrcode-img",attrs:{src:t.wechatQrCodeUrl}}),t._v(" "),n("span",{staticClass:"wechat-qrcode-title"},[t._v("微信扫码分享")])])],1),t._v(" "),n("li",{staticClass:"share-item weibo",on:{click:t.shareToWeibo}},[n("SpriteIcon",{staticClass:"share-icon",attrs:{icon:"icon-weibo"}}),t._v(" "),n("span",{staticClass:"share-item-title"},[t._v("新浪微博")])],1),t._v(" "),n("li",{staticClass:"share-item qq",on:{click:t.shareToQQ}},[n("SpriteIcon",{staticClass:"share-icon",attrs:{icon:"icon-qq"}}),t._v(" "),n("span",{staticClass:"share-item-title"},[t._v("QQ")])],1)])])],1),t._v(" "),n("div",{staticClass:"divider"}),t._v(" "),t.isAuthor?t._e():n("div",{staticClass:"panel-btn",on:{click:t.openReport}},[n("SpriteIcon",{attrs:{icon:"icon-report"}})],1)],t._v(" "),n("BTooltip",{staticClass:"tooltip",attrs:{content:t.immerse?"退出沉浸":"沉浸阅读"}},[n("div",{staticClass:"panel-btn",class:{active:t.immerse},on:{click:t.toggleImmerse}},[n("SpriteIcon",{attrs:{icon:"icon-immerse"}})],1)])],2)}),[],!1,null,"1ee7758e",null));e.a=$.exports},1831:function(t,e,n){"use strict";n(11),n(70),n(15),n(52),n(69),n(39),n(22),n(23),n(6),n(45);var r=n(48),o={name:"item",props:["item"],methods:{activate:function(t){this.$emit("activate",t)},onActivate:function(t){this.activate(t)}}},c=n(30),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{directives:[{name:"show",rawName:"v-show",value:t.item.visible,expression:"item.visible"}],staticClass:"item",class:["d"+t.item.deep,t.item.active&&"active"]},[n("div",{staticClass:"a-container",on:{click:function(e){return e.preventDefault(),t.activate(t.item)}}},[n("a",{staticClass:"catalog-aTag",attrs:{href:t.item.hash,title:t.item.title}},[t._v("\n      "+t._s(t.item.title)+"\n    ")])]),t._v(" "),t.item.childList.length?n("ul",{staticClass:"sub-list"},t._l(t.item.childList,(function(e,i){return n("item",{key:i,attrs:{item:e},on:{activate:t.onActivate}})})),1):t._e()])}),[],!1,null,null,null).exports;function d(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function f(){return{catalog:m(),reacticve:!0,marginTop:0,scrollTop:0}}function m(t){return Object.assign({deep:0,level:0,parent:null,active:!1,visible:!0,childList:[]},t)}function v(t,e){if(_(e),t){var n=function(t){var e=t;for(;e&&!e.visible;)e=e.parent;return e}(t);n&&(n.active=!0)}}function _(t){t.active=!1,t.childList.forEach(_)}function y(t,e){if(e.hash===t)return e;var n,r=d(e.childList);try{for(r.s();!(n=r.n()).done;){var o=y(t,n.value);if(o)return o}}catch(t){r.e(t)}finally{r.f()}}var C={components:{Item:l},props:["title","visible"],data:function(){return f()},methods:{generate:function(t){!this.$isServer&&t&&(this.node=t,this.catalog=function(t){var e=[].slice.call(t.querySelectorAll("h1,h2,h3,h4,h5,h6")),n=m();return e.reduce((function(t,e){var title=e.textContent.replace(/\n/g," ").trim();if(title){for(var n=m({title:title||"<未识别标题>",level:+e.nodeName.slice(1),hash:"#"+(e.dataset.id||""),childList:[]}),r=t;r&&r.level>=n.level;)r=r.parent;return n.parent=r,n.deep=r.deep+1,n.visible=n.deep<=3,r.childList.push(n),n}return t}),n),n}(t),this.scrollViewByCurrentHash(),this.activeItemByCurrentPosition())},reset:function(){Object.assign(this,f())},activeItemByCurrentPosition:function(){var t=this;if(this.node)for(var e,n=(e=this.node,[].slice.call(e.querySelectorAll("h1,h2,h3,h4,h5,h6"))),r=n.map((function(t){return t.getBoundingClientRect().top})),i=0;i<r.length;i++){var o=r[i],c=r[i+1];if(o<100&&(!c||c>100)){var l=y("#".concat(n[i].dataset.id),this.catalog);if(l.visible){v(l,this.catalog),this.$nextTick((function(){return t.scrollCatalogByCurrentPosition()}));break}}}},scrollCatalogByCurrentPosition:function(){var body=this.$refs.body,t=this.$refs.list,e=t.querySelector(".item.active");if(e){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=Math.max(0,body.clientHeight);if(o&&o<r.height){var c=n.top-r.top;this.scrollTop=Math.min(0,o/2-c),body.scrollTo(0,-this.scrollTop)}else this.scrollTop=0}else this.scrollTop=0},onItemActivate:function(t){window.location.hash===t.hash?this.scrollViewByCurrentHash():window.location.hash=t.hash},scrollViewByCurrentHash:function(){var t=window.location.hash;if(t&&this.node){var e=this.node.querySelector('[data-id="'.concat(t.slice(1),'"]'));e&&Object(r.s)(e,-80)}}},mounted:function(){var t=this;this.removeHashEventListener=Object(r.k)(window,"hashchange",(function(){t.$nextTick((function(){return t.scrollViewByCurrentHash()}))})),this.removeScrollEventListener=Object(r.m)(window,(function(){t.activeItemByCurrentPosition()}),300)},watch:{"catalog.childList":function(t){t&&t.length?this.$emit("update:visible",!0):this.$emit("update:visible",!1)}},beforeDestroy:function(){this.removeHashEventListener(),this.removeScrollEventListener()}},w=(n(1729),Object(c.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{directives:[{name:"show",rawName:"v-show",value:t.catalog.childList.length,expression:"catalog.childList.length"}],staticClass:"article-catalog"},[t.title?n("div",{staticClass:"catalog-title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),n("div",{ref:"body",staticClass:"catalog-body"},[n("ul",{ref:"list",staticClass:"catalog-list",style:{marginTop:t.marginTop+"px"}},t._l(t.catalog.childList,(function(e,i){return n("item",{key:i,attrs:{item:e},on:{activate:t.onItemActivate}})})),1)])])}),[],!1,null,"cb93f23a",null));e.a=w.exports},1835:function(t,e,n){"use strict";var r=n(1498),o=n(1042),c={components:{WechatBanner:r.a,SidebarBlock:o.a},props:["closeable"],data:function(){return{visible:!1}},methods:{close:function(){window.localStorage.setItem("HIDE_WECHAT_SIDEBAR_BLOCK",!0),this.visible=!1}},mounted:function(){this.closeable?this.visible=!window.localStorage.getItem("HIDE_WECHAT_SIDEBAR_BLOCK"):this.visible=!0}},l=(n(1655),n(30)),component=Object(l.a)(c,(function(){var t=this.$createElement,e=this._self._c||t;return this.visible?e("sidebar-block",{staticClass:"wechat-sidebar-block",attrs:{pure:!0}},[e("wechat-banner",{attrs:{square:!0}}),this._v(" "),this.closeable?e("div",{staticClass:"close-btn ion-close-round",attrs:{title:"关闭"},on:{click:this.close}}):this._e()],1):this._e()}),[],!1,null,"375ef892",null);e.a=component.exports},2312:function(t,e,n){},2313:function(t,e,n){},2314:function(t,e,n){},2315:function(t,e,n){},2316:function(t,e,n){},2317:function(t,e,n){},2318:function(t,e,n){},2319:function(t,e,n){},2320:function(t,e,n){},2321:function(t,e,n){},2322:function(t,e,n){},2323:function(t,e,n){},2324:function(t,e,n){},2325:function(t,e,n){},2326:function(t,e,n){},2327:function(t,e,n){},3642:function(t,e,n){t.exports=n.p+"img/article-loading.fca922e.png"},3643:function(t,e,n){t.exports=n.p+"c794682f2184652c07e62d648e048460.svg"},3644:function(t,e,n){t.exports=n.p+"00ba359ecd0075e59ffbc3d810af551d.svg"},3645:function(t,e,n){t.exports=n.p+"336af4d1fafabcca3b770c8ad7a50781.svg"},3646:function(t,e,n){t.exports=n.p+"e371749f308e0d99430a6a4943eef946.svg"},3647:function(t,e,n){t.exports=n.p+"3d482c7a948bac826e155953b2a28a9e.svg"},3648:function(t,e,n){"use strict";n(2312)},3649:function(t,e,n){"use strict";n(2313)},3650:function(t,e,n){"use strict";n(2314)},3651:function(t,e,n){"use strict";n(2315)},3652:function(t,e,n){"use strict";n(2316)},3653:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.00001 2C1.63182 2 1.33334 2.29848 1.33334 2.66667C1.33334 3.03486 1.63182 3.33333 2.00001 3.33333H3.33334C3.70153 3.33333 4.00001 3.03486 4.00001 2.66667C4.00001 2.29848 3.70153 2 3.33334 2H2.00001ZM6.00034 2C5.63215 2 5.33367 2.29848 5.33367 2.66667C5.33367 3.03486 5.63215 3.33333 6.00034 3.33333H14.0003C14.3685 3.33333 14.667 3.03486 14.667 2.66667C14.667 2.29848 14.3685 2 14.0003 2H6.00034ZM6.00034 7.33333C5.63215 7.33333 5.33367 7.63181 5.33367 8C5.33367 8.36819 5.63215 8.66667 6.00034 8.66667H14.0003C14.3685 8.66667 14.667 8.36819 14.667 8C14.667 7.63181 14.3685 7.33333 14.0003 7.33333H6.00034ZM1.33367 8C1.33367 7.63181 1.63215 7.33333 2.00034 7.33333H3.33367C3.70186 7.33333 4.00034 7.63181 4.00034 8C4.00034 8.36819 3.70186 8.66667 3.33367 8.66667H2.00034C1.63215 8.66667 1.33367 8.36819 1.33367 8ZM1.33367 13.3333C1.33367 12.9651 1.63215 12.6667 2.00034 12.6667H3.33367C3.70186 12.6667 4.00034 12.9651 4.00034 13.3333C4.00034 13.7015 3.70186 14 3.33367 14H2.00034C1.63215 14 1.33367 13.7015 1.33367 13.3333ZM6.00034 12.6667C5.63215 12.6667 5.33367 12.9651 5.33367 13.3333C5.33367 13.7015 5.63215 14 6.00034 14H14.0003C14.3685 14 14.667 13.7015 14.667 13.3333C14.667 12.9651 14.3685 12.6667 14.0003 12.6667H6.00034Z"}})]))}}},3654:function(t,e,n){"use strict";n(2317)},3655:function(t,e,n){"use strict";n(2318)},3656:function(t,e,n){"use strict";n(2319)},3657:function(t,e,n){"use strict";n(2320)},3658:function(t,e,n){"use strict";n(2321)},3659:function(t,e,n){"use strict";n(2322)},3660:function(t,e,n){"use strict";n(2323)},3661:function(t,e,n){"use strict";n(2324)},3662:function(t,e,n){"use strict";n(2325)},3663:function(t,e,n){"use strict";n(2326)},3664:function(t,e,n){"use strict";n(2327)},4318:function(t,e,n){"use strict";n.r(e);n(16),n(15),n(22),n(23);var r=n(67),o=(n(11),n(14),n(918),n(0)),c=n(32),l=(n(6),n(24),n(5)),d=n(84),h=n(4),f=n(68),m=n(860),v=n(48),_=n(104),y=n(19),C=n(178),w=n(857),O=n(1825),j=n(1493),k=n(1498),T=n(1041),x=n(856),L=n(1314),P=n(177),S=n(221),E=n(10),A=n(179);function I(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function D(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?I(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):I(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var M={components:{CollectPopupList:L.a},props:{entry:{type:Object}},data:function(){return{likeLock:Object(x.a)(),isCollectPopupVisible:!1}},computed:{collectText:function(){return"".concat(this.entry.collected?"已":"","收藏")},currentUser:function(){var t;return(null===(t=this.$store.state.auth)||void 0===t?void 0:t.user)||{}}},methods:{togglePraise:function(){var t=this;this.likeLock.do((function(){return t.$ensureAuthorized().then((function(){return t.$ensureBindPhone({bindLabel:A.a.interact})})).then((function(){return t.$store.dispatch(h.TOGGLE_LIKE_ENTRY,t.entry).catch((function(e){t.$error(e)}))})).catch((function(t){console.log(t)}))}))},linkToMobileCollection:function(){var t,e,n,r,o,c=this,l=null===(t=this.entry)||void 0===t?void 0:t.article_id;this.$TEA("collection_click",{item_id:l,category_id:null===(n=null===(e=this.entry)||void 0===e?void 0:e.category)||void 0===n?void 0:n.category_id,item_author_id:null===(o=null===(r=this.entry)||void 0===r?void 0:r.author_user_info)||void 0===o?void 0:o.user_id,enter_from:"bottom_bar"}),this.$ensureAuthorized().then((function(){return c.entry.collected?(c.$TEA("collection_list_save",{item_id:c.entry.article_id,category_id:c.entry.category_id,item_author_id:c.entry.author_user_id,collection_list_ids:"",action:"0"}),void S.a.DeleteArticleFromCollection({article_id:l}).then((function(t){(null==t?void 0:t.err_no)===E.ERROR_NO.OK&&(P.Message.success("取消收藏"),c.handleCollect(!1))}))):c.currentUser.is_collect_fast?(c.$TEA("collection_list_save",{item_id:c.entry.article_id,category_id:c.entry.category_id,item_author_id:c.entry.author_user_id,collection_list_ids:"",action:"1"}),c.collectPopoverVisible=!0,void S.a.AddArticleToCollection({article_id:l,is_collect_fast:!0}).then((function(t){(null==t?void 0:t.err_no)===E.ERROR_NO.OK&&(c.handleCollect(!0),P.Message.success("收藏成功"))})).catch((function(t){P.Message.error(null==t?void 0:t.message)}))):void(c.isCollectPopupVisible=!c.isCollectPopupVisible)})).catch((function(t){console.log(t)}))},handleCollect:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$store.commit("view/column/UPDATE_STATE",{entry:D(D({},this.entry),{},{collected:t})})},onCollectSuccess:function(t,e){var n=this;this.isCollectPopupVisible=!1,this.handleCollect(!0),e.map((function(t){n.$TEA("collection_list_save",{item_id:n.entry.article_id,category_id:n.entry.category_id,item_author_id:n.entry.author_user_id,collection_list_ids:t,action:"1"})}))}}},B=(n(3648),n(30)),$=Object(B.a)(M,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"action-box"},[r("div",{staticClass:"praise-action action",class:{active:t.entry.liked},on:{click:t.togglePraise}},[r("div",{staticClass:"action-title-box"},[t.entry.liked?[r("img",{attrs:{src:n(3643)}})]:[r("img",{attrs:{src:n(3644)}})],t._v(" "),r("span",{staticClass:"action-title"},[t.entry.likedCount?[t._v("\n          "+t._s(t._f("formatTenThousand")(t.entry.likedCount))+"\n        ")]:[t._v("赞")]],2)],2)]),t._v(" "),r("div",{staticClass:"comment-action action",on:{click:function(e){return t.$emit("comment")}}},[r("div",{staticClass:"action-title-box"},[r("img",{attrs:{src:n(3645)}}),t._v(" "),r("span",{staticClass:"action-title"},[t.entry.commentsCount?[t._v("\n          "+t._s(t._f("formatTenThousand")(t.entry.commentsCount))+"\n        ")]:[t._v("评论")]],2)])]),t._v(" "),r("div",{staticClass:"collect-action action",on:{click:t.linkToMobileCollection}},[r("div",{staticClass:"action-title-box"},[t.entry.collected?[r("img",{attrs:{src:n(3646)}})]:[r("img",{attrs:{src:n(3647)}})],t._v(" "),r("span",{staticClass:"action-title"},[t._v(t._s(t.collectText))])],2)]),t._v(" "),r("collect-popup-list",{attrs:{visible:t.isCollectPopupVisible,articleId:t.entry&&t.entry.article_id||"",isEdit:t.entry.collected},on:{close:function(e){t.isCollectPopupVisible=!1},success:t.onCollectSuccess}})],1)}),[],!1,null,"4fa94e66",null).exports,R=n(931),H=(n(83),n(218),n(184)),N=n(8),V={url:"https://juejin.cn/extension/?utm_source=standalone&utm_medium=post&utm_campaign=extension_promotion",title:"安装掘金浏览器插件",content:"多内容聚合浏览、多引擎快捷搜索、多工具便捷提效、多模式随心畅享，你想要的，这里都有！"},F=Object(N.d)({data:function(){return{articleBanner:V,showExtension:!0}},fetch:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=null!==(n=null===document||void 0===document?void 0:document.cookie)&&void 0!==n?n:"",d=(null===(o=null===(r=t.$route)||void 0===r?void 0:r.query)||void 0===o?void 0:o.utm_source)===H.i,t.showExtension=void 0===(null!==(c=l.split(";"))&&void 0!==c?c:[]).find((function(t){return"_jj_ext=1"===t.trim()}))&&!d;case 3:case"end":return e.stop()}}),e)})))()}}),U=(n(3649),Object(B.a)(F,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showExtension?n("div",{staticClass:"extension-banner"},[n("span",{staticClass:"banner-icon"}),t._v(" "),n("div",{staticClass:"banner-wrapper"},[n("a",{directives:[{name:"link",rawName:"v-link.blank",value:t.articleBanner.url,expression:"articleBanner.url",modifiers:{blank:!0}}],staticClass:"banner-title"},[t._v("\n      "+t._s(t.articleBanner.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"banner-content"},[t._v(t._s(t.articleBanner.content))])]),t._v(" "),n("a",{directives:[{name:"link",rawName:"v-link.blank",value:t.articleBanner.url,expression:"articleBanner.url",modifiers:{blank:!0}}],staticClass:"banner-action"},[t._v("前往安装")])]):t._e()}),[],!1,null,"ae3e6732",null).exports),Z=(n(39),n(1288)),z=n(1835),G=n(1499),W=n(53),K=Object(N.d)({name:"SidebarAdEntry",props:["entry","category"],setup:function(t){var e=Object(N.a)((function(){var e;return(null===(e=t.entry)||void 0===e?void 0:e.position)===E.PositionType.SideBarFixed}));return{recordBannerClick:function(){var n;Object(W.d)(e.value?"ad_web_article_banner_top_click":"ad_web_article_banner_click",{ad_url:null===(n=t.entry)||void 0===n?void 0:n.url})},handleVisibleChange:function(n){var r;n&&Object(W.d)(e.value?"ad_web_article_banner_top_show":"ad_web_article_banner_show",{ad_url:null===(r=t.entry)||void 0===r?void 0:r.url})}}}}),Y=(n(3650),Object(B.a)(K,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("a",{directives:[{name:"visible-change",rawName:"v-visible-change.once",value:t.handleVisibleChange,expression:"handleVisibleChange",modifiers:{once:!0}}],staticClass:"sidebar-entry",style:{backgroundImage:"url("+t.entry.imageUrl+")"},attrs:{href:t.entry.url,target:"_blank"},on:{click:function(e){return t.recordBannerClick(t.entry)}}})}),[],!1,null,"25f2c691",null).exports),J=n(9),X=n(1042),Q=n(283),tt=J.default.extend({props:{author:{type:Object,required:!0},userAnnuals:{type:Array,default:function(){return[]}}},components:{Avatar:C.a,SidebarBlock:X.a},computed:{availableUserAnnuals:function(){return this.userAnnuals.filter((function(t){return t.status===Q.a.Done&&t.is_select_annual&&t.prize_title&&t.prize_icon}))},position:function(){return this.$userPosition(this.author)},isCoEditor:function(){return"admin"===this.author.role||"editor"===this.author.role},beLikedCount:function(){return this.author.beLikedCount},beReadCount:function(){return this.author.beReadCount},rank:function(){return this.author.select_annual_rank},url:function(){var t="https://juejin.cn/2018/";return this.author&&this.author.id?t+this.author.id:t},visibleBanner:function(){return Date.now()<new Date("2019-01-25T16:00:00.000Z")}}}),et=(n(3651),Object(B.a)(tt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sidebar-block",{staticClass:"author-block",attrs:{pure:!0}},[n("app-link",{staticClass:"user-item item",attrs:{to:t.$userRoute(t.author),blank:!0}},[n("avatar",{staticClass:"avatar",attrs:{user:t.author,size:100}}),n("div",{staticClass:"info-box"},[n("username",{attrs:{user:t.author}}),t.position?n("div",{staticClass:"position",attrs:{title:t.position}},[t._v(t._s(t.position))]):t._e()],1)],1),t._l(t.availableUserAnnuals,(function(e){return n("div",{staticClass:"stat-item item"},[n("img",{staticClass:"icon annual-icon",attrs:{src:e.prize_icon}}),n("span",{staticClass:"content"},[t._v(t._s(e.prize_title))])])})),t.beLikedCount?n("div",{staticClass:"stat-item item"},[n("svg",{staticClass:"zan",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"26",viewBox:"0 0 25 26"}},[n("g",{attrs:{fill:"none","fill-rule":"evenodd",transform:"translate(0 .57)"}},[n("ellipse",{attrs:{cx:"12.5",cy:"12.57",fill:"#E1EFFF",rx:"12.5",ry:"12.57"}}),t._v(" "),n("path",{attrs:{fill:"#7BB9FF",d:"M8.596 11.238V19H7.033C6.463 19 6 18.465 6 17.807v-5.282c0-.685.483-1.287 1.033-1.287h1.563zm4.275-4.156A1.284 1.284 0 0 1 14.156 6c.885.016 1.412.722 1.595 1.07.334.638.343 1.687.114 2.361-.207.61-.687 1.412-.687 1.412h3.596c.38 0 .733.178.969.488.239.317.318.728.21 1.102l-1.628 5.645a1.245 1.245 0 0 1-1.192.922h-7.068v-7.889c1.624-.336 2.623-2.866 2.806-4.029z"}})])]),t._v(" "),n("span",{staticClass:"content"},[t._v("获得点赞"),n("span",{staticClass:"count"},[t._v(" "+t._s(t._f("thousands")(t.beLikedCount)))])])]):t._e(),t.beReadCount?n("div",{staticClass:"stat-item item"},[n("svg",{staticClass:"icon stat-view-icon",attrs:{width:"25",height:"25",viewBox:"0 0 25 25"}},[n("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[n("circle",{attrs:{cx:"12.5",cy:"12.5",r:"12.5",fill:"#E1EFFF"}}),t._v(" "),n("path",{attrs:{fill:"#7BB9FF",d:"M4 12.5S6.917 7 12.75 7s8.75 5.5 8.75 5.5-2.917 5.5-8.75 5.5S4 12.5 4 12.5zm8.75 2.292c1.208 0 2.188-1.026 2.188-2.292 0-1.266-.98-2.292-2.188-2.292-1.208 0-2.188 1.026-2.188 2.292 0 1.266.98 2.292 2.188 2.292z"}})])]),t._v(" "),n("span",{staticClass:"content"},[t._v("文章被阅读"),n("span",{staticClass:"count"},[t._v(" "+t._s(t._f("thousands")(t.beReadCount)))])])]):t._e(),t.author&&t.visibleBanner?n("a",{staticClass:"banner",attrs:{href:t.url,target:"_blank"}}):t._e()],2)}),[],!1,null,"688d0446",null).exports),nt={components:{ArticleCatalog:n(1831).a,SidebarBlock:X.a},data:function(){return{catalogVisible:!1}},methods:{generateCatalog:function(t){this.$refs.catalog.generate(t)}}},it=Object(B.a)(nt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sidebar-block",{directives:[{name:"show",rawName:"v-show",value:t.catalogVisible,expression:"catalogVisible"}],staticClass:"catalog-block",attrs:{pure:!0}},[n("article-catalog",{ref:"catalog",attrs:{title:"目录",visible:t.catalogVisible},on:{"update:visible":function(e){t.catalogVisible=e}}})],1)}),[],!1,null,null,null).exports;n(70),n(52),n(69);function ot(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return st(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var at=Object(N.d)({props:{list:{type:Array,default:function(){return[]}},title:{type:String,default:""},interactive:{type:Boolean,default:!1},fromPage:{type:String,default:""},data:{type:String,default:""}},emits:["should-fetch-more"],setup:function(t,e){var n,r=e.emit,o=Object(N.q)(),c=Object(N.q)();return Object(N.m)((function(){n=Object(v.l)(o.value,(function(){Object(v.c)(o.value,c.value)>-200&&r("should-fetch-more")}))})),Object(N.l)((function(){return null==n?void 0:n()})),{listRef:o,bodyRef:c}},data:function(){return{articleList:!1}},mounted:function(){this.handleActive()},methods:{recordNextClick:function(){this.$TEA("next_click",{click_from:2})},listUrl:function(t){return"/post/"+t.article_id},handleActive:function(){var t,e=this.$refs.listRef.getElementsByTagName("a"),n=0,r=ot(this.list);try{for(r.s();!(t=r.n()).done;){if(t.value.article_id===this.$route.params.id)break;n++}}catch(t){r.e(t)}finally{r.f()}e[n].style.color="#007fff"}}}),ct=(n(3652),Object(B.a)(at,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.list?n("nav",{staticClass:"article-list"},[t.title?n("div",{staticClass:"list-title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),n("div",{ref:"bodyRef",staticClass:"list-body"},[n("ul",{ref:"listRef",staticClass:"list-ul"},t._l(t.list,(function(e){return n("li",{key:e.article_info.title,staticClass:"list-li"},[n("a",{staticClass:"list-item",attrs:{href:t.listUrl(e),target:"_blank",title:e.article_info.title},on:{click:function(e){return t.recordNextClick()}}},[t._v("\n          "+t._s(e.article_info.title)+"\n        ")])])})),0)])]):t._e()}),[],!1,null,"b68ce0f8",null).exports),lt=n(3653),ut=n.n(lt),ht=n(1143),ft=n.n(ht);J.default.use(ft.a);var mt={name:"NextColumnArticle",components:{NextArticleList:ct,ListIcon:ut.a},props:{list:{type:Array,default:function(){return[]}},title:{type:String,default:""},interactive:{type:Boolean,default:!1},fromPage:String,articleData:{type:Object,default:null},listTitle:{type:String,default:""}},emits:["should-fetch-more"],data:function(){return{showColumnList:!1}},mounted:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.e)();case 2:n=e.sent,(r=new n((function(e){e.some((function(t){return t.isIntersecting}))&&(t.$TEA("next_display"),r.disconnect())}))).observe(t.$el),t.disconnetObserver=function(){return r.disconnect()};case 6:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){this.disconnetObserver&&this.disconnetObserver()},methods:{recordNextClick:function(){this.$TEA("next_click",{click_from:1})},handleNextArticleUrl:function(){return"/post/"+this.articleData.article_id},handleOutsideClick:function(){this.showColumnList=!1}}},pt=(n(3654),Object(B.a)(mt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.articleData?n("nav",{staticClass:"next-article"},[n("div",{staticClass:"next-article-header"},[t.title?n("div",{staticClass:"next-article-title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),n("ListIcon",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.handleOutsideClick,expression:"handleOutsideClick"}],staticClass:"list-icon",class:{active:t.showColumnList},on:{click:function(e){t.showColumnList=!t.showColumnList}}})],1),t._v(" "),n("hr",{staticClass:"next-article-hr"}),t._v(" "),n("div",{staticClass:"article-content"},[n("a",{staticClass:"article",attrs:{href:t.handleNextArticleUrl(),title:t.articleData.title,target:"_blank"},on:{click:function(e){return t.recordNextClick()}}},[t._v("\n      "+t._s(t.articleData.title)+"\n    ")])]),t._v(" "),t.showColumnList?n("NextArticleList",{staticClass:"next-article-list",attrs:{list:t.list,title:t.listTitle},on:{"should-fetch-more":function(e){return t.$emit("should-fetch-more")}}}):t._e()],1):t._e()}),[],!1,null,"04051bd0",null).exports),vt=n(1),_t=n(107),content=n(872);function gt(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function bt(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?gt(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):gt(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var yt=Object(N.d)({components:{AppDownloadSidebarBlock:Z.a,WechatSidebarBlock:z.a,RelatedEntrySidebarBlock:G.a,AuthorBlock:et,CatalogBlock:it,SidebarAdEntry:Y,NextColumnArticle:pt},props:["state","logined","onTop","fromPage","immerse"],data:function(){return{isMobile:!0,sticky:!1,visibleAdEntry:!0,nextArticle:null,articleList:[],listTitle:"",columnId:"",cursor:"0",hasMore:!0,onShouldFetchMore:void 0}},computed:bt(bt({},Object(d.mapGetters)({user:h.USER})),{},{categoryId:function(){return(this.state.entry.category||{}).id},category:function(){var t=(this.state.entry.category||{}).name;return t},userLevel:function(){return(this.state.entry.user||{}).level},isCatalogExpand:function(){return!(this.nextArticle&&!this.immerse)}}),watch:{immerse:function(){var t=this;setTimeout((function(){t.handleScrollListener()}))},"state.relatedEntryList":function(){var t=this;setTimeout((function(){t.handleScrollListener()}))}},mounted:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.initScrollListener(),t.fetchSidebarAdEntry(),t.fetchNextArticle(t.state.entry.article_id),t.onShouldFetchMore=Object(_.b)((function(){return t.fetchColumnArticles()}),1e3);case 4:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){this.removeScrollListener&&this.removeScrollListener(),this.disconnetObserver&&this.disconnetObserver.disconnect()},methods:{generateCatalog:function(t){this.$refs.catalogBlock.generateCatalog(t)},initScrollListener:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.removeScrollListener=Object(v.m)(window,t.handleScrollListener.bind(t)),e.next=3,Object(v.e)();case 3:n=new IntersectionObserver((function(e){e.some((function(a){return a.isIntersecting}))&&(t.handleScrollListener(),n.disconnect())})),(r=t.$refs.stickyBlockBox)&&n.observe(r),t.disconnetObserver=n;case 7:case"end":return e.stop()}}),e)})))()},handleScrollListener:function(){var t=this.$refs.stickyBlockBox.previousElementSibling;if(t){var rect=t.getBoundingClientRect();this.sticky=rect.bottom<(this.onTop?0:60)}else this.sticky=!0},fetchSidebarAdEntry:function(){if(this.isMobile=document.body.clientWidth<1140,!this.user&&!this.isMobile&&this.visibleAdEntry){var t=this.state.actionType.FETCH_SIDEBAR_ADENTRY;this.$store.dispatch(t,this.category)}},fetchNextArticle:function(t){var e=this;return Object(vt.e)({url:"/content_api/v1/article/next_column_article",method:"post",body:{article_id:t}}).then((function(t){var n,r=t.data,data=void 0===r?{}:r;if(e.nextArticle=null===(n=data.article_info)||void 0===n?void 0:n.article_info,data.column_id)return e.columnId=data.column_id,Promise.allSettled([e.fetchColumnArticles(),Object(_t.d)(data.column_id).then((function(t){var data=t.data;e.listTitle=data.column_version.title}))])}))},fetchColumnArticles:function(){var t=this;if(this.columnId&&("0"===this.cursor||this.hasMore))return Object(content.b)({column_id:this.columnId,cursor:this.cursor,limit:20,sort:0}).then((function(e){var n=e.data,data=void 0===n?[]:n,cursor=e.cursor,r=e.has_more;t.articleList=(t.articleList||[]).concat(data),t.cursor=cursor,t.hasMore=r}))}}}),Ct=(n(3655),n(3656),Object(B.a)(yt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar",class:{top:t.onTop,sticky:t.sticky},attrs:{"st:block":"sidebar"}},[t.immerse?t._e():[n("AuthorBlock",{attrs:{author:t.state.author,"user-annuals":t.state.userAnnuals}}),t._v(" "),t.state.adEntryList&&t.state.adEntryList.length>0&&t.visibleAdEntry?n("ul",{staticClass:"sidebar-bd-entry"},t._l(t.state.adEntryList,(function(e,r){return n("li",{key:r},[n("sidebar-ad-entry",{attrs:{entry:e,category:t.category}})],1)})),0):t._e(),t._v(" "),n("app-download-sidebar-block",{attrs:{closeable:!1}}),t._v(" "),t.logined?n("wechat-sidebar-block",{attrs:{closeable:!0}}):t._e(),t._v(" "),n("related-entry-sidebar-block",{attrs:{list:t.state.relatedEntryList,"from-page":t.fromPage,interactive:"",title:"相关文章"}})],t._v(" "),n("div",{ref:"stickyBlockBox",staticClass:"sticky-block-box"},[n("catalog-block",{ref:"catalogBlock",staticClass:"catalog-block",class:{isExpand:t.isCatalogExpand}}),t._v(" "),t.nextArticle?n("NextColumnArticle",{directives:[{name:"show",rawName:"v-show",value:!t.immerse,expression:"!immerse"}],attrs:{"article-data":t.nextArticle,"from-page":t.fromPage,list:t.articleList,"list-title":t.listTitle,interactive:"",title:"下一篇"},on:{"should-fetch-more":t.onShouldFetchMore}}):t._e()],1)],2)}),[],!1,null,"3f76886a",null).exports),wt=n(59),Ot=n(17),jt={props:["target","type","visible","id"],data:function(){return{followLock:Object(x.a)(),hover:!1}},computed:{followed:function(){return this.target&&(this.target.followed||this.target.subscribed)},followText:function(){return this.followed?this.hover?"取消关注":"已关注":"关注"},actionTypes:function(){switch(this.type){case"USER":return"TOGGLE_FOLLOW_USER";case"TAG":return"TOGGLE_SUBSCRIBE_TAG";default:return"TOGGLE_FOLLOW_USER"}},idType:function(){switch(this.type){case"TEAM":return Ot.f.Team}}},methods:{toggleFollow:function(){var t=this;this.followLock.do((function(){return t.$ensureAuthorized("login").then((function(){return"TEAM"===t.type?t.save():t.$store.dispatch(t.actionTypes,t.target).catch((function(e){t.$error(e)}))})).catch((function(){}))}))},save:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.followed?wt.d:wt.a,e.prev=1,e.next=4,n({id:t.id,type:t.idType});case 4:0===e.sent.err_no&&t.$emit("onChange",!t.followed),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.$error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}}},kt=(n(3657),Object(B.a)(jt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("button",{staticClass:"follow-button",class:{followed:t.followed},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleFollow(e)},mouseenter:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[t.followLock.busy?n("span",{staticClass:"busy-icon ion-load-c"}):t.followed?t._t("followed",[n("span",{staticClass:"icon icon-followed"}),t._v(" "),n("span",{staticClass:"text"},[t._v(t._s(t.followText))])]):t._t("unFollow",[n("span",{staticClass:"icon icon-follow"}),t._v(" "),n("span",{staticClass:"text",attrs:{"data-text":"取消关注"}},[t._v(t._s(t.followText))])])],2):t._e()}),[],!1,null,"565dd611",null).exports),Tt=n(66),xt=n.n(Tt),Lt=n(1006),Pt=n(96),St=n(26),Et=n(1365),meta=n(859),At=n(282),It=n(1279),Dt=n.n(It),Mt=Object(N.d)({components:{FollowButton:kt},props:{id:{type:String,required:!0},icon:{type:String,required:!0},title:{type:String,required:!0},followed:{type:Boolean,required:!0},type:String,onChange:Function,immerse:{type:Boolean,default:!1}},setup:function(t){var e=Object(N.p)({value:t.followed}),n=Object(N.a)((function(){return!t.type||"default"===t.type}));return{follow:e,updateFollow:function(n){e&&(e.value=n),"function"==typeof t.onChange&&t.onChange(n)},teamIcon:Dt.a,defaultType:n}},watch:{followed:function(t){this.follow.value=t}}}),Bt=(n(3658),Object(B.a)(Mt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"left"},[n("router-link",{attrs:{to:t.$teamRoute(t.id)}},[n("img",{staticClass:"icon",attrs:{src:t.icon}})]),t._v(" "),t.defaultType?n("div",{staticClass:"content"},[n("div",{staticStyle:{display:"flex"}},[n("router-link",{attrs:{to:t.$teamRoute(t.id)}},[n("p",{staticClass:"title-line"},[n("span",{staticClass:"title",attrs:{title:t.title}},[t._v(t._s(t.title))]),t._v(" "),n("img",{staticClass:"team-icon",attrs:{src:t.teamIcon,alt:"team icon"}})])])],1),t._v(" "),t._t("default")],2):n("span",{staticClass:"min-title",attrs:{title:t.title}},[t._v(t._s(t.title))])],1),t._v(" "),n("follow-button",{directives:[{name:"show",rawName:"v-show",value:!t.immerse,expression:"!immerse"}],staticClass:"follow-btn",attrs:{type:"TEAM",id:t.id,visible:!0,target:{followed:t.follow.value}},on:{onChange:t.updateFollow},scopedSlots:t._u([{key:"unFollow",fn:function(){return[n("span",[n("i",{staticClass:"ion-plus"}),t._v("\n        关注\n      ")])]},proxy:!0}])})],1)}),[],!1,null,"0e1e6c3a",null).exports),$t=n(1294),Rt=n(7),Ht=n(868),Nt=Object(N.d)({components:{BButton:P.Button,BTooltip:P.Tooltip,JButton:Ht.a,Thumb:w.a},props:["column_item"],setup:function(t,e){var n=Object(N.u)(t,"column_item"),r=Object(N.q)(n.value.is_follow),o=Object(N.q)(!1),c=Object(N.a)((function(){return r.value?"已关注":"关注专栏"})),d=Object(N.a)((function(){return e.root.$device.isMobile})),h=Object(N.a)((function(){return f.value&&d.value})),f=Object(N.a)((function(){return e.root.$store.state.auth.user&&e.root.$store.state.auth.user.user_id===n.value.author.user_id})),m=function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(c,l){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.stopPropagation(),c.preventDefault(),t.prev=2,t.next=5,e.root.$ensureAuthorized("login");case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return");case 10:o.value=!0,l?Object(wt.a)({id:n.value.column_id,type:24}).then((function(t){r.value=l})).finally((function(){o.value=!1})):Object(wt.d)({id:n.value.column_id,type:24}).then((function(t){r.value=l})).finally((function(){o.value=!1}));case 12:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}();return{handleColumnVisible:function(n){var r;n&&e.root.$TEA("column_entrance_display",{cloumn_id:null===(r=t.column_item)||void 0===r?void 0:r.column_id})},columnItem:n,isFollow:r,handleFollowChange:m,handleColumnRoute:function(){var t="/column/".concat(n.value.column_id);window.open(t,"_blank")},isSelf:f,showLoading:o,buttonText:c,isMobile:d,isSelfMobile:h}}}),Vt=(n(3659),Object(B.a)(Nt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"visible-change",rawName:"v-visible-change.once",value:t.handleColumnVisible,expression:"handleColumnVisible",modifiers:{once:!0}}],staticClass:"item-container",on:{click:t.handleColumnRoute}},[n("Thumb",{class:{"mobile-img":t.isMobile},attrs:{url:t.columnItem.column_version.cover,lazy:!1,width:80,height:60,alt:"cover"}}),t._v(" "),n("div",{staticClass:"content",class:{"content-mobile":t.isMobile,"content-expand":t.isSelfMobile}},[t.columnItem.column_version.title&&t.columnItem.column_version.title.length>22?n("b-tooltip",{staticClass:"tooltip",attrs:{placement:"top-start","max-width":"472px",content:t.columnItem.column_version.title||""}},[n("span",{staticClass:"title"},[t._v("\n        "+t._s(t.columnItem.column_version.title||"")+"\n      ")])]):n("div",{staticClass:"title"},[t._v("\n      "+t._s(t.columnItem.column_version.title||"")+"\n    ")]),t._v(" "),t.columnItem.column_version.content&&t.columnItem.column_version.content.length>27?n("b-tooltip",{staticClass:"tooltip",attrs:{placement:"top-start","max-width":"472px",content:t.columnItem.column_version.content||""}},[n("span",{staticClass:"description"},[t._v("\n        "+t._s(t.columnItem.column_version.content||"")+"\n      ")])]):n("div",{staticClass:"description"},[t._v("\n      "+t._s(t.columnItem.column_version.content||"")+"\n    ")])],1),t._v(" "),t.isMobile&&!t.isSelf?n("j-button",{staticClass:"btn mobile-btn",class:{followed:t.isFollow},attrs:{attention:!0,cancel:t.isFollow,loading:t.showLoading,size:"mini"},on:{click:function(e){return t.handleFollowChange(e,!t.isFollow)}}}):t._e(),t._v(" "),t.isSelf&&!t.isMobile?n("b-button",{staticClass:"btn cancel-btn",attrs:{type:"text"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleColumnRoute(e)}}},[t._v("\n    进入专栏\n  ")]):t._e(),t._v(" "),t.isSelf||t.isMobile?t._e():n("j-button",{staticClass:"btn follow-btn",class:{followed:t.isFollow},attrs:{size:"mini",attention:!0,cancel:t.isFollow,customAttentionText:"关注专栏",loading:t.showLoading},on:{click:function(e){return t.handleFollowChange(e,!t.isFollow)}}})],1)}),[],!1,null,"79b79a50",null).exports),Ft=Object(Rt.b)({components:{ColumnPostItem:Vt},props:{columnList:{type:Array,default:function(){return[]}}},computed:{showBox:function(){return Boolean(this.columnList.length)}}}),Ut=(n(3660),Object(B.a)(Ft,(function(){var t=this.$createElement,e=this._self._c||t;return this.showBox?e("div",{staticClass:"column-container"},[this._m(0),this._v(" "),e("div",{staticClass:"column-content"},this._l(this.columnList,(function(t,n){return e("column-post-item",{key:t.column_id||n,attrs:{column_item:t}})})),1)]):this._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column-header"},[e("span",{staticClass:"column-title"},[this._v("文章被收录于专栏：")])])}],!1,null,"8c900db2",null).exports),qt=n(160),Zt=n(185),zt=n(27),Gt=n(100),Wt=n(263),Kt=n(1097),Yt=n(314),Jt=(n(120),n(25)),Xt=n(271),Qt=n(941);function te(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function ee(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?te(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):te(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var ne=Object(Rt.m)(f.c),ie=Object(Rt.b)({props:{info:{type:Object,required:!0,default:function(){return{}}},isBuy:{type:Boolean,default:!1},discount:{type:Object,default:void 0},author:{type:Object,required:!0,default:function(){return{}}},readingProgress:{type:Object,default:function(){return{}}},teaData:{type:Object,default:function(){return{}}}},emits:["click"],computed:{leftTime:function(){var t,e=Math.ceil(Object(Jt.j)((new Date).getTime(),1e3*(null===(t=this.discount)||void 0===t?void 0:t.end_time)));return e>0?e:0},currentPrice:function(){var t;return(null===(t=this.discount)||void 0===t?void 0:t.discount_rate)?Object(Qt.a)(this.info.price/100,this.discount.discount_rate):this.info.price/100},isBorrowing:function(){var t,e;return(null===(t=this.readingProgress)||void 0===t?void 0:t.borrow_times)>0&&(new Date).getTime()/1e3<(null===(e=this.readingProgress)||void 0===e?void 0:e.valid_end_time)},cover:function(){return this.info.cover_img?Object(Xt.c)(this.info.cover_img,{resizeWidth:160,resizeHeight:224}):ne.value}},methods:{onClick:function(){var t,e,n,r=(null===(t=this.readingProgress)||void 0===t?void 0:t.borrow_times)>0?"finish":"never";Object(W.d)("article_detail_book_click",ee(ee({},this.teaData),{},{book_discount:null!==(n=null===(e=this.discount)||void 0===e?void 0:e.discount_rate)&&void 0!==n?n:null,book_price:this.info.price,platform:this.$device.isMobile?"h5":"web",book_id:this.info.booklet_id,author_id:this.author.user_id,book_category:this.info.category_id,is_purchased:this.isBuy?1:0,rent_status:this.isBorrowing?"underway":r})),this.$emit("click",{info:this.info,discount:this.discount,author:this.author});var o=this.$router.resolve({name:"bookInfo",params:{id:this.info.booklet_id},query:{utm_source:"web_article",enter_from:"article_detail"}});window.open(o.href,"_blank")},onVisibleChange:function(t){var e,n,r,o=(null===(e=this.readingProgress)||void 0===e?void 0:e.borrow_times)>0?"finish":"never";t&&Object(W.d)("article_detail_book_display",ee(ee({},this.teaData),{},{book_discount:null!==(r=null===(n=this.discount)||void 0===n?void 0:n.discount_rate)&&void 0!==r?r:null,book_price:this.info.price,platform:this.$device.isMobile?"h5":"web",book_id:this.info.booklet_id,author_id:this.author.user_id,book_category:this.info.category_id,is_purchased:this.isBuy?1:0,rent_status:this.isBorrowing?"underway":o}))}}}),re=(n(3661),Object(B.a)(ie,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"visible-change",rawName:"v-visible-change",value:t.onVisibleChange,expression:"onVisibleChange"}],staticClass:"book-card-wrap",attrs:{"data-booklet-id":t.info.booklet_id},on:{click:t.onClick}},[n("img",{staticClass:"book-card-cover",attrs:{src:t.cover,alt:"cover"}}),t._v(" "),n("div",{staticClass:"book-card-info"},[n("div",{staticClass:"book-card-top"},[n("div",{staticClass:"book-card-title",attrs:{title:t.info.title}},[t.info.can_vip_borrow?n("div",{staticClass:"book-card-vip"},[t._v("VIP")]):t._e(),t._v(" "),n("span",{staticClass:"book-card-title-text"},[t._v(t._s(t.info.title))])]),t._v(" "),n("div",{staticClass:"book-card-content"},[n("username",{staticClass:"author-name",attrs:{user:t.author,"show-jpower-level":!0}}),t._v(" "),n("div",{staticClass:"book-card-count"},[t._v("\n          "+t._s(t.info.buy_count>=0?t.info.buy_count:0)+"购买\n        ")])],1)]),t._v(" "),n("div",{staticClass:"book-card-price-wrap"},[n("div",{staticClass:"book-card-price"},[t._v("¥"+t._s(t.currentPrice))]),t._v(" "),t.discount?n("div",{staticClass:"book-card-sale"},[n("div",{staticClass:"book-card-price-before-wrap"},[n("div",{staticClass:"book-card-price-before"},[t._v("¥"+t._s(t.info.price/100))]),t._v(" "),n("div",{staticClass:"book-card-price-line"})]),t._v(" "),t.leftTime?n("div",{staticClass:"book-card-sale-text"},[t._v("\n          限时优惠·倒计时"+t._s(t.leftTime)+"天\n        ")]):t._e()]):t._e()])])])}),[],!1,null,"241f54a8",null).exports),oe=n(109),se=Object(N.d)({components:{BookCard:re},props:{limit:{type:Number,default:2},category:{type:String,default:"",required:!0},teaData:{type:Object,default:function(){return{}}}},emits:["click"],data:function(){return{list:[]}},mounted:function(){var t=this;this.category&&this.getTcc().then((function(e){if(e.length&&e.length>=t.limit){var n=Math.floor(Math.random()*e.length),r=n+t.limit-1>=e.length?e.slice(n,e.length).concat(e.slice(0,t.limit-(e.length-n+1)+1)):e.slice(n,n+t.limit);oe.a.BookletListByIds({id_list:r}).then((function(e){e.data.length===t.limit&&(t.list=e.data)}))}})).catch((function(t){console.debug("get recommend book error",t)}))},methods:{getTcc:function(){var t=this,e=zt.c?"//lf3-config.bytetcc.com/obj/tcc-config-web/tcc-v2-data-ttarch.juejin.booklet_api-default":"//tosv-boe.byted.org/obj/tcc-config-web-boe/tcc-v2-data-ttarch.juejin.booklet_api-default";return fetch(e).then((function(t){return t.ok?t.json():void 0})).then((function(e){var n,r={};try{r=JSON.parse(null===(n=e.data)||void 0===n?void 0:n.booklet_exposure)}catch(t){r={},console.debug("get recommend course tcc error",t)}return(null==r?void 0:r[t.category])||[]}))},onClick:function(t){this.$emit("click",t)}}}),ae=(n(3662),Object(B.a)(se,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.list.length?n("div",{staticClass:"wrap"},[n("div",{staticClass:"title"},[t._v("相关课程")]),t._v(" "),n("div",{staticClass:"list"},t._l(t.list,(function(e){return n("BookCard",{key:e.booklet_id,attrs:{"tea-data":Object.assign({},{article_category:t.category},t.teaData),author:e.user_info,info:e.base_info,discount:e.event_discount,"is-buy":e.is_buy,"reading-progress":e.reading_progress},on:{click:t.onClick}})})),1)]):t._e()}),[],!1,null,"6a541d9e",null).exports),ce=(n(44),n(55),n(89));function le(t,e){return ue.apply(this,arguments)}function ue(){return(ue=Object(l.a)(regeneratorRuntime.mark((function t(e,n){var r,o,c,l,d,h,f,m,v,_;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=null!==(r=e.req.articleSSRConfig)&&void 0!==r?r:{},d=l.renderPolicy,h=void 0===d?"SSR":d,f=l.timeConsumingArticles,m=void 0===f?[]:f,"CSR"!==h){t.next=3;break}return t.abrupt("return",!0);case 3:if("SSR_SEO"!==h||n){t.next=5;break}return t.abrupt("return",!0);case 5:if(v=e.params.id,!m.includes(v)){t.next=8;break}return t.abrupt("return",!0);case 8:if(_=Object(ce.d)(v),!Object(Wt.e)(e)){t.next=13;break}return e.req.logger.debug("reset time consuming for key:".concat(_)),null===(o=e.req.redis)||void 0===o||o.del(_),t.abrupt("return",!1);case 13:return t.t0=Boolean,t.next=16,null===(c=e.req.redis)||void 0===c?void 0:c.get(_);case 16:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function de(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function he(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?de(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):de(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var fe=function(t){return t.state.view.column},me=0;var pe=Object(Rt.b)({components:{Avatar:C.a,Thumb:w.a,ArticleSuspendedPanel:O.a,CommentListBox:j.a,WechatBanner:k.a,EntryList:T.a,Sidebar:Ct,FollowButton:kt,MarkdownViewer:Lt.default,MobileBottomActionBar:$,AuditTag:R.a,AppLink:At.a,TeamFollow:Bt,ColumnPostList:Ut,ExtensionBanner:U,BookRecommend:ae,AppOpenDrawer:function(){return Promise.all([n.e(10),n.e(11)]).then(n.bind(null,4453))}},mixins:[$t.a],data:function(){return{defaultTagIconUrl:f.e,isViewNavOnTop:!1,isMobile:!1,showMore:!1,fromPage:"",isImmerseMode:!1,isSelect:!1,voteState:0,skipSSR:!1,needLoginGuide:!1,additionalDataUseCSR:!1}},asyncData:function(t){return Object(l.a)(regeneratorRuntime.mark((function e(){var n,r,o,l,d,h,f,m,v,_,C,w,O,j,k,T,x,L,P,S,E,A,I,D,M,B,$,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 2:return d=t.store,h=t.params,f=t.req,m=t.error,v=f.measureWithMetrics,_=f.logger,C=h.id,w=Object(y.j)(t),null===(n=null==f?void 0:f.logger)||void 0===n||n.debug("browser support webp?",w,"accept:",null===(r=null==f?void 0:f.headers)||void 0===r?void 0:r.accept),e.prev=7,O=Object(y.i)(Object(y.b)(t)),j=!O||!1,e.next=12,le(t,O);case 12:if(k=e.sent,T=fe(d).actionType,x=T.FETCH,L=T.FETCH_ADDITIONAL,P=T.FETCH_CACHED_HTML,S=d.dispatch(x,{id:C,fetchArticle:function(e,n){return Object(Wt.b)(t,{articleId:e,userId:n||"",skipCache:!O||Boolean(n)})}}),!k){e.next=20;break}return e.next=18,S;case 18:return d.commit("view/column/UPDATE_STATE",{renderPost:!1}),e.abrupt("return",{skipSSR:k});case 20:return E=j?Promise.resolve({}):v({stage:"method_call",method_name:"fetch_additional",timing_key:"3"},d.dispatch(L,{articleId:C,timeout:(null===(l=null===(o=f.articleSSRConfig)||void 0===o?void 0:o.timeConsumingThreshold)||void 0===l?void 0:l.recommendApi)||500})),A=v({stage:"method_call",method_name:"fetch_cached_html",timing_key:"2"},d.dispatch(P)),e.next=24,Promise.allSettled([S,E,A]);case 24:if(I=e.sent,D=Object(c.a)(I,3),M=D[0],B=D[1],$=D[2],"rejected"!==M.status){e.next=32;break}throw _.error("error get post",M.reason),M.reason;case 32:return"rejected"===B.status&&(-1===B.reason.statusCode?(j=!0,_.warn("get post additional timeout",B.reason)):_.error("error get post additional",B.reason)),f.cacheParam=Object(Wt.f)(t,$,w),e.abrupt("return",{skipSSR:k,additionalDataUseCSR:j});case 37:return e.prev=37,e.t0=e.catch(7),Object(Wt.d)(t),f.cacheParam={shouldCache:!1,measureSsr:v({stage:"ssr",path:f.originalUrl||"-",webp:String(w),timing_key:"4"})},R=e.t0,e.abrupt("return",m({statusCode:R.normalizedCode||R.statusCode||500}));case 43:case"end":return e.stop()}}),e,null,[[7,37]])})))()},computed:he(he({},Object(d.mapGetters)({user:h.USER})),{},{renderPost:function(){return fe(this.$store).renderPost},showSidebar:function(){return this.state.showSidebar},subject:function(){return{item_id:this.entry.article_id,item_type:2,user_id:this.entry.author_user_info&&this.entry.author_user_info.user_id,comment_count:this.entry&&this.entry.commentsCount}},isDelete:function(){return this.author.is_logout},isMobileBrowser:function(){return this.$device.isMobile},state:function(){return fe(this.$store)},recommendedArticleList:function(){return this.state.recommendedArticleList},column:function(){return this.state.column},cachedHtml:function(){return this.state.cachedHtml},entry:function(){return this.state.entry},originalType:function(){var t,e;return(null===(e=null===(t=this.entry)||void 0===t?void 0:t.article_info)||void 0===e?void 0:e.original_type)||0},coverImage:function(){var t,e;return null===(e=null===(t=this.entry)||void 0===t?void 0:t.article_info)||void 0===e?void 0:e.cover_image},postId:function(){return this.$route.params.id},author:function(){return this.state.author},activityUrl:function(){var t="https://rank.juejin.cn/";return this.author&&this.author.is_select_annual?t+="?u=".concat(this.author.user_name,"&t=").concat(this.author.annual_list_type?"team":"user"):t},isShowVote:function(){return!(!this.isSelect||1!==this.voteState)},voteUrl:function(){return"https://".concat(zt.c?"rank.juejin.cn":"juejin-activity.bytedance.net","/rank/2021/").concat(this.author.id)},isToLong:function(){return this.author.user_name.length>5},entryView:function(){return this.state.entryView},tagList:function(){return this.entry.tags||[]},categoryTitle:function(){return(this.entry.category||{}).title},categoryId:function(){return(this.entry.category||{}).id},isAuthor:function(){var t,e,n;return(null===(t=this.user)||void 0===t?void 0:t.id)===(null===(e=this.author)||void 0===e?void 0:e.id)||1===(null===(n=this.user)||void 0===n?void 0:n.administrator)},isAudit:function(){var t,e;return 1===(null===(e=null===(t=this.entry)||void 0===t?void 0:t.article_info)||void 0===e?void 0:e.audit_status)&&this.isAuthor},isAuditFail:function(){var t,e;return-1===(null===(e=null===(t=this.entry)||void 0===t?void 0:t.article_info)||void 0===e?void 0:e.audit_status)&&this.isAuthor},canExtendCommentList:function(){return this.state.commentList.canNext&&!this.state.commentList.canPrev},canFetchMore:function(){return this.state.commentList.canNext},visibleFollowButton:function(){var t;return this.author.hasOwnProperty("followed")&&this.author.id!==(null===(t=this.user)||void 0===t?void 0:t.id)},domain:function(){return Object(St.b)(this.entry.originalUrl)},originalLink:function(){var t,e;return 0===(null===(e=null===(t=this.entry)||void 0===t?void 0:t.article_info)||void 0===e?void 0:e.is_original)},annualTeaParams:function(){var t;return{user_id:null===(t=this.user)||void 0===t?void 0:t.user_id,voted_user_id:xt()(this.entry,"author_user_info.user_id",0),platform:this.$device.isMobile?"h5":"web",invite_location:"post_page"}},teamInfo:function(){var t;return(null===(t=this.entry)||void 0===t?void 0:t.org)||{}},inTeam:function(){var t,e=null===(t=this.teamInfo.org_info)||void 0===t?void 0:t.org_id;return e&&"0"!==e},teamDetail:function(){var t;return(null===(t=this.teamInfo.org_info)||void 0===t?void 0:t.org_version)||{}},scheme:function(){return Object(H.e)("https://".concat(zt.b,"/post/").concat(this.postId),H.a.postDetail.gd_label)}}),head:function(){var link=Object(m.a)(this.$route.path).link;if(!this.entry||!Object.keys(this.entry).length)return{link:link};var t=Object(m.c)(this.entry,this.entryViewContent),title=t.title,e=t.keywords,n=this.entry,o=n.article_id,c=n.title,l=n.article_info,d=void 0===l?{}:l,h=n.username,image=[];(null==d?void 0:d.cover_image)&&image.push(null==d?void 0:d.cover_image);var f=Object(Et.a)({id:"".concat(meta.f,"/post/").concat(o),title:c,description:(null==d?void 0:d.brief_content)||"",username:h,createdAt:null==d?void 0:d.ctime,updatedAt:null==d?void 0:d.mtime,image:image}),v=Object(Et.b)(this.entry.category);return he(he({},Object(m.d)({title:"".concat(title," - 掘金"),description:null==d?void 0:d.brief_content,keywords:e},this.$route.path,{})),{},{link:Object(r.a)(link),script:[{type:"application/ld+json",json:[f,v]}]})},shareInfo:function(){return{title:this.entry.title,description:this.entry.abstract||this.entry.content,thumb:this.coverImage,url:this.$route.fullPath}},watch:{entry:{handler:function(t,e){t&&t.article_id===(null==e?void 0:e.article_id)||t&&Object.keys(t).length&&this.$TEA("article_view",{article_type:t.type||"",article_id:t.article_id||"0",author_user_id:xt()(t,"author_user_info.user_id",0),category_id:xt()(t,"category.id",""),author_user_level:xt()(t,"author_user_info.level",0).toString()})},immediate:!0},$route:{handler:function(t){if("#refetch"===t.hash&&this.$device.isMobile){var e=t.params.id,n=this.$store;Object(Pt.b)(e).then((function(article){var t=article.user;n.commit("view/column/UPDATE_STATE",{column:{id:e},author:t,entry:article})})).catch(Object(Gt.b)(this.$store))}},immediate:!0}},beforeDestroy:function(){Object(v.q)(this.handleVisibleChange)},mounted:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$store.commit("view/column/UPDATE_STATE",{renderPost:!0}),me=Date.now(),t.fromPage=localStorage.getItem("fromPage"),localStorage.removeItem("fromPage"),t.isMobile=document.body.clientWidth<1140,t.initEventListener(),n=fe(t.$store).actionType.FETCH_AUTHOR_EXTRA,Promise.allSettled([t.$store.dispatch(n),Promise.resolve((t.skipSSR||t.additionalDataUseCSR)&&(r=t.$store,o=t.postId,c=void 0,l=void 0,c=fe(r),l=c.actionType.FETCH_ADDITIONAL,r.dispatch(l,{articleId:o,timeout:1e4})))]).then((function(){t.$nextTick((function(){t.autoFocusComment(),t.$refs.sidebar.generateCatalog(t.$refs.content.$el)}))})).catch((function(t){console.error(t)})).then((function(){return t.$Slardar(Zt.b)})).then((function(){t.author.is_select_annual&&t.$TEA("annual2021_invite_show",t.annualTeaParams)})),t.$TEA("article_detail_enter",{article_id:t.$route.params.id,detail_from:Object(qt.c)()}),4===Object(qt.a)(t.fromPage)&&t.$TEA("article_content_url_click"),t.vote(),t.handleABTest();case 12:case"end":return e.stop()}var r,o,c,l}),e)})))()},methods:{handleABTest:function(){var t=this;!this.user&&this.$device.isDesktop&&Object(Yt.a)({name:"login_guide",key:"login_type",value:["article","all"],defaultValue:"default"}).then((function(e){e&&(t.needLoginGuide=!0)}))},reportPageStayTime:function(){var t,e,n=this.entry;if(n){var r=Math.round((Date.now()-me)/1e3);this.$TEA("item_detail_stay_time",{event_page:4,req_id:null==n?void 0:n.req_id,boost_type:null===(t=null==n?void 0:n.extra)||void 0===t?void 0:t.boost_type,from_page:Object(qt.a)(this.fromPage),from_page_type:Object(qt.b)(),item_id:null==n?void 0:n.id,item_type:2,item_author_id:null===(e=null==n?void 0:n.author_user_info)||void 0===e?void 0:e.user_id,active_stay_time:r}),me=0}},syncCommentNum:function(t){var e=t.count,n=t.type;"add"===n?this.entry.commentsCount+=1:"sub"===n?this.entry.commentsCount-=e?e+1:1:this.entry.commentsCount=e,this.entry.commentsCount=this.entry.commentsCount>0?this.entry.commentsCount:0},onHeaderVisibilityChanged:function(t){this.isViewNavOnTop=!t},onSubmittedComment:function(){this.refreshCommentList()},onShouldFetchMoreComment:function(){this.$store.dispatch(this.state.commentList.actionType.FETCH_MORE)},refreshCommentList:function(){var t=this.state.commentList.actionType.FORCE_FETCH,e=this.entry.id;this.$store.dispatch(t,{entryId:e})},autoFocusComment:function(){"#comment"===this.$route.hash&&this.scrollToComment()},initEventListener:function(){var t=this,e=this.$getBean("eventBus");e.onVmLife(this,e.eventType.ROOT_CONTAINER_SCROLL,(function(){t.recordScroll()})),Object(v.o)(this.handleVisibleChange)},handleVisibleChange:function(){var t=Object(v.d)();t&&document[t]?this.reportPageStayTime():me=Date.now()},openEditor:function(){var t=this.$getBean("editorBusiness").getPostEditUrl(this.entry.draftId);window.location.href=t},onShouldFetchMoreRecommendedEntry:function(){this.$store.dispatch(this.state.recommendedArticleList.actionType.FETCH_MORE)},scrollToComment:function(){var t=document.getElementById("comment-box");if(t){var e=this.isViewNavOnTop?-30:-80;setTimeout((function(){return Object(v.s)(t,e)}),500)}},recordScroll:function(){var t=this;this.record||(this.record=Object(_.b)((function(){t.$TEA("article_detail_scroll",{article_id:t.$route.params.id})}),1e3,!0)),this.record()},clickActiviy:function(){this.$TEA("annual2020_invite_click",this.annualTeaParams)},clickVote:function(){this.$TEA("annual2021_invite_click",this.annualTeaParams)},vote:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(content.i)({annual_id:"2021",user_id:null===(n=t.author)||void 0===n?void 0:n.id});case 2:r=e.sent,data=r.data,t.isSelect=null==data?void 0:data.is_select_annual,t.voteState=null==data?void 0:data.status;case 6:case"end":return e.stop()}}),e)})))()}},beforeRouteLeave:function(t,e,n){var r;if(!(null===(r=this.entry)||void 0===r?void 0:r.id))return n();this.reportPageStayTime(),n()},setup:function(){var t=Object(Rt.u)();Object(Kt.d)(t.value.params.id)}}),ve=(n(3663),n(3664),Object(B.a)(pe,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("view-container",{class:{immerse:t.isImmerseMode},attrs:{size:"post",zlink:"https://z.juejin.cn/Ft2w",scheme:t.scheme},on:{headerVisibilityChanged:t.onHeaderVisibilityChanged}},[r("div",{staticClass:"view column-view"},[r("div",{staticClass:"main-area article-area"},[r("structured-article",{staticClass:"article",style:t.renderPost?{}:{minHeight:t.isMobileBrowser?"800px":"670px"},attrs:{entry:t.entry,"data-entry-id":t.entry.id,"data-draft-id":t.entry.draftId,"data-original-type":t.originalType}},[t.renderPost&&t.entry.id?[r("h1",{staticClass:"article-title"},[t._v("\n            "+t._s(t.entry.title)+"\n            "),t.isAudit||t.isAuditFail?r("AuditTag",{staticClass:"audit-tag-wrap",attrs:{type:t.isAudit?"wait":"fail"}}):t._e()],1),t._v(" "),t.inTeam?r("team-follow",{staticClass:"team-follow",attrs:{id:t.teamInfo.org_info.org_id,title:t.teamDetail.name,icon:t.teamDetail.icon,followed:t.teamInfo.is_followed,immerse:t.isImmerseMode}},[r("div",{staticClass:"meta-box team"},[r("time",{staticClass:"time",attrs:{datetime:t._f("iso")(t.entry.createdAt),title:t.entry.createdAt}},[t._v("\n                "+t._s(t._f("date")(t.entry.createdAt,"YYYY年MM月DD日 HH:mm"))+"\n              ")]),t._v(" "),r("span",{staticClass:"views-count"},[t._v("\n                ·  阅读 "+t._s(t.entry.viewsCount)+"\n              ")]),t._v(" "),t.isAuthor&&!t.isMobile?[r("span",{staticClass:"dot"},[t._v("·")]),t._v(" "),r("span",{staticClass:"edit-btn",on:{click:t.openEditor}},[t._v("编辑")])]:t._e()],2)]):[t.entry.id?r("div",{staticClass:"author-info-block"},[r("app-link",{staticClass:"avatar-link",attrs:{to:t.$userRoute(t.author),blank:!0}},[r("avatar",{staticClass:"avatar",attrs:{lazy:!1,user:t.author,decorative:!0}})],1),t._v(" "),r("div",{staticClass:"author-info-box"},[r("div",{staticClass:"author-name"},[r("username",{staticClass:"username ellipsis",attrs:{universal:"",user:t.author}}),t._v(" "),t.isShowVote&&!t.isToLong?r("a",{staticClass:"vote-in-progress",attrs:{href:t.voteUrl,target:"_blank"},on:{click:t.clickVote}}):t._e()],1),t._v(" "),r("div",{staticClass:"meta-box"},[r("time",{staticClass:"time",attrs:{datetime:t._f("iso")(t.entry.createdAt),title:t.entry.createdAt}},[t._v("\n                    "+t._s(t._f("date")(t.entry.createdAt,"YYYY年MM月DD日 HH:mm"))+"\n                  ")]),t._v(" "),r("span",{staticClass:"views-count"},[t._v("\n                    ·  阅读 "+t._s(t.entry.viewsCount)+"\n                  ")]),t._v(" "),t.isAuthor&&!t.isMobile?[r("span",{staticClass:"edit-btn",staticStyle:{"margin-left":"16px"},on:{click:t.openEditor}},[t._v("\n                      编辑\n                    ")])]:t._e()],2),t._v(" "),t.isShowVote&&t.isToLong?r("a",{staticClass:"vote-in-progress",attrs:{href:t.voteUrl,target:"_blank"},on:{click:t.clickVote}}):t._e()]),t._v(" "),r("follow-button",{staticClass:"follow",attrs:{visible:!t.isDelete&&t.visibleFollowButton,target:t.author,type:"USER"}})],1):t._e()],t._v(" "),t.coverImage?r("thumb",{staticClass:"article-hero",attrs:{lazy:!1,url:t.coverImage,"has-mark":!0,width:1512,height:851,alt:t.entry.title}}):t._e(),t._v(" "),t.inTeam?r("div",{staticClass:"team-user"},[r("avatar",{staticClass:"avatar",attrs:{user:t.author,decorative:!0}}),t._v(" "),r("username",{staticClass:"username ellipsis",attrs:{user:t.author}}),t._v(" "),r("span",{staticClass:"position ellipsis"},[t._v("\n              "+t._s(t.$userPosition(t.author))+"\n            ")]),t._v(" "),t.isShowVote?r("a",{staticClass:"vote-in-user",attrs:{href:t.voteUrl,target:"_blank"},on:{click:t.clickVote}}):t._e()],1):t._e(),t._v(" "),t.originalLink?r("div",{staticClass:"originalUrl"},[t._v("\n            原文链接：\n            "),r("a",{directives:[{name:"link",rawName:"v-link.external.redirect.blank",value:t.entry.originalUrl,expression:"entry.originalUrl",modifiers:{external:!0,redirect:!0,blank:!0}}]},[t._v("\n              "+t._s(t.domain)+"\n            ")])]):t._e(),t._v(" "),r("markdown-viewer",{directives:[{name:"copyright",rawName:"v-copyright",value:{username:t.author.username},expression:"{ username: author.username }"}],ref:"content",attrs:{"data-id":t.entry.objectId,markdown:t.entry.article_info.mark_content,html:t.entry.article_info.content,"cached-html":t.cachedHtml,itemprop:"articleBody",copyable:!0,"need-login-before-copy-code":t.needLoginGuide,"is-logined":!!t.user}})]:[r("img",{staticClass:"article-placeholder",attrs:{src:n(3642)}})]],2),t._v(" "),t.renderPost?r("div",{staticClass:"article-end"},[t.tagList.length?r("div",{staticClass:"tag-list-box"},[t.entry.category?r("div",{staticClass:"tag-list"},[r("div",{staticClass:"tag-list-title"},[t._v("分类：")]),t._v(" "),r("app-link",{staticClass:"item category-item",attrs:{blank:!0,to:"/"+t.entry.category.alias}},[r("span",{staticClass:"tag-title"},[t._v(t._s(t.entry.category.title))])])],1):t._e(),t._v(" "),r("div",{staticClass:"tag-list"},[r("div",{staticClass:"tag-list-title"},[t._v("标签：")]),t._v(" "),r("div",{staticClass:"tag-list-container"},t._l(t.tagList,(function(e){return r("app-link",{key:e.id,staticClass:"item tag-item",attrs:{to:t.$tagRoute(e),blank:!0}},[r("span",{staticClass:"tag-title"},[t._v(t._s(e.title))])])})),1)])]):t._e(),t._v(" "),r("ColumnPostList",{attrs:{"column-list":t.state.columnList}}),t._v(" "),r("ExtensionBanner")],1):t._e(),t._v(" "),t.entry.category?r("BookRecommend",{staticClass:"category-course-recommend",attrs:{category:t.entry.category.category_id,"tea-data":{article_id:t.postId}}}):t._e(),t._v(" "),r("client-only",[t.isMobile?r("wechat-banner",{staticClass:"wechat-banner"}):t._e(),t._v(" "),r("comment-list-box",{ref:"commentListBox",attrs:{id:"comment-box","forbid-input":t.isAudit||t.isAuditFail,subject:t.subject,expanded:!0,"has-hot":!0,"has-sort":!0,"need-login-guide":t.needLoginGuide},on:{syncCommentNum:t.syncCommentNum}}),t._v(" "),r("mobile-bottom-action-bar",{staticClass:"action-bar",attrs:{entry:t.entry},on:{comment:t.scrollToComment}})],1)],1),t._v(" "),t.recommendedArticleList.list.length?r("div",{staticClass:"main-area recommended-area shadow"},[r("div",{staticClass:"recommended-list-title-wrapper"},[r("div",{staticClass:"title"},[r("span",{staticClass:"title-content"},[t._v("相关推荐")])])]),t._v(" "),r("entry-list",{staticClass:"recommended-entry-list",attrs:{list:t.recommendedArticleList.list,loading:t.recommendedArticleList.skeleton,"from-page":t.fromPage},on:{"should-fetch-more":t.onShouldFetchMoreRecommendedEntry}})],1):t._e(),t._v(" "),r("sidebar",{directives:[{name:"show",rawName:"v-show",value:t.showSidebar,expression:"showSidebar"}],ref:"sidebar",staticClass:"sidebar",attrs:{state:t.state,logined:!!t.user,"on-top":t.isViewNavOnTop,"from-page":t.fromPage,immerse:t.isImmerseMode}}),t._v(" "),r("article-suspended-panel",{staticClass:"article-suspended-panel",attrs:{"is-author":t.isAuthor,entry:t.entry,"from-page":t.fromPage,"need-collect-guide":t.needLoginGuide},model:{value:t.isImmerseMode,callback:function(e){t.isImmerseMode=e},expression:"isImmerseMode"}})],1),t._v(" "),t.$device.isMobile?r("AppOpenDrawer",{staticClass:"app-open-drawer",attrs:{zlink:"https://z.juejin.cn/Ft2w",scheme:t.scheme}}):t._e()],1)}),[],!1,null,"3b544175",null));e.default=ve.exports},851:function(t,e,n){"use strict";n(44),n(55),n(120);var r=n(8),o=Object(r.d)({name:"xitu-skeleton",props:{tagName:{type:String,default:"div"},value:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},num:{type:Number,default:1,validator:function(t){return t>0&&!isNaN(t)&&isFinite(t)}},rows:{type:Number,default:4,validator:function(t){return t>=0&&!isNaN(t)&&isFinite(t)}},avatarShape:{type:String,validator:function(t){return["circle","square"].includes(t)||""===t},default:""},avatarWidth:{type:Number,default:45}},data:function(){return{visible:this.value}},computed:{mainClass:function(){return{"xitu-skeleton":!0,"xitu-skeleton-animated":this.animated}},avatarCls:function(){return["xitu-skeleton-avatar","xitu-skeleton-avatar-".concat(this.avatarShape)]},avatarStyle:function(){return{width:"".concat(this.avatarWidth,"px"),height:"".concat(this.avatarWidth,"px")}}},methods:{},watch:{value:function(t){this.visible=t}}}),c=(n(858),n(30)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.tagName,t._b({tag:"component"},"component",t.$attrs,!1),[t.visible?n("div",{class:t.mainClass},t._l(t.num,(function(e){return n("div",{key:e,staticClass:"xitu-skeleton-item"},[t.avatarShape?n("span",{class:t.avatarCls,style:t.avatarStyle}):t._e(),t._v(" "),t.rows?n("div",{staticClass:"xitu-skeleton-content"},t._l(t.rows,(function(i){return n("div",{key:i,staticClass:"xitu-skeleton-line"})})),0):t._e()])})),0):t._t("default")],2)}),[],!1,null,"3ff8f708",null);e.a=component.exports},852:function(t,e,n){},853:function(t,e,n){"use strict";n.d(e,"g",(function(){return h})),n.d(e,"h",(function(){return f})),n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return v})),n.d(e,"f",(function(){return _})),n.d(e,"e",(function(){return y})),n.d(e,"d",(function(){return w})),n.d(e,"c",(function(){return O}));n(16),n(15),n(11),n(6),n(14),n(24);var r=n(0),o=n(5),c=n(1);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function h(t){var e=t.item_id,n=t.item_type,r=t.comment_content,o=t.comment_pics;return Object(c.e)({url:"/interact_api/v1/comment/publish",method:"post",body:{item_id:e,item_type:n,comment_content:r,comment_pics:o,client_type:2608}})}function f(t){var e=t.reply_to_comment_id,n=t.reply_to_reply_id,r=t.reply_to_user_id,o=t.item_id,l=t.item_type,d=t.reply_content,h=t.reply_pics;return Object(c.e)({url:"/interact_api/v1/reply/publish",method:"post",body:{reply_to_comment_id:e,reply_to_reply_id:n,reply_to_user_id:r,item_id:o,item_type:l,reply_content:d,reply_pics:h,client_type:2608}})}function m(t){var e=t.comment_id;return Object(c.e)({url:"/interact_api/v1/comment/delete",method:"post",body:{comment_id:String(e)}}).then((function(t){return t.data}))}function v(t){var e=t.comment_id,n=t.reply_id;return Object(c.e)({url:"/interact_api/v1/reply/delete",method:"post",body:{comment_id:e,reply_id:n}}).then((function(t){return t.data}))}function _(t){var e=t.comment_id,n=t.item_id,r=t.item_type,cursor=t.cursor,o=t.limit;return Object(c.e)({url:"/interact_api/v1/reply/list",method:"post",body:{comment_id:e,item_id:n,item_type:r,cursor:cursor,limit:o,client_type:2608}})}function y(t){return C.apply(this,arguments)}function C(){return(C=Object(o.a)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.e)({url:"/interact_api/v1/comment/hots",method:"post",body:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t){return Object(c.e)({url:"/interact_api/v1/comment/list",method:"post",body:d(d({},t),{},{client_type:2608})})}function O(t){return Object(c.e)({url:"/interact_api/v1/comment/detail",method:"post",body:{comment_id:t,clent_type:2608},showError:!1})}},856:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n(6);var r=n(12),o=n(13),c=function(){function t(){Object(r.a)(this,t),this.busy=!1}return Object(o.a)(t,[{key:"do",value:function(t){var e=this;return this.busy?Promise.resolve():(this.busy=!0,Promise.resolve("function"==typeof t?t():t).then((function(t){return e.busy=!1,t})).catch((function(t){return e.busy=!1,Promise.reject(t)})))}}]),t}();function l(){return new c}},857:function(t,e,n){"use strict";n(120);var r=n(68),o=n(271),c=n(273),l=n(8),d=Object(l.d)({components:{Lazy:c.a},props:{url:{type:String},default:{type:String},quality:{type:Number},width:{type:Number,default:0},height:{type:Number,default:0},shrink:{type:Boolean},format:{type:String},alt:{type:String},blank:{type:String},hasMark:{type:Boolean,default:!1},lazy:{type:Boolean,default:!0}},computed:{defaultThumbUrl:function(){return this.default||r.h},thumbUrl:function(){var t=this.url||(this.blank?"":this.defaultThumbUrl);return this.shrink?Object(o.e)(t,this.width*r.l,this.height*r.l,{format:this.format,quality:this.quality},this.hasMark?"zoomCrop":"noMark"):Object(o.b)(t,this.width*r.l,this.height*r.l,{format:this.format,quality:this.quality},this.hasMark?"zoomCrop":"noMark")}}}),h=n(30),component=Object(h.a)(d,(function(){var t=this.$createElement;return(this._self._c||t)("lazy",{attrs:{url:this.thumbUrl,alt:this.alt,lazy:this.lazy,"loading-style":{aspectRatio:""+this.width/this.height}}})}),[],!1,null,null,null);e.a=component.exports},858:function(t,e,n){"use strict";n(852)},859:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"g",(function(){return d})),n.d(e,"d",(function(){return h})),n.d(e,"c",(function(){return f}));var r="掘金,稀土,Vue.js,前端面试题,Kotlin,ReactNative,Python",o="掘金是面向全球中文开发者的技术内容分享与交流平台。我们通过技术文章、沸点、课程、直播等产品和服务，打造一个激发开发者创作灵感，激励开发者沉淀分享，陪伴开发者成长的综合类技术社区。",c="https://juejin.cn",l="juejin.cn",d=function(t){return"".concat(t,"技术、学习、经验文章掘金开发者社区搜索结果。掘金是一个帮助开发者成长的社区，").concat(t,"技术文章由稀土上聚集的技术大牛和极客共同编辑为你筛选出最优质的干货，用户每天都可以在这里找到技术世界的头条内容，我们相信你也可以在这里有所收获。")},h="掘金,科技资讯,开源新闻,开源软件,Vue.js,go mod,netty,后端,谷歌,亚马逊,GitHub",f="掘金是目前领先的中文开发者社区，致力帮助开发者成长，为开发者提供新鲜的科技行业动态、开源项目和编程语言动态。掘金是给开发者用的 Hacker News，给设计师用的 Designer News，和给产品经理用的 Medium。"},860:function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"e",(function(){return d})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return f})),n.d(e,"d",(function(){return m}));n(45);var r=n(859),o=n(861);function c(t,e){t=t||{},e=e||t.parsedContent;var title=t.title||"",content=(e||"").replace(/<.*?>/g,"")||t.content;return{title:title,keywords:l((t.tags||[]).map((function(t){return t.title}))),description:d(content)}}function l(t){return(t=t||[]).join(",").replace(/[\r\n\s]+/g," ")}function d(t){return(t=(t||"").trim().slice(0,130)).replace(/[\r\n\s]+/g," ")}function h(){var path=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",link=[{rel:"canonical",href:"".concat(r.f).concat(path)}];return{link:link}}function f(t){return{title:t.title,meta:[{vmid:"description",name:"description",content:t.description},{vmid:"keywords",name:"keywords",content:t.keywords}]}}function m(t,path,e){return t.keywords||(t.keywords=r.b),t.description||(t.description=r.a),f(Object(o.buildTdk)(t,r.e,path,e))}},861:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{h(r.next(t))}catch(t){c(t)}}function d(t){try{h(r.throw(t))}catch(t){c(t)}}function h(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,d)}h((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.setTdkTemplateList=e.getTdkTemplateList=e.buildTdk=void 0;var l=c(n(881)),d=n(862),h=n(864),f=n(865),m=[],v=null,_=!1;function y(t){return r(this,void 0,void 0,(function(){var e,data,n,r;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,l.default.request({url:"https://seo"+(_?"-boe":"")+".bytedance.net/api/tdk/query",method:"post",data:{site:t}})];case 1:if(e=o.sent(),data=e.data,(n=e.status)>=400)throw new Error("获取 TDK 失败，status code: "+n);if(data.errno)throw new Error("获取 TDK 失败，errno: "+data.errno+",message: "+data.message);return j(data.data),[3,3];case 2:return r=o.sent(),console.warn(r),[3,3];case 3:return[2]}}))}))}function C(template,t){var e=template.replace(/\{\{\s*(\w+)\s*\}\}/g,"{{$1}}");for(var n in t)e=e.replace("{{"+n+"}}",t[n]);return e.replace(/{{([\s\S]+?)}}/g,"")}function w(path,t){var e=function(path,t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(d.isMatch(path,r.path))return r}}(path,m);return e?{title:C(e.title,t),description:C(e.description,t),keywords:C(e.keywords,t)}:{title:"",description:"",keywords:""}}function O(t){return!t.title&&!t.description&&!t.keywords}function j(t){m=JSON.parse(JSON.stringify(t))}e.buildTdk=function(t,e,path,n,r,o){void 0===r&&(r=!1),void 0===o&&(o=36e5),_=r;var c={title:"",description:"",keywords:""};try{if("string"!=typeof e||"string"!=typeof path)throw new Error("由模板构建 TDK 时，必须要传入合法 site 和 path，当前 site="+e+"，path="+path);c=w(path,n),f.isSsrServer()&&(!function(t,e){t<3e5&&(console.warn("模板刷新时间间隔不能小于 5 分钟，当前设置 "+t+"ms"),t=3e5),v||(v=setInterval((function(){y(e)}),t*(1+.1*(Math.random()-.5))),y(e))}(o,e),h.metricsEmitCounter("tdk.build",1,"toutiao.growth.seo_platform",{site:e||"empty",path:path||"empty",fallback:+O(c),tdkTemplateListLength:m.length,errMsg:"success"}))}catch(t){console.warn(t),f.isSsrServer()&&h.metricsEmitCounter("tdk.build",1,"toutiao.growth.seo_platform",{site:e||"empty",path:path||"empty",fallback:+O(c),tdkTemplateListLength:m.length,errMsg:t.toString()})}return O(c)?(console.warn("使用兜底 TDK"),t):c},e.getTdkTemplateList=function(){return JSON.parse(JSON.stringify(m))},e.setTdkTemplateList=j},862:function(t,e,n){"use strict";const r=n(863),o=new Map;function c(pattern,t){t={caseSensitive:!1,...t};const e=pattern+JSON.stringify(t);if(o.has(e))return o.get(e);const n="!"===pattern[0];n&&(pattern=pattern.slice(1)),pattern=r(pattern).replace(/\\\*/g,"[\\s\\S]*");const c=new RegExp(`^${pattern}$`,t.caseSensitive?"":"i");return c.negated=n,o.set(e,c),c}t.exports=(t,e,n)=>{if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError(`Expected two arrays, got ${typeof t} ${typeof e}`);if(0===e.length)return t;const r="!"===e[0][0];e=e.map(pattern=>c(pattern,n));const o=[];for(const input of t){let t=r;for(const pattern of e)pattern.test(input)&&(t=!pattern.negated);t&&o.push(input)}return o},t.exports.isMatch=(input,pattern,t)=>{const e=Array.isArray(input)?input:[input],n=Array.isArray(pattern)?pattern:[pattern];return e.some(input=>n.every(pattern=>{const e=c(pattern,t),n=e.test(input);return e.negated?!n:n}))}},863:function(t,e,n){"use strict";t.exports=t=>{if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},864:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.metricsEmitCounter=void 0;e.metricsEmitCounter=function(t,e,n,r){null}},865:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSsrServer=void 0,e.isSsrServer=function(){try{return!(window&&document&&location&&alert)}catch(t){return!0}}},867:function(t,e,n){"use strict";n.r(e);n(16),n(15),n(11),n(14),n(6);var r=n(0),o=n(8),c=n(4),l=n(856),d=n(178),h=n(28),f=n(84),m=n(933),v=Object(o.d)({components:{Triangle:m.a},props:{disalbe:{type:Boolean,default:!1},promise:Promise},setup:function(t,e){var data=Object(o.p)({visible:!1,top:0,left:0,isTop:!1}),n=Object(o.q)(null),r=Object(o.q)(null),c=Object(o.q)();return{data:data,popoverStyle:Object(o.a)((function(){return{top:"".concat(data.top,"px"),left:"".concat(data.left,"px")}})),contentElem:c,showPopover:function(o){t.disalbe||(clearTimeout(r.value),e.emit("show"),n.value=setTimeout((function(){Promise.resolve(t.promise).then((function(){n.value&&(data.visible=!0,e.root.$nextTick((function(){var t=o.target,e=null==t?void 0:t.getBoundingClientRect(),n=t.offsetWidth||33,r=t.offsetHeight||33,l=c.value,d=(null==l?void 0:l.offsetWidth)||260,h=(null==l?void 0:l.offsetHeight)||160,f=e.left-d/2+n/2,m=e.top-h-12;data.isTop=!1,m<60&&(data.isTop=!0,m=e.top+r+8),f=Math.max(0,f),data.left=f,data.top=m})))}))}),300))},hidePopover:function(){clearTimeout(n.value),n.value=null,e.emit("hide"),r.value=setTimeout((function(){r.value=null,data.visible=!1}),300)}}}}),_=(n(1025),n(30)),y=Object(_.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popover-box",on:{mouseenter:function(e){return t.showPopover(e)},mouseleave:t.hidePopover}},[n("transition",{attrs:{name:"fade"}},[t.data.visible?n("div",{ref:"contentElem",staticClass:"popover-content",style:t.popoverStyle},[t._t("content"),t._v(" "),n("triangle",{staticClass:"triangle-bottom",class:{isTop:t.data.isTop}})],2):t._e()]),t._v(" "),t._t("default")],2)}),[],!1,null,"f1a2074a",null).exports,C=n(868);function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var j=Object(o.d)({components:{Avatar:d.a,Popover:y,Button:C.a},props:{userId:String,showJscoreLevel:{type:Boolean,default:!1},enablePopover:{type:Boolean,default:!0}},data:function(){return{user:null,followLock:Object(l.a)(),fetchUserPromise:null,isFollowing:!1}},computed:O(O({},Object(f.mapGetters)({currentUser:c.USER})),{},{position:function(){return this.user&&(this.$userPosition(this.user)||this.user.description||"暂无简介")},self:function(){return this.currentUser&&this.currentUser.id===this.userId},followed:function(){return this.user&&this.user.followed}}),methods:{toFollowing:function(){window.open("/user/".concat(this.userId,"/following"),"_blank")},toFollower:function(){window.open("/user/".concat(this.userId,"/followers"),"_blank")},handleShow:function(){this.fetchUserPromise=this.fetch().then((function(t){if(t.is_logout)return Promise.reject()}))},fetch:function(){var t=this;return Object(h.i)(this.userId,{ignore404:!0}).then((function(e){return t.user=e,e}))},toggleFollow:function(){var t=this;this.isFollowing=!0,this.followLock.do((function(){return t.$ensureAuthorized().then((function(){return t.$store.dispatch(c.TOGGLE_FOLLOW_USER,t.user).catch((function(e){t.$error(e)}))})).catch((function(t){return console.warn("follow failed err:",t)})).finally((function(){return t.isFollowing=!1}))}))}}}),k=(n(1026),n(1027),Object(_.a)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Popover",{staticClass:"user-popover",attrs:{promise:t.fetchUserPromise},on:{show:t.handleShow},scopedSlots:t._u([{key:"content",fn:function(){return[n("div",{staticClass:"info-row",on:{click:function(t){t.stopPropagation()}}},[n("app-link",{attrs:{to:t.$userRoute(t.user),blank:!0}},[n("avatar",{staticClass:"avatar",attrs:{user:t.user,decorative:!0,alt:t.user.username+"的头像"}})],1),t._v(" "),n("div",{staticClass:"user-info"},[n("username",{attrs:{user:t.user,"show-jscore-level":t.showJscoreLevel}}),t._v(" "),n("div",{staticClass:"position"},[t._v(t._s(t.position))])],1)],1),t._v(" "),t.self?t._e():n("Button",{staticClass:"follow-btn",attrs:{"st:name":"followBtn",attention:!0,"custom-attention-text":"关注","cancel-attention-text":"取消关注",cancel:t.followed,loading:t.isFollowing,size:"large","show-icon":!1},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleFollow(e)}}}),t._v(" "),n("div",{staticClass:"meta-row",on:{click:function(t){t.stopPropagation()}}},[n("ul",{staticClass:"meta-list"},[n("li",{staticClass:"item",on:{click:t.toFollowing}},[n("div",{staticClass:"count"},[t._v(t._s(t.user.followingCount||0))]),t._v(" "),n("div",{staticClass:"title"},[t._v("关注")])]),t._v(" "),n("li",{staticClass:"divider"}),t._v(" "),n("li",{staticClass:"item",on:{click:t.toFollower}},[n("div",{staticClass:"count"},[t._v(t._s(t.user.followerCount||0))]),t._v(" "),n("div",{staticClass:"title"},[t._v("粉丝")])])])])]},proxy:!0}])},[t._v(" "),t._t("default")],2)}),[],!1,null,"0c01b30d",null));e.default=k.exports},868:function(t,e,n){"use strict";var r=n(8),o=n(888),c=n.n(o),l=n(889),d=n.n(l),h=n(890),f=n.n(h),m=n(891),v=n.n(m),_=n(892),y=n.n(_),C=Object(r.d)({props:{type:{type:String,default:"primary"},attention:Boolean,customAttentionText:String,cancelAttentionText:String,size:{type:String,default:"medium"},status:{type:String,default:"default"},disabled:Boolean,loading:Boolean,cancel:Boolean,text:String,icon:String,showIcon:{type:Boolean,default:!0}},setup:function(t,e){var n=Object(r.a)((function(){return t.attention}));return{handleClick:function(n){t.disabled||t.loading||e.emit("click",n)},isAttentionType:n,attentionText:Object(r.a)((function(){return"mini"===t.size&&t.loading?"":t.cancel?t.loading?"取消":t.cancelAttentionText||"已关注":t.customAttentionText||"关注"})),iconSrc:Object(r.a)((function(){return t.loading?t.cancel||n.value&&"primary"!==t.type?v.a:y.a:n.value&&t.showIcon?"mini"===t.size?"":t.icon||t.cancel?f.a:"primary"===t.type?c.a:d.a:""}))}}}),w=(n(893),n(30)),component=Object(w.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"ui-btn",class:[t.type,t.size,t.status,t.cancel?"cancel":"",t.attention?"attention":""],attrs:{disabled:t.disabled||t.loading},on:{click:t.handleClick}},[t.iconSrc?n("img",{staticClass:"img",class:t.loading?"loading":"",attrs:{src:t.iconSrc}}):t._e(),t._v(" "),t.isAttentionType?[t._v("\n    "+t._s(t.attentionText)+"\n  ")]:t._t("default",[t._v(t._s(t.text))])],2)}),[],!1,null,"05e27314",null);e.a=component.exports},869:function(t,e,n){},871:function(t,e,n){},872:function(t,e,n){"use strict";n.d(e,"B",(function(){return o})),n.d(e,"v",(function(){return c})),n.d(e,"A",(function(){return l})),n.d(e,"u",(function(){return d})),n.d(e,"t",(function(){return h})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return m})),n.d(e,"h",(function(){return v})),n.d(e,"b",(function(){return _})),n.d(e,"w",(function(){return y})),n.d(e,"x",(function(){return C})),n.d(e,"q",(function(){return w})),n.d(e,"r",(function(){return O})),n.d(e,"z",(function(){return j})),n.d(e,"s",(function(){return k})),n.d(e,"D",(function(){return T})),n.d(e,"j",(function(){return x})),n.d(e,"k",(function(){return L})),n.d(e,"i",(function(){return P})),n.d(e,"C",(function(){return S})),n.d(e,"g",(function(){return E})),n.d(e,"p",(function(){return A})),n.d(e,"c",(function(){return I})),n.d(e,"a",(function(){return D})),n.d(e,"y",(function(){return M})),n.d(e,"o",(function(){return B})),n.d(e,"n",(function(){return $})),n.d(e,"E",(function(){return R})),n.d(e,"l",(function(){return H})),n.d(e,"f",(function(){return N})),n.d(e,"m",(function(){return V}));var r=n(1);function o(t,e,n){return Object(r.c)({url:"/tag_api/v1/query_category_list",method:"POST",showError:t,headers:e,jsonBody:n})}function c(t,e,n){return Object(r.c)({url:"/study_api/v1/translate/query_claim",method:"POST",showError:t,headers:e,jsonBody:n})}function l(t,e,n){return Object(r.c)({url:"/study_api/v1/translate/query_user",method:"POST",showError:t,headers:e,jsonBody:n})}function d(t,e,n){return Object(r.c)({url:"/study_api/v1/translate/query_auto_claim",method:"POST",showError:t,headers:e,jsonBody:n})}function h(t,e,n){return Object(r.c)({url:"/study_api/v1/translate/query_all_recommend",method:"POST",showError:t,headers:e,jsonBody:n})}function f(data,t,e,n){return Object(r.c)({url:"/interact_api/v1/digg/cancel",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function m(data,t,e,n){return Object(r.c)({url:"/interact_api/v1/digg/save",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function v(data,t,e,n){return Object(r.c)({url:"/interact_api/v1/follow/undo",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function _(data,t,e,n){return Object(r.c)({url:"/content_api/v1/column/articles_cursor",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function y(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/query_recommend",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function C(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/query_recommend_list",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function w(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/publish_claim",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function O(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/publish_recommend",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function j(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/query_translate",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function k(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/publish_translate",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function T(data,t,e,n){return Object(r.c)({url:"/tag_api/v1/theme/list_by_hot",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function x(data,t,e,n){return Object(r.c)({url:"/recommend_api/v1/short_msg/detail_rec",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function L(data,t,e,n){return Object(r.c)({url:"/recommend_api/v1/short_msg/topic",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function P(data,t,e,n){return Object(r.c)({url:"/list_api/v1/annual/user_annual",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function S(data,t,e,n){return Object(r.c)({url:"/tag_api/v1/query_topic_detail",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function E(data,t,e,n){return Object(r.c)({url:"/interact_api/v1/follow/do",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function A(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/pre_query_status",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function I(data,t,e,n){return Object(r.c)({url:"/content_api/v1/short_msg/list_by_theme",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function D(data,t,e,n){return Object(r.c)({url:"/booklet_api/v1/reading/submit_progress",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function M(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/query_recommend_status",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function B(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/pre_lock_translate",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function $(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/pre_count",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function R(data,t,e,n){return Object(r.c)({url:"/tag_api/v1/topic/list_by_search_cursor",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function H(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/abstain_claim",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function N(data,t,e,n){return Object(r.c)({url:"/interact_api/v1/digg/user_list",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function V(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/pre_audit_translate",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}},873:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));n(83),n(45),n(26),n(19);var r=function(text){try{var textarea=document.createElement("textarea");document.body.appendChild(textarea),textarea.value=text,textarea.select(),document.execCommand("copy"),document.body.removeChild(textarea)}catch(t){throw"copy link error"}};function o(content){if(!(content=(null==content?void 0:content.trim())||""))return"";var t=((null==content?void 0:content.trim())||"").split("\n")[0];return t.length<=30?t:t.substring(0,30)}},874:function(t,e,n){"use strict";n(137);var r=n(48);n(6);function o(t){return new Promise((function(e,n){var img=new window.Image;img.onload=function(){return e({width:img.naturalWidth,height:img.naturalHeight,url:t})},img.onerror=function(){return n()},img.src=t}))}var c=function(){return{loading:!1,loaded:!1,error:!1,src:null,imageStyle:{top:"",left:"",width:"",height:"",transform:""},token:Date.now()}},l={props:["backgroundColor","margin","full"],data:c,methods:{show:function(t){var e=t.thumbUrl,n=t.originalUrl,rect=t.rect;this.loadImage({originalUrl:n,rect:rect}),this.loadTumb({thumbUrl:e,rect:rect})},close:function(){Object.assign(this,c()),this.unlockScroll()},loadTumb:function(t){var e=this,n=t.thumbUrl,rect=t.rect,r=this.token;o(n).then((function(t){if(e.isInSameView(r)&&!e.loaded&&!e.error){var o=e.computeRenderedRect(t.width,t.height);e.applyRect(o),e.src=n,e.applyTransform(e.computeTransform(o,rect))}})).catch((function(t){e.isInSameView(r)&&console.error(t)}))},loadImage:function(t){var e=this,n=t.originalUrl,rect=t.rect,r=this.token;this.loading=!0,o(n).then((function(image){if(e.isInSameView(r)){var t=!!e.src,o=!e.full&&e.isLargeLongImage(image),c=e.computeRenderedRect(image.width,image.height,o);e.applyRect(c),e.src=n,e.loading=!1,e.loaded=!0,o&&e.lockScroll(),t||e.applyTransform(e.computeTransform(c,rect))}})).catch((function(t){e.isInSameView(r)&&(console.error(t),e.loading=!1,e.error=!0)}))},applyRect:function(rect){Object.assign(this.imageStyle,{top:rect.top+"px",left:rect.left+"px",width:rect.width+"px",height:rect.height+"px"})},applyTransform:function(t){var e=this;this.imageStyle.transform=t,this.$nextTick((function(){e.forceReflow(),e.imageStyle.transform=""}))},initScrollEventListener:function(){var t=this,e=this.$getBean("eventBus"),n=e.eventType.ROOT_CONTAINER_SCROLL;e.onVmLife(this,n,(function(){t.src&&t.close()}))},computeRenderedRect:function(t,e,n){var o=Object(r.h)(),c=this.getSafeAreaSize();if(n){var l=Math.min(o.width,t,960),d=l*e/t;return{top:0,left:(o.width-l)/2,width:l,height:d}}var h=t/c.width,f=e/c.height,m=Math.max(h,f,1),v=t/m,_=e/m;return{top:(o.height-_)/2,left:(o.width-v)/2,width:v,height:_}},computeTransform:function(t,rect){var e=rect.width/t.width,n=rect.height/t.height,r=rect.width-t.width,o=rect.height-t.height,c=rect.top-t.top+o/2,l=rect.left-t.left+r/2,d="translate3d(".concat(l,"px, ").concat(c,"px, 0)"),h="scale3d(".concat(e,", ").concat(n,", 1)");return"".concat(d," ").concat(h)},forceReflow:function(){document.body.clientWidth},isInSameView:function(t){return t===this.token},isLargeLongImage:function(image){var t=this.getSafeAreaSize(),e=t.width,n=t.height,r=n/e,o=image.height/image.width,c=o>1&&o>r;return(image.width>e||image.height>n)&&c},getSafeAreaSize:function(){var t=Object(r.h)(),e=t.width,n=t.height;return{width:Math.max(0,e-2*(+this.margin||0)),height:Math.max(0,n-2*(+this.margin||0))}},lockScroll:function(){var t=this.$getBean("eventBus");t.emit(t.eventType.LOCK_ROOT_CONTAINER_SCROLL)},unlockScroll:function(){var t=this.$getBean("eventBus");t.emit(t.eventType.UNLOCK_ROOT_CONTAINER_SCROLL)}},mounted:function(){this.initScrollEventListener()}},d=(n(920),n(30)),h=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"fade"}},[t.src?r("div",{staticClass:"image-viewer",class:{loading:t.loading},on:{click:t.close}},[r("div",{staticClass:"image-box",style:{backgroundColor:t.backgroundColor}},[t.error?r("img",{staticClass:"image error",attrs:{src:n(875)}}):r("img",{staticClass:"image",style:t.imageStyle,attrs:{src:t.src}})])]):t._e()])}),[],!1,null,"10b7b0e6",null).exports,f=n(960),m=n.n(f),v=function(){return{isLargeLongMode:!1,isZoomMode:!1,loading:!1,loaded:!1,error:!1,src:null,offsetX:0,offsetY:0,canZoom:!1,token:Date.now()}},_={props:["backgroundColor","margin","full"],data:v,methods:{show:function(t){var e=t.thumbUrl,n=t.originalUrl,rect=t.rect;this.loadImage({originalUrl:n,rect:rect}),this.loadTumb({thumbUrl:e,rect:rect})},close:function(){this.destroyGesture(),Object.assign(this,v()),this.unlockScroll()},loadTumb:function(t){var e=this,n=t.thumbUrl,r=(t.rect,this.token);o(n).then((function(t){!e.isInSameView(r)||e.loaded||e.error||(e.src=n)})).catch((function(t){e.isInSameView(r)&&console.error(t)}))},loadImage:function(t){var e=this,n=t.originalUrl,r=(t.rect,this.token);this.loading=!0,o(n).then((function(image){if(e.isInSameView(r)){var t=!e.full&&e.isLargeLongImage(image);e.src=n,e.loading=!1,e.loaded=!0,e.isLargeLongMode=t,e.canZoom=e.isLargeImage(image),e.initGesture(),e.isLargeLongMode&&e.lockScroll()}})).catch((function(t){e.isInSameView(r)&&(console.error(t),e.loading=!1,e.error=!0)}))},isInSameView:function(t){return t===this.token},isLargeLongImage:function(image){var t=Object(r.h)(),e=t.width,n=t.height,o=n/e,c=image.height/image.width,l=c>1&&c>o;return(image.width>e||image.height>n)&&l},isLargeImage:function(image){var t=Object(r.h)(),e=t.width;return t.height<image.height||e<image.width},lockScroll:function(){var t=this.$getBean("eventBus");t.emit(t.eventType.LOCK_ROOT_CONTAINER_SCROLL)},unlockScroll:function(){var t=this.$getBean("eventBus");t.emit(t.eventType.UNLOCK_ROOT_CONTAINER_SCROLL)},initScrollEventListener:function(){var t=this,e=this.$getBean("eventBus"),n=e.eventType.ROOT_CONTAINER_SCROLL;e.onVmLife(this,n,(function(){t.src&&!t.isZoomMode&&t.close()}))},adjustOffset:function(){var t=Object(r.h)(),e=t.width,n=t.height,rect=this.$refs.image.getBoundingClientRect();rect.width<e?this.offsetX=0:rect.left>0?this.offsetX-=rect.left:rect.left+rect.width<e&&(this.offsetX+=e-rect.left-rect.width),rect.height<n?this.offsetY=0:rect.top>0?this.offsetY-=rect.top:rect.top+rect.height<n&&(this.offsetY+=n-rect.top-rect.height)},initGesture:function(){var t=this;this.$nextTick((function(){t.finger=new m.a(t.$refs.imageBox,{singleTap:function(e){t.isZoomMode?(t.isZoomMode=!1,t.offsetX=0,t.offsetY=0):t.close()},doubleTap:function(e){t.canZoom&&(t.isZoomMode=!t.isZoomMode,t.isZoomMode?t.lockScroll():(t.unlockScroll(),t.offsetX=0,t.offsetY=0))},pressMove:function(e){var n=e.deltaX,r=e.deltaY;t.isZoomMode&&(t.offsetX+=n,t.offsetY+=r)},touchEnd:function(){t.isZoomMode&&window.setTimeout((function(){t.adjustOffset()}),100)}})}))},destroyGesture:function(){this.finger&&this.finger.destroy()}},mounted:function(){this.initScrollEventListener()}},y=(n(921),Object(d.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"fade"}},[t.src?r("div",{staticClass:"image-viewer mobile",class:{loading:t.loading}},[r("div",{ref:"imageBox",staticClass:"image-box",class:{"large-long":t.isLargeLongMode},style:{backgroundColor:t.backgroundColor}},[t.error?r("img",{staticClass:"image error",attrs:{src:n(875)}}):r("img",{ref:"image",staticClass:"image",class:{zoom:t.isZoomMode},style:{transform:"translate3d("+t.offsetX+"px, "+t.offsetY+"px, 0)"},attrs:{src:t.src}})])]):t._e()])}),[],!1,null,"93a27598",null).exports),C=n(271);var w={components:{Desktop:h,Mobile:y},props:["selector","backgroundColor","margin","full"],data:function(){return{component:null}},methods:{attachContainer:function(t){this.container!==t&&(this.removeEventListener(),this.addEventListener(t),this.container=t)},onClick:function(t){var e,n=t.target;if(this.isMatched(n)){var r=(e=n).getAttribute("data-src")||e.getAttribute("src")||function(t){var e=(t.style.backgroundImage||"").match(/url\("?'?(.+?)"?'?\)/i);return e&&e[1]}(e);if(r){var o=Object(C.d)(r),rect=n.getBoundingClientRect();this.$refs.viewer.show({thumbUrl:r,originalUrl:o,rect:rect})}}},addEventListener:function(t){var e=this;t.__removeIamgeViewListener=Object(r.k)(t,"click",(function(t){e.onClick(t)}),!0)},removeEventListener:function(){this.container&&this.container.__removeIamgeViewListener()},isMatched:function(t){return!t.classList.contains("equation")&&!this.$el.contains(t)&&Object(r.j)(t,this.selector||"img")}},mounted:function(){this.component=this.$device.isMobile?"Mobile":"Desktop"},beforeDestroy:function(){this.removeEventListener()}},O=(n(922),Object(d.a)(w,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"image-viewer-box"},[e(this.component,{ref:"viewer",tag:"component",attrs:{selector:this.selector,"background-color":this.backgroundColor,margin:this.margin,full:this.full}})],1)}),[],!1,null,"5ca9a68f",null));e.a=O.exports},875:function(t,e,n){t.exports=n.p+"img/image-error.3338abe.png"},876:function(t,e,n){},877:function(t,e,n){},878:function(t,e,n){},879:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"g",(function(){return c})),n.d(e,"b",(function(){return h})),n.d(e,"f",(function(){return f})),n.d(e,"a",(function(){return m})),n.d(e,"c",(function(){return v})),n.d(e,"e",(function(){return _}));n(45);var r=n(180);function o(t){t.preventDefault(),window.getSelection().deleteFromDocument&&window.getSelection().deleteFromDocument();try{var text=window.clipboardData.getData("Text");try{window.getSelection().createRange().pasteHTML(text)}catch(t){var e=document.createTextNode(text);window.getSelection().getRangeAt(0).insertNode(e)}}catch(e){var n=(t.originalEvent||t).clipboardData.getData("text/plain");document.execCommand("insertText",!1,n)}}function c(t){if(document.createRange){var e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(e)}else if(document.selection){var r=document.body.createTextRange();r.moveToElementText(t),r.collapse(!1),r.select()}}function l(){return"function"==typeof document.createRange||"function"==typeof window.getSelection}function d(){var t=null,e=null;return l?(e=document.getSelection()).getRangeAt&&e.rangeCount&&(t=document.getSelection().getRangeAt(0)):t=document.selection.createRange(),t}function h(html){var text=html;return text=text.replace(/<\s*script[^>]*>[\s\S]*?<\/script>/gim,"").replace(/<\s*style[^>]*>[\s\S]*?<\/style>/gim,"").replace(/<!--.*?-->/gim,"").replace(/<!DOCTYPE.*?>/gi,"").replace(/<\/div>/gi,"").replace(/(<br><div>|<div>|<br>)/gi,"\n").replace(/&nbsp;/gi,"").replace(/<.*?>/gi,"").replace(/&lt;/gi,"<").replace(/&amp;/gi,"&").replace(/&gt;/gi,">").replace(/&#39;/gi,"'").replace(/&quot;/g,'"')}function f(t,e){var n="",r=t.clipboardData.items;if(r){for(var i=0;i<r.length;i++)-1!=r[i].type.indexOf("image")&&(n=r[i].getAsFile());"function"==typeof e&&n&&e(n)}}function m(t){window.getSelection().deleteFromDocument&&window.getSelection().deleteFromDocument();try{return window.clipboardData.getData("Text")}catch(e){return(t.originalEvent||t).clipboardData.getData("text/plain")}}function v(t,html){var e,n,r=d();if(r&&function t(e,n){return!(!n||!e)&&(e===n||t(e,n.parentElement))}(t,r.startContainer)||c(t),t.focus(),window.getSelection){if((e=window.getSelection()).getRangeAt&&e.rangeCount){(n=e.getRangeAt(0)).deleteContents(),(t=document.createElement("div")).innerHTML=html;for(var o,l,h=document.createDocumentFragment();o=t.firstChild;)l=h.appendChild(o);n.insertNode(h),l&&((n=n.cloneRange()).setStartAfter(l),n.collapse(!0),e.removeAllRanges(),e.addRange(n))}}else document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(html)}function _(t){var e=d(),n=e.startContainer;if(3===n.nodeType){for(var text=n.nodeValue,o=e.startOffset-1,c=e.endOffset-1,h=[];o>=0;){if("["===text[o]){h[0]=o;break}o--}for(;c<=text.length-1;){if("]"===text[c]){h[1]=c;break}c++}if(void 0!==h[0]&&void 0!==h[1]){var f=text.slice(h[0],h[1]+1),m=Object(r.c)(f);if(m){var _=document.createRange();_.setStart(n,h[0]),_.setEnd(n,h[1]+1),function(t){if(t){var e=null,n=null;l?((n=document.getSelection()).removeAllRanges(),n.addRange(t)):((e=document.selection.createRange()).setEndPoint("EndToEnd",t),0===t.text.length?e.collapse(!1):e.setEndPoint("StartToStart",t),e.select())}}(_),v(t,m)}}}}},880:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(906),o=n.n(r);function c(content){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000000",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:410,svg=new o.a({content:content,color:t,padding:0,width:e,height:e,background:"#ffffff",ecl:"L"}).svg();return"data:image/svg+xml;utf8,".concat(encodeURIComponent(svg))}},882:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(11),n(52),n(6),n(24);var r=n(5),o=n(1);function c(t,e){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(regeneratorRuntime.mark((function t(e,o){var c,l,f,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.e(42).then(n.t.bind(null,1005,7));case 3:return c=t.sent,l=c.default,t.next=7,d();case 7:return f=t.sent,m=function(t){return new Promise((function(n,r){var o=new l({userId:e,appId:2608,imageConfig:{serviceId:"k3u1fbpfcp"}}),c=o.addFile({file:t,stsToken:f,type:"image"});o.start(c),o.on("complete",(function(t){n(t.uploadResult)})),o.on("error",(function(t){console.log(t.extra,"bytedUploader Error"),r(t.extra)}))}))},t.next=11,Promise.all(o.map(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:return n=t.sent,r=n.ImageHeight,o=n.ImageWidth,c=n.Uri,t.next=8,h(c);case 8:return l=t.sent,t.abrupt("return",{ImageHeight:r,ImageWidth:o,Uri:c,Url:l.data.main_url});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 11:return t.abrupt("return",t.sent);case 14:throw t.prev=14,t.t0=t.catch(0),new Error("上传图片失败");case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))).apply(this,arguments)}function d(){return Object(o.e)({url:"/imagex/gen_token",query:{client:"web"}}).then((function(t){return t.data.token}))}function h(t){return Object(o.e)({url:"/imagex/get_img_url",query:{uri:t}})}},884:function(t,e,n){"use strict";var r=n(8),o=n(910),c=n.n(o),l=Object(r.d)({props:{label:String,icon:String},setup:function(){return{defaultIcon:c.a}}}),d=(n(911),n(30)),component=Object(d.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"empty-box"},[e("img",{attrs:{src:this.icon||this.defaultIcon}}),this._v(" "),e("div",{staticClass:"empty-text"},[this._t("default",[e("span",[this._v(this._s(this.label||"这里什么都没有"))])])],2)])}),[],!1,null,"516408cd",null);e.a=component.exports},885:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"a",(function(){return d}));var r=["jpg","jpeg","png","gif","webp"],o=5242880,c=9,l=1e3,d=["jpg","png","gif"]},886:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l}));n(44),n(55);var r=n(17),o={left:[{id:0,title:"综合"},{id:2,title:"文章"},{id:12,title:"课程"},{id:9,title:"标签"},{id:1,title:"用户"}],right:[{id:0,title:"时间不限"},{id:1,title:"最近一天"},{id:2,title:"最近一周"},{id:3,title:"最近三月"}]},c=function(){return document.referrer.includes("/search")},l=function(){if(!c())return{};try{var t=sessionStorage.getItem("SEARCH_PARAMS"),e=JSON.parse(t),n=e.query,o=e.search_attached_info,l=void 0===o?"":o,d=e.rank,h=e.display_search_type;return{query:n,detail_from:r.g.Search,search_attached_info:l,rank:d,display_search_type:h}}catch(t){return{}}}},888:function(t,e,n){t.exports=n.p+"c5c64e06a56896da43c1d084d2482cf3.svg"},889:function(t,e,n){t.exports=n.p+"bd960fe696b2c2b82cea3c0e2e2f2aae.svg"},890:function(t,e,n){t.exports=n.p+"062856d97fc330530a3a64c01d915edc.svg"},891:function(t,e,n){t.exports=n.p+"img/loading.b144729.png"},892:function(t,e,n){t.exports=n.p+"img/loading-light.e96acb8.png"},893:function(t,e,n){"use strict";n(869)},894:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(39),n(22),n(23),n(426),n(6);var r=[{name:"jpg",regx:/^ffd8ff/},{name:"gif",regx:/^474946/},{name:"png",regx:/89504e47/},{name:"webp",regx:/57454250/},{name:"bmp",regx:/^424d/},{name:"any",regx:/./}];function o(t,e){return function(t){return new Promise((function(e,n){var r=new FileReader;r.onload=function(t){return e(t.target.result)},r.onerror=function(t){return n(t)},r.readAsArrayBuffer(t.slice(0,64))}))}(t).then(c).then(l.bind(null,e))}function c(t){return Array.prototype.slice.call(new Uint8Array(t)).reduce((function(t,data){return t+data.toString(16)}),"")}function l(t,header){for(var i=0;i<r.length;i++)if(r[i].regx.test(header))return-1!==t.indexOf(r[i].name);return!1}},905:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));n(136),n(22),n(23),n(6);function r(){return"_"+Math.random().toString(36).substr(2,9)+Date.now().toString(36)}function o(t){return/[a-zA-Z]/.test(t)&&/[0-9]/.test(t)||24===t.length&&t.startsWith("59")}},906:function(t,e,n){function r(data){this.mode=c.MODE_8BIT_BYTE,this.data=data,this.parsedData=[];for(var i=0,t=this.data.length;i<t;i++){var e=[],code=this.data.charCodeAt(i);code>65536?(e[0]=240|(1835008&code)>>>18,e[1]=128|(258048&code)>>>12,e[2]=128|(4032&code)>>>6,e[3]=128|63&code):code>2048?(e[0]=224|(61440&code)>>>12,e[1]=128|(4032&code)>>>6,e[2]=128|63&code):code>128?(e[0]=192|(1984&code)>>>6,e[1]=128|63&code):e[0]=code,this.parsedData.push(e)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function o(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}r.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var i=0,e=this.parsedData.length;i<e;i++)t.put(this.parsedData[i],8)}},o.prototype={addData:function(data){var t=new r(data);this.dataList.push(t),this.dataCache=null},isDark:function(t,col){if(t<0||this.moduleCount<=t||col<0||this.moduleCount<=col)throw new Error(t+","+col);return this.modules[t][col]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++)this.modules[n][col]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,col){for(var e=-1;e<=7;e++)if(!(t+e<=-1||this.moduleCount<=t+e))for(var n=-1;n<=7;n++)col+n<=-1||this.moduleCount<=col+n||(this.modules[t+e][col+n]=0<=e&&e<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==e||6==e)||2<=e&&e<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var t=0,pattern=0,i=0;i<8;i++){this.makeImpl(!0,i);var e=k.getLostPoint(this);(0==i||t>e)&&(t=e,pattern=i)}return pattern},createMovieClip:function(t,e,n){var r=t.createEmptyMovieClip(e,n);this.make();for(var o=0;o<this.modules.length;o++)for(var c=1*o,col=0;col<this.modules[o].length;col++){var l=1*col;this.modules[o][col]&&(r.beginFill(0,100),r.moveTo(l,c),r.lineTo(l+1,c),r.lineTo(l+1,c+1),r.lineTo(l,c+1),r.endFill())}return r},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=k.getPatternPosition(this.typeNumber),i=0;i<t.length;i++)for(var e=0;e<t.length;e++){var n=t[i],col=t[e];if(null==this.modules[n][col])for(var r=-2;r<=2;r++)for(var o=-2;o<=2;o++)this.modules[n+r][col+o]=-2==r||2==r||-2==o||2==o||0==r&&0==o}},setupTypeNumber:function(t){for(var e=k.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var n=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(i=0;i<18;i++){n=!t&&1==(e>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(t,e){for(var data=this.errorCorrectLevel<<3|e,n=k.getBCHTypeInfo(data),i=0;i<15;i++){var r=!t&&1==(n>>i&1);i<6?this.modules[i][8]=r:i<8?this.modules[i+1][8]=r:this.modules[this.moduleCount-15+i][8]=r}for(i=0;i<15;i++){r=!t&&1==(n>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=r:i<9?this.modules[8][15-i-1+1]=r:this.modules[8][15-i-1]=r}this.modules[this.moduleCount-8][8]=!t},mapData:function(data,t){for(var e=-1,n=this.moduleCount-1,r=7,o=0,col=this.moduleCount-1;col>0;col-=2)for(6==col&&col--;;){for(var c=0;c<2;c++)if(null==this.modules[n][col-c]){var l=!1;o<data.length&&(l=1==(data[o]>>>r&1)),k.getMask(t,n,col-c)&&(l=!l),this.modules[n][col-c]=l,-1==--r&&(o++,r=7)}if((n+=e)<0||this.moduleCount<=n){n-=e,e=-e;break}}}},o.PAD0=236,o.PAD1=17,o.createData=function(t,e,n){for(var r=L.getRSBlocks(t,e),c=new P,i=0;i<n.length;i++){var data=n[i];c.put(data.mode,4),c.put(data.getLength(),k.getLengthInBits(data.mode,t)),data.write(c)}var l=0;for(i=0;i<r.length;i++)l+=r[i].dataCount;if(c.getLengthInBits()>8*l)throw new Error("code length overflow. ("+c.getLengthInBits()+">"+8*l+")");for(c.getLengthInBits()+4<=8*l&&c.put(0,4);c.getLengthInBits()%8!=0;)c.putBit(!1);for(;!(c.getLengthInBits()>=8*l||(c.put(o.PAD0,8),c.getLengthInBits()>=8*l));)c.put(o.PAD1,8);return o.createBytes(c,r)},o.createBytes=function(t,e){for(var n=0,r=0,o=0,c=new Array(e.length),l=new Array(e.length),d=0;d<e.length;d++){var h=e[d].dataCount,f=e[d].totalCount-h;r=Math.max(r,h),o=Math.max(o,f),c[d]=new Array(h);for(var i=0;i<c[d].length;i++)c[d][i]=255&t.buffer[i+n];n+=h;var m=k.getErrorCorrectPolynomial(f),v=new x(c[d],m.getLength()-1).mod(m);l[d]=new Array(m.getLength()-1);for(i=0;i<l[d].length;i++){var _=i+v.getLength()-l[d].length;l[d][i]=_>=0?v.get(_):0}}var y=0;for(i=0;i<e.length;i++)y+=e[i].totalCount;var data=new Array(y),C=0;for(i=0;i<r;i++)for(d=0;d<e.length;d++)i<c[d].length&&(data[C++]=c[d][i]);for(i=0;i<o;i++)for(d=0;d<e.length;d++)i<l[d].length&&(data[C++]=l[d][i]);return data};for(var c={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l=1,d=0,h=3,f=2,m=0,v=1,_=2,y=3,C=4,w=5,O=6,j=7,k={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(data){for(var t=data<<10;k.getBCHDigit(t)-k.getBCHDigit(k.G15)>=0;)t^=k.G15<<k.getBCHDigit(t)-k.getBCHDigit(k.G15);return(data<<10|t)^k.G15_MASK},getBCHTypeNumber:function(data){for(var t=data<<12;k.getBCHDigit(t)-k.getBCHDigit(k.G18)>=0;)t^=k.G18<<k.getBCHDigit(t)-k.getBCHDigit(k.G18);return data<<12|t},getBCHDigit:function(data){for(var t=0;0!=data;)t++,data>>>=1;return t},getPatternPosition:function(t){return k.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,i,e){switch(t){case m:return(i+e)%2==0;case v:return i%2==0;case _:return e%3==0;case y:return(i+e)%3==0;case C:return(Math.floor(i/2)+Math.floor(e/3))%2==0;case w:return i*e%2+i*e%3==0;case O:return(i*e%2+i*e%3)%2==0;case j:return(i*e%3+(i+e)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var a=new x([1],0),i=0;i<t;i++)a=a.multiply(new x([1,T.gexp(i)],0));return a},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case c.MODE_NUMBER:return 10;case c.MODE_ALPHA_NUM:return 9;case c.MODE_8BIT_BYTE:case c.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case c.MODE_NUMBER:return 12;case c.MODE_ALPHA_NUM:return 11;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case c.MODE_NUMBER:return 14;case c.MODE_ALPHA_NUM:return 13;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r++)for(var col=0;col<e;col++){for(var o=0,c=t.isDark(r,col),l=-1;l<=1;l++)if(!(r+l<0||e<=r+l))for(var d=-1;d<=1;d++)col+d<0||e<=col+d||0==l&&0==d||c==t.isDark(r+l,col+d)&&o++;o>5&&(n+=3+o-5)}for(r=0;r<e-1;r++)for(col=0;col<e-1;col++){var h=0;t.isDark(r,col)&&h++,t.isDark(r+1,col)&&h++,t.isDark(r,col+1)&&h++,t.isDark(r+1,col+1)&&h++,0!=h&&4!=h||(n+=3)}for(r=0;r<e;r++)for(col=0;col<e-6;col++)t.isDark(r,col)&&!t.isDark(r,col+1)&&t.isDark(r,col+2)&&t.isDark(r,col+3)&&t.isDark(r,col+4)&&!t.isDark(r,col+5)&&t.isDark(r,col+6)&&(n+=40);for(col=0;col<e;col++)for(r=0;r<e-6;r++)t.isDark(r,col)&&!t.isDark(r+1,col)&&t.isDark(r+2,col)&&t.isDark(r+3,col)&&t.isDark(r+4,col)&&!t.isDark(r+5,col)&&t.isDark(r+6,col)&&(n+=40);var f=0;for(col=0;col<e;col++)for(r=0;r<e;r++)t.isDark(r,col)&&f++;return n+=10*(Math.abs(100*f/e/e-50)/5)}},T={glog:function(t){if(t<1)throw new Error("glog("+t+")");return T.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return T.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},i=0;i<8;i++)T.EXP_TABLE[i]=1<<i;for(i=8;i<256;i++)T.EXP_TABLE[i]=T.EXP_TABLE[i-4]^T.EXP_TABLE[i-5]^T.EXP_TABLE[i-6]^T.EXP_TABLE[i-8];for(i=0;i<255;i++)T.LOG_TABLE[T.EXP_TABLE[i]]=i;function x(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var i=0;i<t.length-n;i++)this.num[i]=t[i+n]}function L(t,e){this.totalCount=t,this.dataCount=e}function P(){this.buffer=[],this.length=0}x.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<t.getLength();n++)e[i+n]^=T.gexp(T.glog(this.get(i))+T.glog(t.get(n)));return new x(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=T.glog(this.get(0))-T.glog(t.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<t.getLength();i++)n[i]^=T.gexp(T.glog(t.get(i))+e);return new x(n,0).mod(t)}},L.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],L.getRSBlocks=function(t,e){var n=L.getRsBlockTable(t,e);if(null==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var r=n.length/3,o=[],i=0;i<r;i++)for(var c=n[3*i+0],l=n[3*i+1],d=n[3*i+2],h=0;h<c;h++)o.push(new L(l,d));return o},L.getRsBlockTable=function(t,e){switch(e){case l:return L.RS_BLOCK_TABLE[4*(t-1)+0];case d:return L.RS_BLOCK_TABLE[4*(t-1)+1];case h:return L.RS_BLOCK_TABLE[4*(t-1)+2];case f:return L.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},P.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var S=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function E(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof t&&(t={content:t}),t)for(var i in t)this.options[i]=t[i];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var content=this.options.content,e=function(content,t){for(var e=function(content){var t=encodeURI(content).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=content?3:0)}(content),n=1,r=0,i=0,o=S.length;i<=o;i++){var table=S[i];if(!table)throw new Error("Content too long: expected "+r+" but got "+e);switch(t){case"L":r=table[0];break;case"M":r=table[1];break;case"Q":r=table[2];break;case"H":r=table[3];break;default:throw new Error("Unknwon error correction level: "+t)}if(e<=r)break;n++}if(n>S.length)throw new Error("Content too long");return n}(content,this.options.ecl),n=function(t){switch(t){case"L":return l;case"M":return d;case"Q":return h;case"H":return f;default:throw new Error("Unknwon error correction level: "+t)}}(this.options.ecl);this.qrcode=new o(e,n),this.qrcode.addData(content),this.qrcode.make()}E.prototype.svg=function(t){void 0===t&&(t={container:"svg"});for(var e=this.options,n=this.qrcode.modules,r=e.width,o=e.height,c=n.length,l=r/(c+2*e.padding),d=o/(c+2*e.padding),rect='<rect x="0" y="0" width="'+r+'" height="'+o+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>\r\n',h=0;h<c;h++)for(var f=0;f<c;f++){if(n[f][h])rect+='<rect x="'+(f*l+e.padding*l).toString()+'" y="'+(h*d+e.padding*d).toString()+'" width="'+l+'" height="'+d+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>\r\n'}var svg="";switch(t.container){case"svg":svg+='<?xml version="1.0" standalone="yes"?>\r\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+r+'" height="'+o+'">\r\n',svg+=rect,svg+="</svg>";break;case"g":svg+='<g width="'+r+'" height="'+o+'">\r\n',svg+=rect,svg+="</g>";break;default:svg+=rect}return svg},E.prototype.save=function(t,e){var data=this.svg();n(923).writeFile(t,data,e)},t.exports=E},907:function(t,e,n){},908:function(t,e,n){},909:function(t,e,n){},910:function(t,e,n){t.exports=n.p+"ed038d31a0ab338af3a27716116e762f.svg"},911:function(t,e,n){"use strict";n(871)},912:function(t,e,n){},917:function(t,e,n){"use strict";function r(t,e){if((10==t.keyCode||13==t.keyCode)&&(t.ctrlKey||t.metaKey))return e()}n.d(e,"a",(function(){return r}))},918:function(t,e,n){"use strict";n(970)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},920:function(t,e,n){"use strict";n(876)},921:function(t,e,n){"use strict";n(877)},922:function(t,e,n){"use strict";n(878)},923:function(t,e){},927:function(t,e,n){},928:function(t,e,n){"use strict";var r=n(8),o=n(961),c=n.n(o),l=Object(r.d)({components:{EmotionIcon:c.a,Picker:function(){return n.e(47).then(n.bind(null,4398))}},emits:["selectEmoji"],setup:function(t,e){var n=e.root,o=e.emit,c=Object(r.q)(!1);var l=Object(r.q)(!1),d=Object(r.w)(c,(function(){l.value=!0,d()}));return{once:l,visible:c,toggleShow:function(){var t=n.$store.getters.USER;return t?t.isBindedPhone?void(c.value=!c.value):n.$requestBindPhoneNumber():n.$requestLogin()},hide:function(){c.value=!1},handleChange:function(t){o("selectEmoji",t.source)}}}}),d=(n(962),n(30)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"outer-click",rawName:"v-outer-click",value:t.hide,expression:"hide"}],staticClass:"emoji-container"},[n("div",{staticClass:"emoji-box",class:t.visible&&"active",on:{click:t.toggleShow}},[n("EmotionIcon",{staticClass:"icon"}),t._v(" "),n("span",[t._v("表情")])],1),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.once?n("Picker",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],on:{change:t.handleChange}}):t._e()],1)],1)}),[],!1,null,"9fe533ba",null);e.a=component.exports},929:function(t,e,n){"use strict";var r={props:["user"],computed:{isVisible:function(){if(this.user){var t=this.user.isBindedPhone;return this.user&&!t}return!1}},methods:{bindPhone:function(){this.$requestBindPhoneNumber()}}},o=(n(963),n(30)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auth-card"},[n("transition",{attrs:{name:"fade"}},[t.isVisible?n("div",{staticClass:"auth-cover"},[n("span",{staticClass:"hint"}),t._v("\n      您需要\n      "),n("a",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.bindPhone(e)}}},[t._v("绑定手机号")]),t._v("\n      后才可在社区内发布内容。\n    ")]):t._e()]),t._v(" "),t._t("default")],2)}),[],!1,null,"7c7c7498",null);e.a=component.exports},931:function(t,e,n){"use strict";var r={props:["type"],computed:{title:function(){return"fail"===this.type?"审核未通过":"审核中"},classList:function(){return"fail"===this.type?" audit-fail":"audit-wait"}}},o=(n(969),n(30)),component=Object(o.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("a",{class:["audit-tag",this.classList],attrs:{href:"https://juejin.cn/book/6844733795329900551/section/6876001660431400967",target:"_blank"}},[this._v("\n  "+this._s(this.title)+"\n")])}),[],!1,null,"f289262a",null);e.a=component.exports},933:function(t,e,n){"use strict";n(1004);var r=n(30),component=Object(r.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"container"},[e("em",{staticClass:"triangle"})])}],!1,null,"68da8972",null);e.a=component.exports},941:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return c}));n(45),n(120),n(83),n(22),n(23),n(6);function r(t,e){if(0===t)return 0;var n=function(t,e){var n,r,o=0,c=t.toString(),l=e.toString();try{o+=(null===(n=c.split(".")[1])||void 0===n?void 0:n.length)||0}catch(t){console.error(t)}try{o+=(null===(r=l.split(".")[1])||void 0===r?void 0:r.length)||0}catch(t){console.error(t)}c=Number(c.replace(".","")),l=Number(l.replace(".",""));var d=c*l/Math.pow(10,o),h=e>0?.01:0;return Math.max(h,d)}(t,isNaN(e)?1:e/10);return 0===n?0:n.toFixed(2)}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startTime:0,endTime:0},e=t.startTime,n=t.endTime,time=(new Date).getTime();return time>e&&time<n}function c(t){if(t<0||!t)return"0秒";if(0<=t&&t<60)return t+"秒";var e=Math.floor(t/60),s=Math.floor(t%60);return s>0?e+"分"+s+"秒":e+"分"}},954:function(t,e,n){},955:function(t,e,n){},956:function(t,e,n){},959:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c}));var r=n(7);function o(){var t=Object(r.c)();return{openReportModal:function(e,n){if(t){var r=t.proxy.$getBean("eventBus");r.emit(r.eventType.REPORT_CONTENT,e,n)}}}}function c(){var t=Object(r.l)({visible:!1,show:!1});return{reportModalData:t,showReportModal:function(e,n){t.show||(t.show=!0),t.visible=!0,t.itemId=e,t.idType=n}}}},960:function(t,e,n){!function(){function e(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function n(t,n){var r=function(t,n){var r=e(t)*e(n);if(0===r)return 0;var o=function(t,e){return t.x*e.x+t.y*e.y}(t,n)/r;return o>1&&(o=1),Math.acos(o)}(t,n);return function(t,e){return t.x*e.y-e.x*t.y}(t,n)>0&&(r*=-1),180*r/Math.PI}var r=function(t){this.handlers=[],this.el=t};function o(t,e){var n=new r(t);return n.add(e),n}r.prototype.add=function(t){this.handlers.push(t)},r.prototype.del=function(t){t||(this.handlers=[]);for(var i=this.handlers.length;i>=0;i--)this.handlers[i]===t&&this.handlers.splice(i,1)},r.prototype.dispatch=function(){for(var i=0,t=this.handlers.length;i<t;i++){var e=this.handlers[i];"function"==typeof e&&e.apply(this.el,arguments)}};var c=function(t,option){this.element="string"==typeof t?document.querySelector(t):t,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var e=function(){};this.rotate=o(this.element,option.rotate||e),this.touchStart=o(this.element,option.touchStart||e),this.multipointStart=o(this.element,option.multipointStart||e),this.multipointEnd=o(this.element,option.multipointEnd||e),this.pinch=o(this.element,option.pinch||e),this.swipe=o(this.element,option.swipe||e),this.tap=o(this.element,option.tap||e),this.doubleTap=o(this.element,option.doubleTap||e),this.longTap=o(this.element,option.longTap||e),this.singleTap=o(this.element,option.singleTap||e),this.pressMove=o(this.element,option.pressMove||e),this.twoFingerPressMove=o(this.element,option.twoFingerPressMove||e),this.touchMove=o(this.element,option.touchMove||e),this.touchEnd=o(this.element,option.touchEnd||e),this.touchCancel=o(this.element,option.touchCancel||e),this._cancelAllHandler=this.cancelAll.bind(this),window.removeEventListener("scroll",this._cancelAllHandler),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}};c.prototype={start:function(t){if(t.touches){this.now=Date.now(),this.x1=t.touches[0].pageX,this.y1=t.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(t,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var n=this.preV;if(t.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var r={x:t.touches[1].pageX-this.x1,y:t.touches[1].pageY-this.y1};n.x=r.x,n.y=r.y,this.pinchStartLen=e(n),this.multipointStart.dispatch(t,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(t,this.element),this._preventTap=!0}.bind(this),750)}},move:function(t){if(t.touches){var r=this.preV,o=t.touches.length,c=t.touches[0].pageX,l=t.touches[0].pageY;if(this.isDoubleTap=!1,o>1){var d=t.touches[1].pageX,h=t.touches[1].pageY,f={x:t.touches[1].pageX-c,y:t.touches[1].pageY-l};null!==r.x&&(this.pinchStartLen>0&&(t.zoom=e(f)/this.pinchStartLen,this.pinch.dispatch(t,this.element)),t.angle=n(f,r),this.rotate.dispatch(t,this.element)),r.x=f.x,r.y=f.y,null!==this.x2&&null!==this.sx2?(t.deltaX=(c-this.x2+d-this.sx2)/2,t.deltaY=(l-this.y2+h-this.sy2)/2):(t.deltaX=0,t.deltaY=0),this.twoFingerPressMove.dispatch(t,this.element),this.sx2=d,this.sy2=h}else null!==this.x2?(t.deltaX=c-this.x2,t.deltaY=l-this.y2):(t.deltaX=0,t.deltaY=0),this.pressMove.dispatch(t,this.element);this.touchMove.dispatch(t,this.element),this._cancelLongTap(),this.x2=c,this.y2=l,o>1&&t.preventDefault()}},end:function(t){if(t.changedTouches){this._cancelLongTap();var e=this;t.touches.length<2&&(this.multipointEnd.dispatch(t,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(t.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout((function(){e.swipe.dispatch(t,e.element)}),0)):(this.tapTimeout=setTimeout((function(){e._preventTap||e.tap.dispatch(t,e.element),e.isDoubleTap&&(e.doubleTap.dispatch(t,e.element),clearTimeout(e.singleTapTimeout),e.isDoubleTap=!1)}),0),e.isDoubleTap||(e.singleTapTimeout=setTimeout((function(){e.singleTap.dispatch(t,e.element)}),250))),this.touchEnd.dispatch(t,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}},cancelAll:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)},cancel:function(t){this.cancelAll(),this.touchCancel.dispatch(t,this.element)},_cancelLongTap:function(){clearTimeout(this.longTapTimeout)},_cancelSingleTap:function(){clearTimeout(this.singleTapTimeout)},_swipeDirection:function(t,e,n,r){return Math.abs(t-e)>=Math.abs(n-r)?t-e>0?"Left":"Right":n-r>0?"Up":"Down"},on:function(t,e){this[t]&&this[t].add(e)},off:function(t,e){this[t]&&this[t].del(e)},destroy:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,null}},t.exports=c}()},961:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.00002 0.666504C12.0501 0.666504 15.3334 3.94975 15.3334 7.99984C15.3334 12.0499 12.0501 15.3332 8.00002 15.3332C3.94993 15.3332 0.666687 12.0499 0.666687 7.99984C0.666687 3.94975 3.94993 0.666504 8.00002 0.666504ZM8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2ZM10.6667 5.66667V7.66667H9.33333V5.66667H10.6667ZM6.66667 5.66667V7.66667H5.33333V5.66667H6.66667ZM10.0767 9.33333H11.0495C11.1804 9.33333 11.2866 9.43951 11.2866 9.57048C11.2866 9.60754 11.2779 9.64409 11.2612 9.67718L11.244 9.71053C10.6294 10.8739 9.40726 11.6667 7.99998 11.6667C6.61523 11.6667 5.40977 10.8991 4.7859 9.76612L4.73786 9.67593C4.67845 9.56052 4.72385 9.4188 4.83926 9.35939C4.87253 9.34226 4.90941 9.33333 4.94683 9.33333H5.92347C6.02396 9.33332 6.11908 9.37865 6.18238 9.4567C6.26207 9.55496 6.32833 9.62955 6.38117 9.68046C6.80074 10.0847 7.37133 10.3333 7.99998 10.3333C8.63289 10.3333 9.20694 10.0814 9.62728 9.67224C9.67791 9.62296 9.74135 9.55121 9.8176 9.45698C9.88089 9.37877 9.97611 9.33333 10.0767 9.33333Z"}})]))}}},962:function(t,e,n){"use strict";n(907)},963:function(t,e,n){"use strict";n(908)},965:function(t,e,n){"use strict";n.d(e,"c",(function(){return y})),n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return w}));var r=n(1092),o=n.n(r),c=n(1093),l=n.n(c),d=n(1094),h=n.n(d),f=n(1095),m=n.n(f),v=n(1096),_=n.n(v),y=function(s){return s.attributes["*"].push("data*"),s},C=["arduino","bash","c","cpp","csharp","css","diff","go","ini","java","javascript","json","kotlin","less","lua","makefile","markdown","objectivec","perl","php","phpTemplate","plaintext","python","pythonRepl","r","ruby","rust","scss","shell","sql","swift","typescript","vbnet","xml","yaml","html","dart","scala","vbscript","erlang","matlab"],w={vbscript:o.a,erlang:l.a,matlab:h.a,dart:m.a,scala:_.a}},969:function(t,e,n){"use strict";n(909)},973:function(t,e,n){t.exports=n.p+"img/auditing-placeholder.1726838.png"},974:function(t,e,n){t.exports=n.p+"img/auditing-placeholder-mobile.7c24b8f.png"},975:function(t,e,n){t.exports=n.p+"img/loading-placeholder.9112506.png"},976:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAq4AAAMMAQMAAACokrcUAAAABlBMVEUTGiQYIS3+UMXuAAAAgElEQVR42uzMMQ0AAAwCsPnXTMJU8LUCel2IVqvVarVarVar1Wq1Wq1Wq9VqtVqtVqvVttqFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPDtwSEBAAAAgKD/r11hAwAAAAAAAGATjapzHPFOaqgAAAAASUVORK5CYII="},977:function(t,e,n){"use strict";n(912)}}]);